<?xml version="1.0" encoding="UTF-8"?><i><chatserver>chat.bilibili.com</chatserver><chatid>4335759</chatid><mission>0</mission><maxlimit>1000</maxlimit><source>k-v</source>
<d p="0.20000000298023,8,25,16777215,1440123557,2,0823e18c,1132361397">//0.2
var TTTlife = 8.3;
var totalLife = 7.6;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:TTTlife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:TTTlife});
var edge = $.createCanvas({parent:main_basic, lifeTime:TTTlife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}

	var bas = $.createShape({parent:basic, lifeTime:TTTlife});
		bas.graphics.beginFill(0);
		bas.graphics.drawRect(-300, -200, 600, 400);
		bas.graphics.endFill;
	
	var baswall = $.createShape({x:0, y:0, parent:basic, lifeTime:totalLife});
		baswall.graphics.beginFill(0xBBBBBB);
		baswall.graphics.lineStyle(4, 0x777777);
		baswall.graphics.drawRect(-250, -140, 500, 280);
		baswall.graphics.drawRect(-100, -110, 200, 220);
		baswall.graphics.endFill;
	
	var msk2 = $.createShape({x:0, y:0, alpha:1, lifeTime:totalLife, parent:basic, motion:{alpha:{fromValue:1,toValue:0,lifeTime:5,startDelay:3000}}});
		msk2.graphics.beginFill(0);
		msk2.graphics.drawRect(-300, -200, 600, 480);
		msk2.graphics.endFill;

	var exitsign = $.createCanvas({x:0, y:0, alpha:0, lifeTime:totalLife, parent:basic, motionGroup:[{alpha:{fromValue:0,toValue:1,lifeTime:1}}, {alpha:{fromValue:1,toValue:0,lifeTime:1}}, {alpha:{fromValue:0,toValue:1,lifeTime:1}}, {alpha:{fromValue:1,toValue:0,lifeTime:1}}, {alpha:{fromValue:0,toValue:1,lifeTime:1}}, {alpha:{fromValue:1,toValue:0,lifeTime:1}}, {alpha:{fromValue:0,toValue:1,lifeTime:1}}, {alpha:{fromValue:1,toValue:0,lifeTime:1}}]});
	var bas = $.createShape({x:0, y:0, lifeTime:totalLife, parent:exitsign});//绿底
		bas.graphics.beginFill(0x00CC00);
		bas.graphics.lineStyle(3, 0xFFFFFF, 1, true, "normal", "square", "bevel");
		bas.graphics.drawRoundRect(-65, -20, 130, 40, 10, 10);
		bas.graphics.endFill;
		bas.filters=[$.createGlowFilter(0x00BB00, 0.5, 50, 50)];
	var exit = $.createComment("EXIT", {x:-60, y:-13, lifeTime:totalLife, color:0xFFFFFF, forntSize:26, parent:exitsign});
		exit.filters = null;
		size = 0.15;
	var people = $.createShape({x:15, y:0, lifeTime:totalLife, parent:exitsign});
		people.graphics.beginFill(0xFFFFFF);
			people.graphics.drawCircle(10*size, -79*size, 21*size);
			people.graphics.moveTo(0, -50*size);
			people.graphics.lineTo(-40*size, -50*size);
			people.graphics.lineTo(-80*size, -10*size);
			people.graphics.lineTo(-63*size, 7*size);
			people.graphics.lineTo(-32*size, -26*size);
			people.graphics.lineTo(-22*size, -26*size);
			people.graphics.lineTo(-40*size, 20*size);
			people.graphics.lineTo(-40*size, 50*size);
			people.graphics.lineTo(-80*size, 50*size);
			people.graphics.lineTo(-80*size, 75*size);
			people.graphics.lineTo(-11*size, 75*size);
			people.graphics.lineTo(-11*size, 35*size);
			people.graphics.lineTo(49*size, 100*size);
			people.graphics.lineTo(70*size, 78*size);
			people.graphics.lineTo(15*size, 20*size);
			people.graphics.lineTo(25*size, -14*size);
			people.graphics.lineTo(45*size, 10*size);
			people.graphics.lineTo(80*size, 10*size);
			people.graphics.lineTo(80*size, -10*size);
			people.graphics.lineTo(65*size, -10*size);
			people.graphics.lineTo(30*size, -50*size);
			people.graphics.lineTo(0, -50*size);
			people.graphics.endFill;
	var row = $.createShape({x:55, y:0, lifeTime:totalLife, parent:exitsign});
		row.graphics.lineStyle(6, 0xFFFFFF, 1, false, "normal", "none", "bevel");
		row.graphics.moveTo(-25, 0);
		row.graphics.lineTo(-3, 0);
		row.graphics.moveTo(-12, 12);
		row.graphics.lineStyle(4, 0xFFFFFF, 1, false, "normal", "none", "bevel");
		row.graphics.lineTo(0, 0);
		row.graphics.lineTo(-12, -12);
		row.graphics.endFill;
	

	var door = $.createCanvas({x:-100, y:0, parent:basic, alpha:0, lifeTime:totalLife, motionGroup:[{alpha:{fromValue:0,toValue:1,lifeTime:2,startDelay:3000}, rotationY:{fromValue:90,toValue:90,lifeTime:2,startDelay:3000}}, {rotationY:{fromValue:90,toValue:0,lifeTime:totalLife-5}}]});
	var door_bas = $.createShape({x:0, y:0, lifeTime:totalLife, parent:door});
		door_bas.graphics.beginFill(0xFFFFFF);
		door_bas.graphics.lineStyle(3, 0x777777);
		door_bas.graphics.drawRect(0, -110, 200, 220);
		door_bas.graphics.endFill;
	var handle = $.createShape({x:0, y:0, lifeTime:totalLife, parent:door});
		handle.graphics.beginFill(0x7777777);
		handle.graphics.drawRect(148, -8, 16, 16);
		handle.graphics.endFill;

	var msk = $.createShape({x:0, y:0, lifeTime:totalLife, parent:basic});
		msk.graphics.beginFill(0);
		msk.graphics.drawRect(-300, -200, 600, 480);
		msk.graphics.drawEllipse(-180, -120, 360, 240);
		msk.graphics.endFill;
	msk.filters=[$.createGlowFilter(0x000000, 0.5, 64, 32, 2, 6, false, false), $.createBlurFilter(128, 64)];


crtMask(0);</d>
<d p="8.3000001907349,8,25,16777215,1440123572,2,0823e18c,1132362251">//8.3

var totalLife = 17.2;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}
function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}
	
var a1 = -190;
var a2 = 190;
var b0 = -88;
var b1 = 88;
var a0 = -284;
var a3 = 284;

function crtTrapezium(x0, y0, x1, y1, x2, y2, x3, y3, delay, last, cl, al, par){
	timer(function(){
	var shp = $.createShape({lifeTime:last, parent:par});
		shp.graphics.beginFill(cl, al);
		shp.graphics.moveTo(x0, y0);
		shp.graphics.lineTo(x1, y1);
		shp.graphics.lineTo(x2, y2);
		shp.graphics.lineTo(x3, y3);
		shp.graphics.lineTo(x0, y0);
		shp.graphics.endFill;
		}, delay);
	}
function crtWall(delay, life, type, par){
	//186*176
	timer(function(){
		var c0, c1;
		switch(type){
			case "left": x0 = -190; c0 = 0x777777; c1 = 0xBBBBBB; break;
			case "right": x0 = 0; c0 = 0xBBBBBB; c1 = 0x777777; break;
		}
		var wall = $.createShape({x:x0, y:-88, parent:par, lifeTime:life});
			wall.graphics.beginFill(c0);
			wall.graphics.drawRect(0, 0, 190, 176);
			wall.graphics.lineStyle(3, c1);
			wall.graphics.drawRect(46, 34, 98, 108);
			wall.graphics.endFill;
		}, delay);
	}
function crtDoor(delay, life, type, par){
	//98*108描点在轴中央
	timer(function(){
		var c, i;
		switch(type){
			case "left":i = -1; c = 0xBBBBBB; break;
			case "right":i = 1; c = 0x777777; break;
		}
		var door = $.createCanvas({x:46*i, y:0, parent:par, lifeTime:life});
		var door_bas = $.createShape({lifeTime:life, parent:door});
			door_bas.graphics.lineStyle(3, c, 1);
			door_bas.graphics.beginFill(0xFFFFFF);
			door_bas.graphics.moveTo(0, 54);
			door_bas.graphics.lineTo(98*i, 54);
			door_bas.graphics.lineTo(98*i, -54);
			door_bas.graphics.lineTo(0, -54);
			door_bas.graphics.lineTo(0, 54);
			door_bas.graphics.endFill;
		var handle = $.createShape({lifeTime:life, parent:door});
			handle.graphics.beginFill(c);
			handle.graphics.drawRect(78*i-4, -4, 8, 8);
			handle.graphics.endFill;
		}, delay);
	}
function crtRoom(delay, life, par){
	var room = $.createCanvas({lifeTime:life, parent:par});
	crtTrapezium(a0, 140, a1, b1, a1, b0, a0, -140, delay, life, 0xBBBBBB, 1, room);//左
	crtTrapezium(a2, b1, a3, 140, a3, -140, a2, b0, delay, life, 0x777777, 1, room);//右
	crtTrapezium(a1, b0, a2, b0, a3, -140, a0, -140, delay, life, 0xFFFFFF, 1, room);//上
	crtTrapezium(a0, 140, a3, 140, a2, b1, a1, b1, delay, life, 0xFFFFFF, 1, room);//下
	crtWall(delay, life, "left", room);//左中
	crtWall(delay, life, "right", room);//右中
	crtDoor(delay, life, "left", room);//左中门
	crtDoor(delay, life, "right", room);//右中门
	}
function crtSTitle(delay, life, par){
	timer(function(){
		var toptitle = $.createComment("World's End Dancehall. ↓",{x:-94, y:-113, color:0, lifeTime:2, fontsize:15, parent:par});
		toptitle.font = "微软雅黑";
		var bottitle = $.createComment("World's End Dancehall. ↓",{x:94, y:113, color:0, lifeTime:2, fontsize:15, parent:par, motion:{rotationZ:{fromValue:180}}});
		bottitle.font = "微软雅黑";
		},delay);
	}
function crtBmask(delay, life, type, par){
	switch(type){
	case "top": x0=a1-1; y0=b0; x1=a2+1; y1=b0; x2=a3+1; y2=-140; x3=a0-1; y3=-140; break;
	case "bottom": x0=a0-1; y0=140; x1=a3+1; y1=140; x2=a2+1; y2=b1; x3=a1-1; y3=b1; break;
	case "left": x0=a0; y0=140; x1=a1; y1=b1+1; x2=a1; y2=b0-1; x3=a0; y3=-140; break;
	case "right": x0=a2; y0=b1+1; x1=a3; y1=140; x2=a3; y2=-140; x3=a2; y3=b0-1; break;
	case "mleft": x0=a1; y0=b1; x1=0; y1=b1; x2=0; y2=b0; x3=a1; y3=b0; break;
	case "mright": x0=0; y0=b1; x1=a2; y1=b1; x2=a2; y2=b0; x3=0; y3=b0; break;
	}
	var msk = crtTrapezium(x0, y0, x1, y1, x2, y2, x3, y3, delay, life, 0, 1, par);
	}
function crtOmask(delay, life, par){
	crtBmask(delay, life, "top",  par);
	crtBmask(delay, life, "bottom",  par);
	crtBmask(delay, life, "left",  par);
	crtBmask(delay, life, "right",  par);
	}
function crtImask(delay, life, par){
	crtBmask(delay, life, "mleft",  par);
	crtBmask(delay, life, "mright",  par);
	}
function allChessboard(delay, last, cl, al, rep, par){
	timer(function(){
		var con = $.createCanvas({x:0, y:0, lifeTime:last*rep, parent:par});
		k = 1;
		for(i = 0; i &lt; rep; i++){
			k *= -1;
			for(j = 0; j &lt; 5; j++){
				t = k*(j%2*2-1);
				crtTrapezium(-23.7*(5-2*j)*2, -114, -23.7*(3-2*j)*2, -114, -(23.7+4.7*t)*(3-2*j)*2, -(114+26*t), -(23.7+4.7*t)*(5-2*j)*2, -(114+26*t), last*1000*i, last, cl, al, con);
				crtTrapezium(-23.7*(5-2*j)*2, 114, -23.7*(3-2*j)*2, 114, -(23.7+4.7*t)*(3-2*j)*2, (114+26*t), -(23.7+4.7*t)*(5-2*j)*2, (114+26*t), last*1000*i, last, cl, al, con);
				}
			for(j = 0; j &lt; 3; j++){
				t = k*(j%2*2-1);
				crtTrapezium(-237, -228*(3-2*j)/6, -237, -228*(1-2*j)/6, -(237-47*t), -(228-52*t)*(1-2*j)/6, -(237-47*t), -(228-52*t)*(3-2*j)/6, last*1000*i, last, cl, al, con);
				crtTrapezium(237, -228*(3-2*j)/6, 237, -228*(1-2*j)/6, (237-47*t), -(228-52*t)*(1-2*j)/6, (237-47*t), -(228-52*t)*(3-2*j)/6, last*1000*i, last, cl, al, con);
				}
			}
		},delay);
	}
function crtPhone(x_in, y_in, delay, life, par, size, dir){
	//200*400
		timer(function(){
		var phone = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par, motion:{rotationZ:{fromValue:0,toValue:-20*dir,lifeTime:0.525}}});
		var phone_o = $.createShape({parent:phone});
			phone_o.graphics.beginFill(0x000000);
			phone_o.graphics.drawRoundRect(-25, -50, 50, 100, 7, 7);
			phone_o.graphics.endFill;
		var phone_i = $.createShape({y:-3, parent:phone});
			phone_i.graphics.beginFill(0xFFFFFF);
			phone_i.graphics.drawRect(-22, -40, 44, 75);
			phone_i.graphics.endFill;
		var button = $.createShape({y:43, alpha: 0.6, lifeTime:life, parent:phone});
			button.graphics.lineStyle(1, 0xFFFFFF);
			button.graphics.drawCircle(0, 0, 3);
			button.graphics.endFill;
		phone.scaleX = size;
		phone.scaleY = size;
		},delay);
	}
function crtTalk(x_in, y_in, delay, life, size, dir, par){
	//100*85
		timer(function(){
		var talk = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motion:{y:{fromValue:y_in+10,toValue:y_in+5,lifeTime:0.1}, alpha:{fromValue:0, toValue:1, lifeTime:0.2}, rotationY:{fromValue:-180*dir}}});
			talk.graphics.beginFill(0xFFFFFF);
			talk.graphics.lineStyle(5, 0x777777);
			talk.graphics.moveTo(0, -80);
			talk.graphics.lineTo(-40, -80);
			talk.graphics.curveTo(-50, -80, -50, -70);
			talk.graphics.lineTo(-50, -10);
			talk.graphics.curveTo(-50, 0, -40, 0);
			talk.graphics.lineTo(30, 0);
			talk.graphics.lineTo(45, 5);
			talk.graphics.lineTo(40, 0);
			talk.graphics.curveTo(50, 0, 50, -10);
			talk.graphics.lineTo(50, -70);
			talk.graphics.curveTo(50, -80, 40, -80);
			talk.graphics.lineTo(0, -80);
			talk.graphics.endFill;
		var line  = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motion:{y:{fromValue:y_in+10,toValue:y_in+5,lifeTime:0.1}, alpha:{fromValue:0, toValue:1, lifeTime:0.2}}});
			line.graphics.lineStyle(3, 0x777777, 1, false, "normal", "none", "bevel");
			line.graphics.moveTo(-40, -30);
			line.graphics.lineTo(40, -30);
			line.graphics.moveTo(-40, -50);
			line.graphics.lineTo(40, -50);
			line.graphics.endFill;
		talk.scaleX *= size;
		talk.scaleY *= size;
		line.scaleX *= size;
		line.scaleY *= size;
		},delay);
	}
function crtGlass(x_in, y_in, delay, life, par){
	//40*50
		timer(function(){
		var can = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par, motion:{y:{fromValue:y_in-5,toValue:y_in,lifeTime:0.1}, alpha:{fromValue:1, toValue:0.2}}});
		var wine = $.createShape({parent:can, lifeTime:life});
			wine.graphics.beginFill(0x444444);
			wine.graphics.moveTo(0, -20);
			wine.graphics.lineTo(-18, -20);
			wine.graphics.lineTo(-13, 21);
			wine.graphics.lineTo(14, 21);
			wine.graphics.lineTo(19, -20);
			wine.graphics.lineTo(0, -20);
			wine.graphics.endFill;
		var glass = $.createShape({lifeTime:life, parent:can});
			glass.graphics.lineStyle(2, 0x000000, 1, true, "normal", "none", "bevel");
			glass.graphics.moveTo(0, -30);
			glass.graphics.lineTo(-20, -30);
			glass.graphics.lineTo(-13, 20);
			glass.graphics.lineTo(13, 20);
			glass.graphics.lineTo(20, -30);
			glass.graphics.lineTo(0, -30);
			glass.graphics.endFill;
		}, delay);
	}
function crtPeople(x_in, y_in, delay, life, size, cl, dir, par){
	//160*200
		timer(function(){
		var people = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motion:{x:{fromValue:x_in,toValue:x_in+10*dir}, rotationY:{fromValue:90-dir*90}}});
			people.graphics.beginFill(cl);
			people.graphics.drawCircle(10, -79, 21);
			people.graphics.moveTo(0, -50);
			people.graphics.lineTo(-40, -50);
			people.graphics.lineTo(-80, -10);
			people.graphics.lineTo(-63, 7);
			people.graphics.lineTo(-32, -26);
			people.graphics.lineTo(-22, -26);
			people.graphics.lineTo(-40, 20);
			people.graphics.lineTo(-40, 50);
			people.graphics.lineTo(-80, 50);
			people.graphics.lineTo(-80, 75);
			people.graphics.lineTo(-11, 75);
			people.graphics.lineTo(-11, 35);
			people.graphics.lineTo(49, 100);
			people.graphics.lineTo(70, 78);
			people.graphics.lineTo(15, 20);
			people.graphics.lineTo(25, -14);
			people.graphics.lineTo(45, 10);
			people.graphics.lineTo(80, 10);
			people.graphics.lineTo(80, -10);
			people.graphics.lineTo(65, -10);
			people.graphics.lineTo(30, -50);
			people.graphics.lineTo(0, -50);
			people.graphics.endFill;
		people.scaleX *= size;
		people.scaleY *= size;
		}, delay);
	}
function crtHeart(delay, life, par){
	//48*44
		timer(function(){
		var heart = $.createShape({x:0, y:-10, lifeTime:life, parent:par, motion:{y:{fromValue:-10,toValue:0,lifeTime:0.2}}});
			heart.graphics.beginFill(0x999999);
			heart.graphics.moveTo(0, -14);
			heart.graphics.curveTo(-4, -21, -12, -22);
			heart.graphics.curveTo(-24, -21, -24, -6);
			heart.graphics.curveTo(-24, 7, -12, 11);
			heart.graphics.curveTo(-4, 14, 0, 22);
			heart.graphics.curveTo(4, 14, 12, 11);
			heart.graphics.curveTo(24, 7, 24, -6);
			heart.graphics.curveTo(24, -21, 12, -22);
			heart.graphics.curveTo(4, -21, 0, -14);
			heart.graphics.endFill;
		}, delay);
	}
function crtBrokenHeart(delay, life, par){
	timer(function(){
		var bheart = $.createCanvas({x:0, y:0, lifeTime:life, parent:par});
		var lheart = $.createShape({parent:bheart, lifeTime:life, motion:
			{x:{fromValue:-2,toValue:-10,lifeTime:life}, rotationZ:{fromValue:-10, toValue:-20, lifeTime:life}}});
			lheart.graphics.beginFill(0x999999);
			lheart.graphics.moveTo(0, -14);
			lheart.graphics.curveTo(-4, -21, -12, -22);
			lheart.graphics.curveTo(-24, -21, -24, -6);
			lheart.graphics.curveTo(-24, 7, -12, 11);
			lheart.graphics.curveTo(-4, 14, 0, 22);
			lheart.graphics.lineTo(2, 18);
			lheart.graphics.lineTo(-2, 9);
			lheart.graphics.lineTo(2, 0);
			lheart.graphics.lineTo(-2, -9);
			lheart.graphics.lineTo(0, -14);
			lheart.graphics.endFill;
		var rheart = $.createShape({parent:bheart, lifeTime:life, motion:
			{x:{fromValue:2,toValue:10,lifeTime:life}, rotationZ:{fromValue:10, toValue:20, lifeTime:life}}});
			rheart.graphics.beginFill(0x999999);
			rheart.graphics.moveTo(0, -14);
			rheart.graphics.lineTo(-2, -9);
			rheart.graphics.lineTo(2, 0);
			rheart.graphics.lineTo(-2, 9);
			rheart.graphics.lineTo(2, 18);
			rheart.graphics.lineTo(0, 22);
			rheart.graphics.curveTo(4, 14, 12, 11);
			rheart.graphics.curveTo(24, 7, 24, -6);
			rheart.graphics.curveTo(24, -21, 12, -22);
			rheart.graphics.curveTo(4, -21, 0, -14);		
			rheart.graphics.endFill;
		}, delay);
	}
function crtPTitlt(txt, x_in, delay, life, par){
	timer(function(){
		var title = $.createCanvas({x:0, y:0, parent:par, lifeTime:life});
			var t = $.createComment(txt,{x:x_in, y:-36, fontsize:44, color:0xFFFFFF, parent:title, lifeTime:life});
			t.font = "微软雅黑";
		interval(function(){
			title.scaleX -= 0.0025;
			title.scaleY -= 0.0025;
		}, 10, life*100);
		}, delay);
	}

crtMask(0);

crtRoom(0, 17.3, basic);
crtImask(0, 1.4, basic);
allChessboard(0, 0.35, 0, 0.6, 4, basic);

crtOmask(1400, 1.4, basic);
crtPhone(-93, 0, 1400, 0.525, basic, 0.68, -1);
crtPhone(93, 0, 1400, 0.525, basic, 0.68, 1);
crtHeart(1925, 0.35, basic);
crtBrokenHeart(2275, 0.525, basic);

crtImask(2800, 1.4, basic);
allChessboard(2800, 0.35, 0, 0.6, 4, basic);

crtOmask(4200, 1.4, basic);
crtTalk(-90, 13, 4200, 0.525, 0.5, 0, basic);
crtTalk(90, 13, 4200, 0.525, 0.5, 1, basic);
crtHeart(4725, 0.35, basic);
crtBrokenHeart(5075, 0.525, basic);

crtImask(5600, 1.4, basic);
allChessboard(5600, 0.35, 0, 0.6, 4, basic);

crtOmask(7000, 1.4, basic);
crtGlass(-90, 5, 7000, 0.525, basic);
crtGlass(90, 5, 7000, 0.525, basic);
crtHeart(7525, 0.35, basic);
crtBrokenHeart(7875, 0.525, basic);

crtImask(8400, 1.4, basic);
allChessboard(8400, 0.35, 0, 0.6, 4, basic);

crtOmask(9800, 1.4, basic);
crtPeople(-96, 0, 9800, 0.5, 0.45, 0, 1, basic);
crtPeople(96, 0, 9800, 0.5, 0.45, 0, -1, basic);
crtPeople(-91, 0, 10400, 0.7, 0.45, 0xFF0000, -1, basic);
crtPeople(91, 0, 10400, 0.7, 0.45, 0x00FF00, 1, basic);

crtPTitlt("WORLD'S", -105, 0, 1.4, basic);
crtPTitlt("E N D", -59, 2800, 1.4, basic);
crtPTitlt("DANCE", -81, 5600, 1.4, basic);
crtPTitlt("HALL", -62, 8400, 1.4, basic);

function crtRow(x_in, y_in, delay, life, thick, width, length, cl, rad, par){
	timer(function(){
		var row = $.createShape({x:x_in, y:y_in, parent:par, lifeTime:life, motion:{rotationZ:{fromValue:rad}}});
			row.graphics.lineStyle(thick*3/2, cl, 1, false, "normal", "none", "miter");
			row.graphics.moveTo(-length, 0);
			row.graphics.lineTo(-thick*0.5, 0);
			row.graphics.moveTo(-width, width);
			row.graphics.lineStyle(thick, cl, 1, false, "normal", "none", "miter");
			row.graphics.lineTo(0, 0);
			row.graphics.lineTo(-width, -width);
			row.graphics.endFill;
		}, delay);
	}

function crtSRow12(delay, life, dir, par){
	timer(function(){
		for(i=0 ;i &lt; 12; i++){
			var con = $.createCanvas({x:0, y:0, lifeTime:life, parent:par, motion:{rotationZ:{fromValue:30*i,toValue:30*i-life*100,lifeTime:life}}});
			var s = $.createShape({parent:con, lifeTime:life});
				s.graphics.lineStyle(2, 0x333333, 1, false, "normal", "none", "bevel");
				s.graphics.beginFill(0xFFFFFF);
				s.graphics.drawRect(134, -25, 60, 50);
				s.graphics.endFill;
			var r = crtRow(164-18*dir, 0, 0, life, 12, 20, 40, 0x7777777, 90+90*dir, con);
			}
		}, delay);
	}

function crtTitle(x_in, y_in, delay, life, par){
	timer(function(){
		var title = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life});
			var tl1 = $.createComment("ワールズエンド·ダンスホール",{x:-220, y:-40, fontsize:32, lifeTime:life, parent:title});
			tl1.filters=[$.createGlowFilter(0x000000, 1, 5, 5)];
			tl1.font = "微软雅黑";
			tl1.bold = true;
			var tl2 = $.createComment("世界终结舞厅",{x:-93, y:20, fontsize:30, lifeTime:life, parent:title});			
			tl2.filters=[$.createGlowFilter(0x000000, 1, 5, 5), $.createBlurFilter(1, 1)];
			tl2.font = "微软雅黑";
			tl2.bold = true;
		interval(function(){
			title.scaleX -= 0.001;
			title.scaleY -= 0.001;
		}, 10, 600);
		},delay);
	}

timer(function(){
	var bas = $.createShape({parent:basic, lifeTime:6.1});
		bas.graphics.beginFill(0, 0.3);
		bas.graphics.drawRect(-240, -140, 480, 280);
		bas.graphics.endFill;
}, 11200);
allChessboard(11200, 0.35, 0, 0.6, 18, basic);
crtSRow12(11200, 6.1, 1, basic);
crtTitle(0, 0, 11200, 6.1, basic);
</d>
<d p="24.799999237061,8,25,16777215,1440123583,2,0823e18c,1132362777">//24.8

var totalLife = 6.05;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}

function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}

function crtWall(x_in, y_in, delay, life, type, size, par){
	//186*176
	timer(function(){
		var c0, c1;
		switch(type){
			case "left": x0 = -190; c0 = 0x777777; c1 = 0xBBBBBB; break;
			case "right": x0 = 0; c0 = 0xBBBBBB; c1 = 0x777777; break;
		}
		var wall = $.createShape({x:x_in+x0, y:y_in-88, parent:par, lifeTime:life});
			wall.graphics.beginFill(c0);
			wall.graphics.drawRect(0, 0, 190, 176);
			wall.graphics.lineStyle(3, c1);
			wall.graphics.drawRect(46, 34, 98, 108);
			wall.graphics.endFill;
			wall.scaleX = size;
			wall.scaleY = size;
		}, delay);
	}

function crtDoor(x_in, y_in, delay, life, type, size, par){
	//98*108描点在轴中央
	timer(function(){
		var c, i;
		switch(type){
			case "left":i = -1; c = 0xBBBBBB; break;
			case "right":i = 1; c = 0x777777; break;
		}
		var door = $.createCanvas({x:x_in+46*i, y:y_in, parent:par, lifeTime:life});
		var door_bas = $.createShape({lifeTime:life, parent:door});
			door_bas.graphics.lineStyle(3, c, 1);
			door_bas.graphics.beginFill(0xFFFFFF);
			door_bas.graphics.moveTo(0, 54);
			door_bas.graphics.lineTo(98*i, 54);
			door_bas.graphics.lineTo(98*i, -54);
			door_bas.graphics.lineTo(0, -54);
			door_bas.graphics.lineTo(0, 54);
			door_bas.graphics.endFill;
		var handle = $.createShape({lifeTime:life, parent:door});
			handle.graphics.beginFill(c);
			handle.graphics.drawRect(78*i-4, -4, 8, 8);
			handle.graphics.endFill;
		if(type == "left")door.rotationY = 150;
		door.scaleX = size;
		door.scaleY = size;
		}, delay);
	}

function crtRow(x_in, y_in, delay, life, thick, width, length, cl, rad, par, mot){
	timer(function(){
		var row = $.createShape({x:x_in, y:y_in, parent:par, lifeTime:life, motionGroup:mot});
			row.graphics.lineStyle(thick*3/2, cl, 1, false, "normal", "none", "miter");
			row.graphics.moveTo(-length, 0);
			row.graphics.lineTo(-thick*0.5, 0);
			row.graphics.moveTo(-width, width);
			row.graphics.lineStyle(thick, cl, 1, false, "normal", "none", "miter");
			row.graphics.lineTo(0, 0);
			row.graphics.lineTo(-width, -width);
			row.graphics.endFill;
		row.rotationZ = rad;
		}, delay);
	}

function infor2(txt, x_in, y_in, delay, life, par){
	timer(function(){
	var infor = $.createCanvas({x:x_in, y:y_in-30, lifeTime:life, parent:par});
		var tl1 = $.createComment("Vol:",{x:-30, y:-35, color: 0xEEEEEE, fontsize:24, parent: infor});
		tl1.font = "微软雅黑";
		tl1.filters = null;
		var tl2 = $.createComment(txt, {x:-35, y:5, color: 0xEEEEEE, fontsize:24, parent: infor});
		tl2.font = "微软雅黑";
		tl2.filters = null;
	},delay);
	}

function crtMiku(x_in, y_in, delay, life, size, type, par){
	//120*(-50~60)
	timer(function(){
		var miku = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par});
		var face = $.createShape({parent: miku});
			face.graphics.beginFill(0xFFFFDD);
			face.graphics.moveTo(-30, 20);
			face.graphics.lineTo(-30, -30);
			face.graphics.lineTo(30, -30);
			face.graphics.lineTo(30, 20);
			face.graphics.curveTo(0, 50, -30, 20);
			face.graphics.endFill;
		var hair = $.createShape({parent: miku});
			hair.graphics.beginFill(0x66FFCC);
			hair.graphics.moveTo(-10, -23);
			hair.graphics.curveTo(-18, -7, -24, -7);
			hair.graphics.curveTo(-30, 18, -17, 37);
			hair.graphics.curveTo(-41, 41, -36, -17);
			hair.graphics.curveTo(-55, 35, -20, 60);
			hair.graphics.curveTo(-60, 70, -60, 20);
			hair.graphics.curveTo(-55, -65, -33, -36);
			hair.graphics.curveTo(0, -66, 33, -36);
			hair.graphics.curveTo(55, -65, 60, 20);
			hair.graphics.curveTo(60, 70, 20, 60);
			hair.graphics.curveTo(55, 35, 36, -17);
			hair.graphics.curveTo(41, 41, 17,37);
			hair.graphics.curveTo(30, 18, 24, -7);
			hair.graphics.curveTo(18, -7, 10, -23);
			hair.graphics.curveTo(5, -17, 10, -3);
			hair.graphics.curveTo(-6, -3, -10, -23);
			hair.graphics.endFill;
		var band = $.createShape({parent: miku});
			band.graphics.beginFill(0x7777777);
			band.graphics.moveTo(31, -37);
			band.graphics.lineTo(34, -15);
			band.graphics.lineTo(38, -16);
			band.graphics.lineTo(35, -38);
			band.graphics.lineTo(31, -37);
			band.graphics.moveTo(-31, -37);
			band.graphics.lineTo(-34, -15);
			band.graphics.lineTo(-38, -16);
			band.graphics.lineTo(-35, -38);
		if(type &gt;= 1){
			var shy = $.createShape({parent: miku});
				shy.graphics.beginFill(0xFF9999);
				shy.graphics.drawEllipse(-18, 15, 13, 7);
				shy.graphics.drawEllipse(18, 15, 13, 7);
				shy.graphics.endFill;
			}
		if(type &gt;= 2){
			var anger = $.createShape({parent: miku});
				anger.graphics.beginFill(0xCC2222);
				anger.graphics.moveTo(19, -31);
				anger.graphics.curveTo(25, -25, 17, -22);
				anger.graphics.moveTo(19, -18);
				anger.graphics.curveTo(25, -25, 27, -16);
				anger.graphics.moveTo(31, -19);
				anger.graphics.curveTo(25, -25, 32, -28);
				anger.graphics.moveTo(31, -31);
				anger.graphics.curveTo(25, -25, 22, -33);
				anger.graphics.endFill;
			}
		if(type == -1){
			var cry = $.createShape({parent: miku});
				cry.graphics.lineStyle(2, 0x333333);
				cry.graphics.moveTo(-8, -25);
				cry.graphics.curveTo(0, 16, 8, -25);
				cry,graphics.endFill;
			}
		miku.scaleX = size+0.1;
		miku.scaleY = size+0.1;
		if(type != 0){
			interval(function(){
				miku.scaleX -= 0.01;
				miku.scaleY -= 0.01;
			}, 10, 10);
			}
		}, delay);
	}

function crtLuka(x_in, y_in, delay, life, size, type, par){
	//100*(-50~70)
	timer(function(){
		var luka = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par});
		var backhair = $.createShape({parent: luka});
			backhair.graphics.beginFill(0xFFBBDD);
			backhair.graphics.moveTo(-30, 20);
			backhair.graphics.lineTo(-46, 35);
			backhair.graphics.curveTo(-60, 56, -31, 62);
			backhair.graphics.curveTo(-34, 56, -33, 54);
			backhair.graphics.curveTo(-30, 66, -12, 67);
			backhair.graphics.curveTo(-16, 64, -15, 61);
			backhair.graphics.curveTo(-12, 68, 0, 70);
			backhair.graphics.curveTo(12, 68, 15, 61);
			backhair.graphics.curveTo(16, 64, 12, 67);
			backhair.graphics.curveTo(30, 66, 33, 54);
			backhair.graphics.curveTo(34, 56, 31, 62);
			backhair.graphics.curveTo(60, 56, 46, 35);
			backhair.graphics.lineTo(30, 20);
			backhair.graphics.lineTo(-30, 20);
			backhair.graphics.endFill;
		var face = $.createShape({parent: luka});
			face.graphics.beginFill(0xFFFFDD);
			face.graphics.moveTo(-30, 20);
			face.graphics.lineTo(-30, -30);
			face.graphics.lineTo(30, -30);
			face.graphics.lineTo(30, 20);
			face.graphics.curveTo(0, 50, -30, 20);
			face.graphics.endFill;
		if(type &gt;= 1){
			var anger = $.createShape({parent: luka});
				anger.graphics.beginFill(0x333366);
				anger.graphics.moveTo(-33, 9);
				anger.graphics.lineTo(33, 9);
				anger.graphics.lineTo(33, -28);
				anger.graphics.lineTo(-33, -28);
				anger.graphics.lineTo(-33, 9);
				anger.graphics.endFill;
			}
		var hair = $.createShape({parent: luka});
			hair.graphics.beginFill(0xFFBBDD);
			hair.graphics.moveTo(0, 0);
			hair.graphics.curveTo(-12, -10, -10, -22);
			hair.graphics.curveTo(-16, -12, -13, -2);
			hair.graphics.curveTo(-24, -10, -24, -20);
			hair.graphics.curveTo(-37, 10, -20, 35);
			hair.graphics.lineTo(-46, 35);
			hair.graphics.curveTo(-36, 15, -42, -5);
			hair.graphics.curveTo(-45, -26, -33, -36);
			hair.graphics.curveTo(0, -66, 33, -36);
			hair.graphics.curveTo(45, -26, 42, -5);
			hair.graphics.curveTo(36, 15, 46, 35);
			hair.graphics.lineTo(20, 35);
			hair.graphics.curveTo(37, 10, 24, -20);
			hair.graphics.curveTo(24, -10, 13, -2);
			hair.graphics.curveTo(16, -12, 10, -22);
			hair.graphics.curveTo(12, -10, 0, 0);
			hair.graphics.endFill;
		var band = $.createShape({parent: luka});
			band.graphics.beginFill(0x7777777);
			band.graphics.moveTo(-32, -25);
			band.graphics.curveTo(0, -58, 32, -25);
			band.graphics.curveTo(0, -48, -32, -25);
			band.graphics.endFill;
		if(type &gt;= 2){
			var laugh = $.createShape({parent: luka});
				laugh.graphics.lineStyle(2, 0x333333);
				laugh.graphics.moveTo(-12, 22);
				laugh.graphics.curveTo(0, 35, 12, 22);
				laugh.graphics.endFill;
			}
		if(type == -1){
			var cry = $.createShape({parent: luka});
				cry.graphics.beginFill(0x0066CC);
				cry.graphics.moveTo(-25, 3);
				cry.graphics.curveTo(-23, -24, -15, -24);
				cry.graphics.curveTo(23, -24, -25, 3);
				cry,graphics.endFill;
			}
		luka.scaleX = size+0.1;
		luka.scaleY = size+0.1;
		if(type != 0){
			interval(function(){
				luka.scaleX -= 0.01;
				lika.scaleY -= 0.01;
			}, 10, 10);
			}
		}, delay);
	}

crtBackgroud(0xFFFFFF, 500, 6, basic);
crtMask(0);

timer(function(){
	var basS = $.createCanvas({x:-240, y:500, lifeTime:1.7, parent:basic, motionGroup:[{rotationZ:{fromValue:0,toValue:-55,lifeTime:0.2}}, {rotationZ:{fromValue:-55,toValue:-60,lifeTime:0.3}}, {x:{fromValue:-240,toValue:0,lifeTime:0.2}}]});
	var s = $.createShape({x:480, y:0, parent:basS, lifeTime:0.7, motion:{y:{fromValue:0,toValue:-300, lifeTime:0.1, startDelay:300}}});
		s.graphics.lineStyle(30, 0x333333, 1, false, "normal", "none", "miter");
		s.graphics.beginFill(0xFFFFFF);
		s.graphics.drawRect(-300, -150, 800, 800);
		s.graphics.endFill;
	crtRow(600, -100, 0, 0.7, 40, 140, 1000, 0, -90, basS, [{rotationZ:{fromValue:-90}, y:{fromValue:-100, toValue:-300, lifeTime:0.2, startDelay:300}}]);
	}, 0);
timer(function(){
	var basO = $.createCanvas({x:0, y:0, parent:basic, lifeTime:1.1, motionGroup:[{x:{fromValue:-240,toValue:0,lifeTime:0.2}}, {x:{fromValue:0,toValue:20,lifeTime:0.7}}, {x:{fromValue:-20,toValue:600,lifeTime:0.1}}]});
	var basOO = $.createCanvas({x:0, y:0, parent:basO, lifeTime:1.1});
	var basOOO = $.createCanvas({x:0, y:0, parent:basOO, lifeTime:1.1});
	var h = $.createShape({x:-160, y:0, parent:basOO});
		h.graphics.lineStyle(100, 0xFFFFFF);
		h.graphics.moveTo(0, -200);
		h.graphics.lineTo(0, -600);
		h.graphics.endFill;
		h.rotationZ = 60;
	crtRow(0, 0, 0, 1.1, 14, 26, 800, 0x000000, 150, basOOO, [{x:{fromValue:-160,toValue:-194,lifeTime:0.7}, y:{fromValue:0,toValue:20,lifeTime:0.7}}, {x:{fromValue:-194,toValue:-500,lifeTime:0.2, easing:"Cubic"}, y:{fromValue:20,toValue:200,lifeTime:0.2, easing:"Cubic"}}]);
	crtRow(-63, 30, 0, 1.1, 80, 150, 1000, 0xDDDDDD, 150, basOO, [{rotationZ:{fromValue:150}}]);
	var basOW = $.createCanvas({x:0, y:0, parent:basO, lifeTime:1.1});
	var basW = $.createCanvas({x:0, y:-40, parent:basOW, lifeTime:1.1});
		crtWall(0, 0, 0, 1.1, "left", 1.5, basW);//左中
		crtDoor(56, 2, 0, 1.1, "left", 1.35, basOW);//左中门
		crtWall(70, 0, 0, 1.1, "right", 1.5, basW);//右中
		crtDoor(95, 40, 0, 1.1, "right", 1.5, basW);//右中门
		basW.rotationY = -75;
	var l1 = $.createShape({x:-90, y:-60, parent:basO, lifeTime:1.1});
		l1.graphics.lineStyle(21, 0);
		l1.graphics.lineTo(374, 200);
		l1.graphics.endFill;
	var w1 = $.createShape({x:0, y:0, parent:basO, lifeTime:1.1, motion:{x:{fromValue:0,toValue:20,lifeTime:0.7, startDelay:0.2}}});
		w1.graphics.beginFill(0x7777777);
		w1.graphics.drawRect(-130, -200, 78, 400);
		w1.graphics.endFill;
	var t1 = $.createComment("現\n実\n\n\n逃\n避",{x:-210, y:-110, lifeTime:1.1, color:0x0000, fontsize:30, parent:basO});
		t1.font = "微软雅黑";
		t1.filters = null;
	}, 500);
timer(function(){
	var basC = $.createCanvas({x:0, y:0, lifeTime:1.4, parent:basic, motionGroup:[{y:{fromValue:360,toValue:10,lifeTime:0.2}}, {y:{fromValue:10,toValue:-10,lifeTime:1.1}}, {y:{fromValue:-10,toValue:-360,lifeTime:0.1}}]});
	var basCr = $.createCanvas({lifeTime:1.4, parent:basC});
	crtRow(90, 0, 0, 1.4, 13, 26, 600, 0, 90, basCr, [{y:{fromValue:80,toValue:120,lifeTime:1.3}}]);
	var h2 = $.createShape({x:104, y:0, parent:basC});
		h2.graphics.lineStyle(25, 0xFFFFFF);
		h2.graphics.moveTo(0, 50);
		h2.graphics.lineTo(0, -600);
		h2.graphics.endFill;
		h2.rotationZ = 30;
	basCr.rotationZ = 30;
	var bl2 = $.createShape({parent:basC, lifeTime:1.4, motion:{y:{fromValue:0,toValue:-20}}});
		bl2.graphics.lineStyle(60, 0xDDDDDD);
		bl2.graphics.moveTo(-240, 0);
		bl2.graphics.lineTo(240, 0);
		bl2.graphics.endFill;
	var basCO = $.createCanvas({lifeTime:1.4, parent:basC});
	crtRow(0, 0, 0, 1.4, 40, 75, 400, 0xBBBBBB, 120, basCO, [{x:{fromValue:-10,toValue:-30,lifeTime:1.2, startDelay:100}, y:{fromValue:17,toValue:51,lifeTime:1.2, startDelay:100}}]);
	var c = $.createShape({x:0, y:0, parent:basC});
		c.graphics.lineStyle(21, 0);
		c.graphics.drawCircle(0, 0, 90);
		c.graphics.endFill;
	var infor1 = $.createCanvas({x:0, y:0, lifeTime:1.4, parent:basC});
	var tl1 = $.createComment("詞/曲",{x:-40, y:-55, lifeTime:1.4, color: 0x444444, fontsize:30, parent:infor1});
		tl1.font = "微软雅黑";
		tl1.filters = null;
	var tl2 = $.createComment("wowaka",{x:-65, y:-5, lifeTime:1.4, color: 0x444444, fontsize:30, parent:infor1});
		tl2.font = "微软雅黑";
		tl2.filters = null;
	var l2 = $.createShape({x:0, y:0, parent:basC});
		l2.graphics.lineStyle(18, 0);
		l2.graphics.moveTo(90, 0);
		l2.graphics.lineTo(90, -300);
		l2.graphics.endFill;
		l2.rotationZ = 60;
	}, 1500);
timer(function(){
	var basD = $.createCanvas({x:0, y:0, lifeTime:2, parent:basic, motionGroup:[{y:{fromValue:360,toValue:0,lifeTime:0.1}}, {y:{fromValue:0,toValue:-50,lifeTime:1.75}}, {y:{fromValue:-50,toValue:-410,lifeTime:0.1}}]});
	var basDO = $.createCanvas({x:0, y:0, lifeTime:2, parent:basD});
	crtRow(0, 180, 0, 2, 80, 150, 500, 0xBBBBBB, 90, basDO, [{y:{fromValue:180,toValue:280,lifeTime:1.8}}]);
	var l3 = $.createShape({parent:basD});
		l3.graphics.lineStyle(21, 0);
		l3.graphics.moveTo(78, -267);
		l3.graphics.lineTo(-30, -80);
		l3.graphics.lineTo(30, 34);
		l3.graphics.endFill;
	crtRow(0, 86, 0, 2, 14, 26, 180, 0, 120, basDO, [{x:{fromValue:0,toValue:-10,lifeTime:1.4}, y:{fromValue:86,toValue:103,lifeTime:1.4}}]);
	var wl = $.createShape({x:0, y:0, parent:basD});
		wl.graphics.beginFill(0x888888);
		wl.graphics.drawRect(-240, -150, 210, 255);
		wl.graphics.endFill;
	var wr = $.createShape({x:0, y:0, parent:basD});
		wr.graphics.beginFill(0x888888);
		wr.graphics.drawRect(30, -150, 210, 255);
		wr.graphics.endFill;
	infor2('Miku', -135, -15, 0, 2, basD);
	infor2('Luka', 135, -15, 0, 2, basD);
	crtMiku(-135, 45, 0, 2, 0.4, 0, basD);
	crtLuka(135, 45, 0, 2, 0.4, 0, basD);
	}, 2800);
timer(function(){
	var basB = $.createCanvas({x:0, y:360, parent:basic, lifeTime:1.85, motionGroup:[{y:{fromValue:360,toValue:70,lifeTime:0.1, startDelay:500}}, {x:{fromValue:0,toValue:-480,lifeTime:0.3, startDelay:600}}]});
	var c4a = $.createCanvas({x:80, y:-30, lifeTime:1.5, parent:basB});
		crtRow(90, 0, 0, 1.5, 14, 26, 300, 0xDDDDDD, 0, c4a, [{x:{fromValue:90,toValue:99,lifeTime:1.5}}]);
		c4a.rotationZ = -130;
	var c4b = $.createCanvas({x:80, y:-30, lifeTime:1.5, parent:basB});
		crtRow(150, 0, 0, 1.5, 14, 26, 300, 0xBBBBBB, 0, c4b, [{x:{fromValue:150,toValue:165,lifeTime:1.5}}]);
		c4b.rotationZ = -10;
	var c4c = $.createCanvas({x:80, y:-30, lifeTime:1.5, parent:basB});
		crtRow(130, 0, 0, 1.5, 14, 26, 300, 0x666666, 0, c4c, [{x:{fromValue:130,toValue:143,lifeTime:1.5}}]);
		c4c.rotationZ = -160;
	var basBO = $.createCanvas({parent:basB, lifeTime:1.5});
	crtRow(10, -310, -200, 1.4, 80, 150, 800, 0x444444, 120, basBO, [{x:{fromValue:240,toValue:10,lifeTime:0.1}, y:{fromValue:-500,toValue:-310,lifeTime:0.1}}, {x:{fromValue:10,toValue:0,lifeTime:0.4}, y:{fromValue:-310,toValue:-290,lifeTime:0.4}}, {x:{fromValue:0,toValue:-50,lifeTime:0.1}, y:{fromValue:70,toValue:200,lifeTime:0.1}}]);
	var c4d = $.createCanvas({x:80, y:-30, lifeTime:1.5, parent:basB});
		crtRow(160, 0, 0, 1.5, 14, 26, 300, 0x222222, 0, c4d, [{x:{fromValue:160,toValue:176,lifeTime:1.5}}]);
		c4d.rotationZ = -120;
	var c4e = $.createCanvas({x:80, y:-30, lifeTime:1.5, parent:basB});
		crtRow(120, 0, 0, 1.5, 14, 26, 300, 0x111111, 0, c4e, [{x:{fromValue:120,toValue:132,lifeTime:1.5}}]);
		c4e.rotationZ = -30;
	var floor = $.createShape({x:0, y:0, lifeTime:1.85, parent:basic, motion:{y:{fromValue:360,toValue:0,lifeTime:0.1, startDelay:500}}});
		floor.graphics.beginFill(0);
		floor.graphics.drawRect(-240, 30, 2000, 150);
		floor.graphics.endFill;
	var infor2 = $.createCanvas({lifeTime:1.5, parent:basB});
		var i3 = $.createComment("弹幕:",{x:-180, y:-175, color: 0x444444, fontsize:20, parent: infor2});
		i3.font = "微软雅黑";
		i3.filters = null;
	var i4 = $.createComment("矛盾型弃子",{x:-205, y:-135, color: 0x444444, fontsize:20, parent: infor2});
		i4.font = "微软雅黑";
		i4.filters = null;
		}, 4200);
</d>
<d p="30.5,8,25,16777215,1440123594,2,0823e18c,1132363495">//30.5

var totalLife = 11.6;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}

function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}

function crtDoor(x_in, y_in, delay, life, type, size, par){
	//98*108描点在轴中央
	timer(function(){
		var c, i;
		switch(type){
			case "left":i = -1; c = 0xBBBBBB; break;
			case "right":i = 1; c = 0x777777; break;
		}
		var door = $.createCanvas({x:x_in-49*i, y:y_in, parent:par, lifeTime:life});
		var door_bas = $.createShape({lifeTime:life, parent:door});
			door_bas.graphics.lineStyle(3, c, 1);
			door_bas.graphics.beginFill(0xFFFFFF);
			door_bas.graphics.moveTo(0, 54);
			door_bas.graphics.lineTo(98*i, 54);
			door_bas.graphics.lineTo(98*i, -54);
			door_bas.graphics.lineTo(0, -54);
			door_bas.graphics.lineTo(0, 54);
			door_bas.graphics.endFill;
		var handle = $.createShape({lifeTime:life, parent:door});
			handle.graphics.beginFill(c);
			handle.graphics.drawRect(78*i-4, -4, 8, 8);
			handle.graphics.endFill;
		door.scaleX = size;
		door.scaleY = size;
		}, delay);
	}

function crtFace(x_in, y_in, delay, life, size, cl, al, type, par, mot){
	//160*220
	timer(function(){
		var face = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
			face.graphics.beginFill(cl, al);
			face.graphics.moveTo(0, -100);
			face.graphics.curveTo(-80, -100, -80, -20);
			face.graphics.curveTo(-80, 100, 0, 120);
			face.graphics.curveTo(80, 100, 80, -20);
			face.graphics.curveTo(80, -100, 0, -100);
		if(type == 0){
			face.graphics.moveTo(-70, -10);
			face.graphics.curveTo(-46, -46, -20, 0);
			face.graphics.curveTo(-44, -18, -70, -10);
			face.graphics.moveTo(70, -10);
			face.graphics.curveTo(46, -46, 20, 0);
			face.graphics.curveTo(44, -18, 70, -10);
			face.graphics.moveTo(-50, 40);
			face.graphics.curveTo(0, 100, 50, 40);
			face.graphics.curveTo(0, 140, -50, 40);
		}
		else{
			face.graphics.moveTo(-15, -44);
			face.graphics.curveTo(-30, -10, -70, -10);
			face.graphics.curveTo(-10, 20, -15, -44);
			face.graphics.moveTo(15, -44);
			face.graphics.curveTo(30, -10, 70, -10);
			face.graphics.curveTo(10, 20, 15, -44);
			face.graphics.moveTo(-40, 80);
			face.graphics.curveTo(0, 50, 40, 80);
			face.graphics.curveTo(0, 0, -40, 80);
		}
		face.graphics.endFill;
		face.scaleX = size;
		face.scaleY = size;
		}, delay);
	}

function crtHand(x_in, y_in, delay, life, size, par, mot){
	//-30~200*-85~25
		timer(function(){
		var hand = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
			hand.graphics.beginFill(0xEEEEEE);
			hand.graphics.lineStyle(1, 0x999999);
			hand.graphics.moveTo(-25, 0);
			hand.graphics.lineTo(-25, -20);
			hand.graphics.curveTo(60, -20, 65, -85);
			hand.graphics.curveTo(77, -92, 77, -58);
			hand.graphics.curveTo(77, -50, 62, -24);
			hand.graphics.curveTo(50, -4, 140, -7);
			hand.graphics.curveTo(200, -9, 188, 7);
			hand.graphics.curveTo(140, 9, 98, 18);
			hand.graphics.curveTo(16, 30, -25, 20);
			hand.graphics.lineTo(-25, 0);
			hand.graphics.moveTo(128, -12);
			hand.graphics.curveTo(137, -35, 148, -30);
			hand.graphics.lineTo(141, -11);
			hand.graphics.lineTo(128, -12);
			hand.graphics.moveTo(101, 23);
			hand.graphics.curveTo(198, 5, 200, 16);
			hand.graphics.lineTo(101, 23);
			hand.graphics.endFill;
		hand.scaleX = size;
		hand.scaleY = size;
		}, delay);
	}

function crtStair(x_in, y_in, delay, life, height, account, downheight, cl, dr, par){
	timer(function(){
		var stair = $.createShape({x:x_in, y:y_in, parent:par, lifeTime:life, motionGroup:[{y:{fromValue:y_in-downheight,toValue:y_in,lifeTime:0.1}}, {y:{fromValue:y_in,toValue:y_in+downheight,lifeTime:life-0.1}}]});
		stair.graphics.beginFill(cl);
		stair.graphics.lineStyle(1+height/10);
		stair.graphics.lineTo(height*account*5/3, 0);
		for(i = 1; i &lt; account+1; i++){
			stair.graphics.lineTo(height*(account-i+1)*5/3, -height*i);
			stair.graphics.lineTo(height*(account-i)*5/3, -height*i);
		}
		stair.graphics.lineTo(0, 0);
		stair.graphics.endFill;
		if(dr == 0){stair.rotationY = 180;}
		},delay);
	}

function lrc1(txt, x_in, y_in, delay, life, cl, fsize, par, e){//"冗談混じりの境界線上"
	timer(function(){
		lrc = $.createComment(txt,{x:x_in, y:y_in, parent:par, lifeTime:life, color:cl, fontsize:fsize, motionGroup:
		[{x:{fromValue:x_in+140,toValue:x_in+20,lifeTime:0.1}}, {x:{fromValue:x_in+20,toValue:x_in-40,lifeTime:life-0.2}}]});
		},delay);
	}
	
function lrc3(txt, x_in, y_in, delay, life, par){//"ねえ"
	timer(function(){
		c = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life});
		for(i = 0;i &lt; txt.length; i++){
			sub = txt.substring(i,i+1);
			lrc = $.createComment(sub,{x:-65+i*100, y:-45+i*55, lifeTime:life, color:0x0, fontsize:96-60*i, parent:c});
			lrc.filters = null;
			}
		c.scaleX = 0.9;
		c.scaleY = 0.9;
		interval(function(){
			c.scaleX += 0.01;
			c.scaleY += 0.01;
			}, 10, 10);
		}, delay);
	}

function lrc4(txt, x_in, y_in, delay, life, par){//"その手を引いてみようか？"
	timer(function(){
		lrc = $.createComment(txt,{x:x_in, y:y_in, parent:par, color:0, lifeTime:life, forntSize:18, motionGroup:[{y:{fromValue:y_in-360,toValue:y_in-5,lifeTime:0.1}}, {y:{fromValue:y_in-5,toValue:y_in+15,lifeTime:life-0.2}}]});
		lrc.filters = null;
		}, delay);
	}

function crtlryic(txt, delay, life){
	timer(function(){
		$.createComment(txt,{x:-230, y:145, color:0xFFFFFF, lifeTime:life-delay-0.02, fontsize:20, parent:edge});
		}, (delay-30.7)*1000);
	}

crtBackgroud(0xFFFFFF, 0, 11.5, basic);

timer(function(){
	var bas = $.createCanvas({parent:basic, lifeTime:2.85, motion:{y:{fromValue:0,toValue:120,lifeTime:0.1,startDelay:2800}}});
	lrc1("冗談混じりの", -140, -20, 0, 2.9, 0, 36, bas, 0);
	var floor = $.createShape({x:0, y:0, lifeTime:2.9, parent:bas});
		floor.graphics.beginFill(0);
		floor.graphics.drawRect(-240, 30, 480, 150);
		floor.graphics.endFill;
	lrc1("境界線上", 20, 50, 1400, 1.5, 0xFFFFFF, 36, bas, 1);
	}, 0);
timer(function(){
	var bas = $.createCanvas({parent:basic, lifeTime:2.95, motionGroup:[{y:{fromValue:-360, toValue:-30, lifeTime:0.3}}, {y:{fromValue:-10, toValue:0, lifeTime:2.5}}]});
	var basO = $.createCanvas({parent:bas, lifeTime:2.95});
	crtBackgroud(0x777777, 0, 2.95, basO);
	crtDoor(0, -70, 0, 2.9, "left", 0.8, basO);
	crtStair(-249, 180, 0, 2.95, 9, 41, 80, 0x999999, 1, bas);
	crtStair(240, 187, 0, 2.95, 15, 24, 120, 0xBBBBBB, 0, bas);
	crtStair(-240, 182, 0, 2.95, 21, 12, 140, 0xDDDDDD, 1, bas);
	crtStair(255, 485, 0, 2.95, 30, 19, 160, 0xFFFFFF, 0, bas);
	timer(function(){
		var basA = $.createShape({parent:bas, lifeTime:2.95});
			basA.graphics.beginFill(0xFFFFFF);
			basA.graphics.drawRect(-300, 200, 600, 400);
			basA.graphics.endFill;
	}, 0);
	lrc = $.createComment("階段のそのまた向こう",{x:-130, y:-85, parent:bas, color:0, lifeTime:2.95, forntSize:24, motionGroup:[{y:{fromValue:-445, toValue:-115, lifeTime:0.1}}, {y:{fromValue:-115, toValue:-85, lifeTime:2.7}}]});
	lrc.filters = null;
	}, 2700);
timer(function(){
	var bas = $.createCanvas({parent:basic, lifeTime:2.5});
		crtBackgroud(0x777777, 0, 2.5, bas);
		crtDoor(22, 0, 0, 2.5, "left", 1.5, bas);
	crtFace(240, 0, 0, 2.5, 1, 0xBBBBBB, 1, 1, bas);
	crtFace(-240, 0, 0, 2.5, 1, 0xBBBBBB, 1, 1, bas);
	var lrc = $.createCanvas({parent:basic, lifeTime:2.5});
		lr = $.createComment("全然良いこともないし",{x:-180, y:-20, color:0, lifeTime:2.5, fontsize:36, parent:lrc});
		lr.filters = null;
		interval(function(){
			lrc.scaleX -= 0.003;
			lrc.scaleY -= 0.003;
		}, 10, 240);
	}, 5600);
timer(function(){
	var bas = $.createCanvas({parent:basic, lifeTime:0.4});
	crtBackgroud(0xBBBBBB, 0, 0.4, bas);
	crtFace(240, 0, 0, 0.4, 1, 0x777777, 1, 0, bas);
	crtFace(-240, 0, 0, 0.4, 1, 0x777777, 1, 0, bas);
	crtDoor(-22, 0, 0, 0.4, "right", 1.5, bas);
	lrc3("ねえ", -10, -10, 0, 0.4, basic);
	}, 8000);
timer(function(){
	var bas = $.createCanvas({parent:basic, lifeTime:4.05});
	var basB = $.createCanvas({parent:bas, lifeTime:4.05});
		crtBackgroud(0x777777, 0, 4.05, basB);
		crtDoor(22, 0, 0, 2.8, "left", 1.55, basB);
	timer(function(){
		basB.filters = [$.createBlurFilter(20,20)];
	}, 100);
	lrc4("その手を", -35, -40, 0, 2.85, bas);
	lrc4("引いてみようか？", 15, -5, 0, 2.85, bas);
	crtHand(-240, 0, 0, 2.8, 1.2, bas, [{rotationZ:{fromValue:-90,toValue:-5,lifeTime:0.25}}, {rotationZ:{fromValue:-5,toValue:15,lifeTime:2.65}}]);
	}, 8400);

crtMask(0);
crtlryic("在玩笑混合的边界线上", 30.7, 33.5);
crtlryic("阶梯再远一点的前方", 33.5, 36.3);
crtlryic("反正完全没什么好事情", 36.3, 38.7);
crtlryic("呐,要试著把牵起那只手吗？", 38.7, 41.9);</d>
<d p="41.700000762939,8,25,16777215,1440123604,2,0823e18c,1132364057">//41.7

var totalLife = 12;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}

function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}

function crtlryic(txt, delay, life){
	timer(function(){
		$.createComment(txt,{x:-230, y:145, color:0xFFFFFF, lifeTime:life-delay-0.02, fontsize:20, parent:edge});
		}, (delay-41.9)*1000);
	}

function crtBuilding(x_in, y_in, delay, life, cl, w_in, h_in, win_x, win_y, win_s, win_bew, par, mot){
	timer(function(){
		var building = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
		var bas = $.createShape({lifeTime:life, parent:building});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-w_in/2, -h_in/2, w_in, h_in);
			bas.graphics.endFill;
		for(i = 0; i &lt; win_y; i++){
			for(j = 0; j&lt; win_x; j++){
					var window = $.createShape({x:-(win_x-2*j-1)/2*(win_bew+win_s), y:(w_in-(win_x*(win_bew+win_s)-win_bew))*(i+2)/2+win_s*i-h_in/2, lifeTime:life, parent:building});
					window.graphics.beginFill(0xFFFFFF);
					window.graphics.drawRect(-win_s/2, -win_s/2, win_s, win_s);
					window.graphics.endFill;
				}
			}
		}, delay);
	}

function crtDoor(x_in, y_in, delay, life, type, size, par, mot){
	//98*108描点在轴中央
	timer(function(){
		var c, i;
		switch(type){
			case "left":i = -1; c = 0xBBBBBB; break;
			case "right":i = 1; c = 0x777777; break;
		}
		var door = $.createCanvas({x:x_in-49*i*size, y:y_in, parent:par, lifeTime:life, motionGroup:mot});
		var door_bas = $.createShape({lifeTime:life, parent:door});
			door_bas.graphics.lineStyle(3, c, 1);
			door_bas.graphics.beginFill(0xFFFFFF);
			door_bas.graphics.moveTo(0, 54);
			door_bas.graphics.lineTo(98*i, 54);
			door_bas.graphics.lineTo(98*i, -54);
			door_bas.graphics.lineTo(0, -54);
			door_bas.graphics.lineTo(0, 54);
			door_bas.graphics.endFill;
		var handle = $.createShape({lifeTime:life, parent:door});
			handle.graphics.beginFill(c);
			handle.graphics.drawRect(78*i-4, -4, 8, 8);
			handle.graphics.endFill;
		door.scaleX = size;
		door.scaleY = size;
		}, delay);
	}

function crtSBuilding(x_in, y_in, delay, life, par){
	timer(function(){
		var building = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life, motion:{y:{fromValue:y_in+60,toValue:y_in,lifeTime:0.1}}});
			crtBuilding(60, 225, 0, life, 0, 80, 190, 2, 3, 22, 10, building);
			crtBuilding(155, 250, 0, life, 0, 80, 140, 2, 2, 18, 22, building);
			crtBuilding(245, 237, 0, life, 0, 74, 166, 2, 3, 20, 12, building);
			crtBuilding(340, 257, 0, life, 0, 90, 126, 3, 2, 18, 7, building);
			crtBuilding(434, 205, 0, life, 0, 68, 230, 2, 5, 18, 10, building);
		}, delay);
	}

function crtLight(delay, life, par){
	timer(function(){
		var l1 = $.createShape({x:-240, y:180, parent:par, lifeTime:life, motionGroup:[{rotationZ:{fromValue:0, toValue:30,lifeTime:0.1}}, {rotationZ:{fromValue:30, toValue:40,lifeTime:life-0.1}}]});
			l1.graphics.beginFill(0xFFFFFF);
			l1.graphics.moveTo(-20, 0);
			l1.graphics.lineTo(-100, -500);
			l1.graphics.lineTo(100, -500);
			l1.graphics.lineTo(20, 0);
			l1.graphics.lineTo(-20, 0);
			l1.graphics.endFill;
		var l2 = $.createShape({x:240, y:180, parent:par, lifeTime:life, motionGroup:[{rotationZ:{fromValue:0, toValue:-30,lifeTime:0.1}}, {rotationZ:{fromValue:-30, toValue:-40,lifeTime:life-0.1}}]});
			l2.graphics.beginFill(0xFFFFFF);
			l2.graphics.moveTo(20, 0);
			l2.graphics.lineTo(100, -500);
			l2.graphics.lineTo(-100, -500);
			l2.graphics.lineTo(-20, 0);
			l2.graphics.lineTo(20, 0);
			l2.graphics.endFill;
		}, delay);
	}

timer(function(){
	Plife = 2.5;
	var bas = $.createCanvas({parent:basic, lifeTime:6});
	var basb = $.createCanvas({parent:bas, lifeTime:6});
	crtBackgroud(0x777777, 0, 6, basb);
	txt = "散々躓いたダンスを";
	c = $.createCanvas({x:0, y:0, parent:bas, lifeTime:Plife, motion: {y:{fromValue:0,toValue:-20,lifeTime:0.1, startDelay:2400}, alpha:{fromValue:1,toValue:0,lifeTime:0.1, startDelay:2400}}});
	for(i = 0;i &lt; txt.length; i++){
		sub = txt.substring(i,i+1);
		x0 = 42*i-180;
		y0  = -30+Utils.rand(-15, 15);
		rad0 = Utils.rand(-45, 45);
		lrc = $.createComment(sub,{lifeTime:Plife, parent:c, fontsize:Utils.rand(20, 35), motion:{x:{fromValue:x0,toValue:x0+Utils.rand(-10,10)}, y:{fromValue:y0,toValue:y0+Utils.rand(-10,10)}, rotationZ:{fromValue:rad0,toValue:rad0+Utils.rand(-45,45)}}});
		lrc.filters = null;
		}
	c.scaleX = 0.9;
	c.scaleY = 0.9;
	interval(function(){
			c.scaleX += 0.02;
			c.scaleY += 0.02;
		}, 20, 5);
	}, 0);
timer(function(){
	Plife = 3.2;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	var basb = $.createCanvas({parent:bas, lifeTime:Plife});
	var basbl = $.createCanvas({parent:basb, lifeTime:Plife});
	crtLight(1900, 1.5, basbl);
	lrc = $.createComment("そう",{x:-80, fontsize:72, lifeTime:0.5, parent:bas, motionGroup:[{y:{fromValue:-10,toValue:-70,lifeTime:0.1}, alpha:{fromValue:0,toValue:1,lifeTime:0.01}}, {y:{fromValue:-70,toValue:-130,lifeTime:0.1, startDelay:300}, alpha:{fromValue:1,toValue:0,lifeTime:0.1, startDelay:300}}]});
	crtSBuilding(-240, -80, 0, 3.4, bas);
	lrc.filters = null;
	crtBuilding(0, 135, 400, 3, 0x444444, 160, 250, 4, 4, 28, 6, basb, [{y:{fromValue:135,toValue:125,lifeTime:1.4}}]);
	timer(function(){
		lrc = $.createComment("祭壇の上で",{x:-150, fontsize:60, lifeTime:1.5, parent:bas, motionGroup:[{y:{fromValue:-10,toValue:-60,lifeTime:0.1}, alpha:{fromValue:0,toValue:1,lifeTime:0.01}}, {y:{fromValue:-60,toValue:-80,lifeTime:1.3}}, {y:{fromValue:-80,toValue:-140,lifeTime:0.1}, alpha:{fromValue:1,toValue:0,lifeTime:0.1}}]});
		lrc.filters = null;
		}, 400);
	}, 2400);
timer(function(){
	txt = "踊るの？";
	for(i = 0; i &lt; txt.length; i++){
		var c = $.createCanvas({x:0, y:-40, parent:basic, lifeTime:1.5, motion:
		{x:{fromValue:-135+90*i,toValue:-180+120*i}, y:{fromValue:-40,toValue:-70}, alpha:{fromValue:0,toValue:1, lifeTime:0.1}, rotationZ:{fromValue:-30+20*i}}});
		sub = txt.substring(i,i+1);
		$.createComment(sub,{x:-36, y:-36, lifeTime:1.5, fontsize:72, parent:c});
		}
	}, 4300);
timer(function(){
	var msk = $.createShape({x:0, y:0, lifeTime:3.5, parent:basic});
		msk.graphics.beginFill(0xFFFFFF);
		msk.graphics.drawEllipse(-120, -80, 240, 160);
		msk.graphics.endFill;
		msk.filters = [$.createGlowFilter(0xFFFFFF, 0.5, 64, 32, 2, 6, false, false), $.createBlurFilter(128, 64)];
	interval(function(){
			msk.scaleX += 1;
			msk.scaleY += 1;
		}, 10, 10);
	}, 5500);
timer(function(){
	c = $.createCanvas({x:-140, y:-55, parent:basic, lifeTime:3.5, motionGroup:[{alpha:{fromValue:0,toValue:1,lifeTime:1}}, {alpha:{fromValue:1,toValue:0,lifeTime:1, startDelay:800}}]});
	txt = "呆然に";
	for(j = 0; j &lt; 3; j++){
		sub = txt.substring(j,j+1);
		x0 = 120*j+30;
			for(i = 0; i &lt; 15; i++){
					lrc = $.createComment(sub,{lifeTime:2.8, fontsize:60+i, color:0xffffff-0x111111*(i+i%2)/2, parent:c, motion:{x:{fromValue:x0-45,toValue:x0-10-5*i/2,lifeTime:2.7, startDelay:100}}});
					lrc.filters = null;
					}
			}
	lrc = $.createComment("目が眩んじゃうから",{y:100, parent:c, lifeTime:2.8, color: 0x8888888, fontsize:36, motion:{x:{fromValue:0,toValue:-20}}});
	lrc.filters = null;
	}, 5600);
timer(function(){
	Plife = 5.6;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	var basback = $.createCanvas({parent:bas, lifeTime:Plife});
	var bascomment = $.createCanvas({parent:bas, lifeTime:Plife});
	var basdoor = $.createCanvas({parent:bas, lifeTime:2.9, motion:{alpha:{fromValue:1,toValue:0,lifeTime:0.2, startDelay:2500}}});
	var msk = $.createShape({x:0, y:0, lifeTime:3, parent:bas, motion:{alpha:{fromValue:1,toValue:0}}});
		msk.graphics.beginFill(0xFFFFFF);
		msk.graphics.drawEllipse(-120, -80, 240, 160);
		msk.graphics.endFill;
		msk.filters = [$.createGlowFilter(0xFFFFFF, 0.5, 64, 32, 2, 6, false, false), $.createBlurFilter(128, 64)];
		msk.scaleX = 2;
		msk.scaleY = 2;
	crtBackgroud(0xFFFFFF, 0, Plife, basback);
	var wall = $.createShape({x:0, y:0, parent:basdoor, lifeTime:Plife});
		wall.graphics.beginFill(0xBBBBBB);
		wall.graphics.drawRect(-300, -200, 600, 400);
		wall.graphics.lineStyle(3, 0x777777);
		wall.graphics.drawRect(-73, -81, 147, 162);
		wall.graphics.endFill;
	lrc = $.createComment("ど\nう\nで\nし\nょ\nう",{x:100, y:-85, lifeTime:Plife, fontsize:28, parent:basdoor});
	lrc.filters = null;
	lrc = $.createComment("一緒にここで！",{x:-120, y:-15, lifeTime:Plife, color:0, parent:bascomment, fontsize:36});
	crtDoor(0, 0, 0, Plife, "right", 1.5, basdoor, [{rotationY:{fromValue:30,toValue:120, lifeTime:Plife-2}}]);
	timer(function(){
		interval(function(){
				basdoor.scaleX += 0.02;
				basdoor.scaleY += 0.02;
			}, 10, 1.9*100);
		}, 1000);	
	}, 8400);

crtMask(0);
crtlryic("那狼狈跌跤的舞蹈", 41.9, 44.3);
crtlryic("是吗，要在祭坛上跳起来吗？", 44.3, 47.5);
crtlryic("会眩目到让人傻眼喔", 47.5, 50.3);
crtlryic("怎么样，不如就一起在这里！", 50.3, 53.1);
</d>
<d p="53,8,25,16777215,1440123615,2,0823e18c,1132364693">//53.0
var totalLife = 11.2;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}

function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}

function crtPhone(x_in, y_in, delay, life, par){
	//200*400
	timer(function(){
		var phone = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par});
			phone.graphics.beginFill(0x000000);
			phone.graphics.drawRoundRect(-100, -200, 200, 400, 30, 30);
			phone.graphics.drawRect(-90, -160, 180, 300);
			phone.graphics.endFill;
		var button = $.createShape({x:x_in, y:y_in+170, lifeTime:life, parent:par});
			button.graphics.lineStyle(2, 0xFFFFFF);
			button.graphics.drawCircle(0, 0, 15);
			button.graphics.endFill;
		},delay);
	}

function crtPTalk(txt, type, life, wid, number, par){
	var bas = $.createCanvas({x:85*type, y:110+number*(60), lifeTime:life, parent:par});
	var talk = $.createShape({x:-wid/2*type, y:0, parent:bas, lifeTime:life});
		talk.graphics.beginFill(0xDDDDDD);
		talk.graphics.drawRoundRect(-wid/2, -18, wid, 36, 10, 10);
		talk.graphics.endFill;
	var word = $.createComment(txt,{x:13-wid*(type+1)/2, y:-13, color:0x222222, lifeTime:life, fontsize:18, parent:bas});
	word.font = "微软雅黑";
	word.filters = null;
	}

function crtTalk(x_in, y_in, delay, life, size, dir, par){
	timer(function(){
		var talk = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par});
			talk.graphics.beginFill(0xFFFFFF);
			talk.graphics.lineStyle(5, 0x000000);
			talk.graphics.moveTo(0, -200);
			talk.graphics.lineTo(-100, -200);
			talk.graphics.curveTo(-150, -200, -150, -150);
			talk.graphics.lineTo(-150, -50);
			talk.graphics.curveTo(-150, 0, -100, 0);
			talk.graphics.lineTo(60, 0);
			talk.graphics.lineTo(135, 30);
			talk.graphics.lineTo(100, 0);
			talk.graphics.curveTo(150, 0, 150, -50);
			talk.graphics.lineTo(150, -150);
			talk.graphics.curveTo(150, -200, 100, -200);
			talk.graphics.lineTo(0, -200);
			talk.graphics.endFill;
		if(dir == 0)talk.rotationY = 180;
		talk.scaleX = size;
		talk.scaleY = size;
		},delay);
	}

function crtTTalk(txt, delay, life, Btype, fsize, par){
	timer(function(){
		switch(Btype){
			case 0:	var c = $.createCanvas({x:-35, y:15, parent:par, lifeTime:life});
			var cc = $.createCanvas({parent:c, lifeTime:life});
			crtTalk(0, 80, 0, life, 1, 0, cc);
			lrc = $.createComment(txt, {x:-100, y:-95, color:0, lifeTime:life, parent:c, fontsize:fsize});
			lrc.font = "微软雅黑";
			break;
			case 1: var c = $.createCanvas({x:100, y:60, parent:par, lifeTime:life});
			var cc = $.createCanvas({parent:c, lifeTime:life});
			crtTalk(0, 53, 0, life, 2/3, 1, cc);
			$.createComment(txt, {x:-85, y:-30, color:0, lifeTime:life, parent:c, fontsize:fsize});
			lrc.font = "微软雅黑";
			break;
			}
		c.scaleY = 0;
		i = 0;
		interval(function(){
			if(i &lt; 10) s_size = (12-i)*i/27;
			else s_size = 1;
			c.scaleY = s_size;
			i++;
		}, 20, 10);
		},delay);
	}

timer(function(){
	Plife = 5.8;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	var basb = $.createCanvas({parent:bas, lifeTime:Plife});
	crtBackgroud(0xFFFFFF, 200, Plife, basb);
	var c = $.createCanvas({x:30, y:300, parent:bas, lifeTime:Plife, motionGroup:[{rotationZ:{fromValue:-60,toValue:5,lifeTime:0.2}}, {rotationZ:{fromValue:5,toValue:20,lifeTime:Plife-0.4}}, {rotationZ:{fromValue:20,toValue:60,lifeTime:0.1}}]});
	crtPhone(0, -330, 0, Plife, c);
	var phone_mask = $.createShape({lifeTime:Plife, parent:c});
		phone_mask.graphics.beginFill(0xFFFFFF);
		phone_mask.graphics.drawRect(-300, -530, 400, 400);
		phone_mask.graphics.endFill;
	var tc = $.createCanvas({y:-280, lifeTime:Plife, parent:c, motionGroup:[{y:{fromValue:-280,toValue:-340,lifeTime:0.1,startDelay:100}}, {y:{fromValue:-340,toValue:-400,lifeTime:0.1,startDelay:300}}, {y:{fromValue:-400,toValue:-460,lifeTime:0.1,startDelay:800}}, {y:{fromValue:-460,toValue:-520,lifeTime:0.1,startDelay:400}}, {y:{fromValue:-520,toValue:-580,lifeTime:0.1,startDelay:800}}, {y:{fromValue:-580,toValue:-640,lifeTime:0.1,startDelay:400}}, {y:{fromValue:-640,toValue:-700,lifeTime:0.1,startDelay:800}}, {y:{fromValue:-700,toValue:-760,lifeTime:0.1,startDelay:400}}, {y:{fromValue:-760,toValue:-970,lifeTime:0.1,startDelay:300}}]});
		crtPTalk("学习?", -1, Plife, 75, 0, tc);
		crtPTalk("_(:з」∠)_", 1, Plife, 105, 1, tc);
		crtPTalk("努力?", -1, Plife, 75, 2, tc);
		crtPTalk("_(:з」∠)_", 1, Plife, 105, 3, tc);
		crtPTalk("奋斗?", -1, Plife, 75, 4, tc);
		crtPTalk("_(:з」∠)_", 1, Plife, 105, 5, tc);
		crtPTalk("未来?", -1, Plife, 75, 6, tc);
		crtPTalk("_(:з」∠)_", 1, Plife, 105, 7, tc);
		crtPTalk("(╯‵□′)╯︵┻━┻", 1, Plife, 145, 8, tc);
		crtPTalk("(╯‵□′)╯︵┻━┻", 1, Plife, 145, 8.5, tc);
		crtPTalk("(╯‵□′)╯︵┻━┻", 1, Plife, 145, 9, tc);
		crtPTalk("(╯‵□′)╯︵┻━┻", 1, Plife, 145, 9.5, tc);
		crtPTalk("(╯‵□′)╯︵┻━┻", 1, Plife, 145, 10, tc);
		crtPTalk("(╯‵□′)╯︵┻━┻", 1, Plife, 145, 10.5, tc);
	}, 0);
timer(function(){
	Plife = 6.5;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	var basb = $.createCanvas({parent:bas, lifeTime:Plife});
	crtBackgroud(0xFFFFFF, 0, Plife, basb);
	crtTTalk("爱情", 0, 1.5, 0, 100, bas);
	crtTTalk("╮(╯▽ ╰)╭", 500, 1.5, 1, 24, bas);
	crtTTalk("理想", 1400, 1.5, 0, 100, bas);
	crtTTalk("╮(╯▽ ╰)╭", 1900, 1.5, 1, 24, bas);
	crtTTalk("现实", 2800, 1.5, 0, 100, bas);
	crtTTalk("╮(╯▽ ╰)╭", 3300, 1.5, 1, 24, bas);
	crtTTalk("人生", 4200, 1.3, 0, 100, bas);
	crtTTalk("ヽ(￣□￣;)ノ", 4700, 0.8, 1, 24, bas);
	}, 5600);
crtMask(0);</d>
<d p="63.5,8,25,16777215,1440123628,2,0823e18c,1132365409">//63.5
var totalLife = 11.95;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-400, -300, 800, 600);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}
function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}
function crtlryic(txt, delay, life){
	timer(function(){
		$.createComment(txt,{x:-230, y:145, color:0xFFFFFF, lifeTime:life-delay-0.02, fontsize:20, parent:edge});
		}, (delay-63.7)*1000);
	}

function crtFace(x_in, y_in, delay, life, size, cl, al, type, par){
	//160*220
	timer(function(){
		var face = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par});
			face.graphics.beginFill(cl, al);
			face.graphics.moveTo(0, -100);
			face.graphics.curveTo(-80, -100, -80, -20);
			face.graphics.curveTo(-80, 100, 0, 120);
			face.graphics.curveTo(80, 100, 80, -20);
			face.graphics.curveTo(80, -100, 0, -100);
		if(type == 0){
			face.graphics.moveTo(-70, -10);
			face.graphics.curveTo(-46, -46, -20, 0);
			face.graphics.curveTo(-44, -18, -70, -10);
			face.graphics.moveTo(70, -10);
			face.graphics.curveTo(46, -46, 20, 0);
			face.graphics.curveTo(44, -18, 70, -10);
			face.graphics.moveTo(-50, 40);
			face.graphics.curveTo(0, 100, 50, 40);
			face.graphics.curveTo(0, 140, -50, 40);
		}
		else{
			face.graphics.moveTo(-15, -44);
			face.graphics.curveTo(-30, -10, -70, -10);
			face.graphics.curveTo(-10, 20, -15, -44);
			face.graphics.moveTo(15, -44);
			face.graphics.curveTo(30, -10, 70, -10);
			face.graphics.curveTo(10, 20, 15, -44);
			face.graphics.moveTo(-40, 80);
			face.graphics.curveTo(0, 50, 40, 80);
			face.graphics.curveTo(0, 0, -40, 80);
		}
		face.graphics.endFill;
		face.scaleX = size;
		face.scaleY = size;
		face.filters =  $.createBlurFilter(50,50);
		}, delay);
	}

function crtMusic(x_in, y_in, delay, life, par){
	timer(function(){
		var c = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life});
		for(i = 0; i &lt; 30; i++){
			if(i%3 == 0)txt = "♫";
			else txt = "♪";
			if(i%5 == 0){x0 = Utils.rand(40,120);y0 = Utils.rand(-90, 90);}
			else if(i%5 == 1){x0 = Utils.rand(-60,90);y0 = Utils.rand(-150, -30);}
			else if(i%5 == 2){x0 = Utils.rand(-60,90);y0 = Utils.rand(30, 150);}
			else {x0 = Utils.rand(-135,-30);y0 = Utils.rand(-135, 135);}
			lrc = $.createComment(txt, {parent:c, lifeTime:life, color:0, fontsize:30, motion:{alpha:{fromValue:0, toValue:1, lifeTime:life/2}, x:{fromValue:x0, toValue:0, lifeTime:life+0.4}, y:{fromValue:y0,toValue:0, lifeTime:life+0.4}}});
			lrc.filters = null;
			}
		}, delay);
	}

function crtPill(x_in, y_in, delay, life, size, par, mot){
	timer(function(){
		var pill = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life, motionGroup:mot});
		var pill_o = $.createShape({parent:pill});
			pill_o.graphics.beginGradientFill("radial", [0xFFFFFF, 0xAAAAAA], [1, 1], [0, 255]);
			pill_o.graphics.lineStyle(5);
			pill_o.graphics.drawCircle(0, 0, 85);
			pill_o.graphics.endFill;
		var pill_i = $.createShape({parent:pill});
			pill_i.graphics.lineStyle(10, 0x444444, 0.3, false, "normal", "none", "bevel");
			pill_i.graphics.moveTo(-83, 0);
			pill_i.graphics.lineTo(83, 0);
			pill_i.graphics.endFill;
		pill.scaleX = size;
		pill.scaleY = size;
		if(size &lt; 0.5) pill.alpha = 0.4;
		},delay);
	}

function crtGlass(x_in, y_in, delay, life, par){
	//40*50
		timer(function(){
		var can = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par});
		var wine = $.createShape({parent:can, lifeTime:life});
			wine.graphics.beginFill(0x999999);
			wine.graphics.moveTo(0, -50);
			wine.graphics.lineTo(-45.5, -50);
			wine.graphics.lineTo(-32.5, 50);
			wine.graphics.lineTo(32.5, 50);
			wine.graphics.lineTo(45.5, -50);
			wine.graphics.lineTo(0, -50);
			wine.graphics.endFill;
		var glass = $.createShape({lifeTime:life, parent:can});
			glass.graphics.lineStyle(3, 0, 1, false, "normal", "none", "miter");
			glass.graphics.moveTo(0, -75);
			glass.graphics.lineTo(-50, -75);
			glass.graphics.lineTo(-32.5, 50);
			glass.graphics.lineTo(32.5, 50);
			glass.graphics.lineTo(50, -75);
			glass.graphics.lineTo(0, -75);
			glass.graphics.endFill;
		for(i = 0; i &lt; 5; i++){
			size0 = Utils.rand(1, 4);
			bubble = $.createShape({alpha:0.6, lifeTime:life, parent:can});
				bubble.graphics.beginFill(0xFFFFFF);
				bubble.graphics.drawCircle(Utils.rand(-30, 30), -40+size0*20+Utils.rand(-5, 5), size0);
				bubble.graphics.endFill;
			}
		}, delay);
	}

function crtTalk(x_in, y_in, delay, life, size, dir, par){
	timer(function(){
		var talk = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par});
			talk.graphics.beginFill(0xFFFFFF);
			talk.graphics.lineStyle(2, 0x000000);
			talk.graphics.moveTo(0, -80);
			talk.graphics.lineTo(-40, -80);
			talk.graphics.curveTo(-60, -80, -60, -60);
			talk.graphics.lineTo(-60, -20);
			talk.graphics.curveTo(-60, 0, -40, 0);
			talk.graphics.lineTo(24, 0);
			talk.graphics.lineTo(54, 12);
			talk.graphics.lineTo(40, 0);
			talk.graphics.curveTo(60, 0, 60, -20);
			talk.graphics.lineTo(60, -60);
			talk.graphics.curveTo(60, -80, 40, -80);
			talk.graphics.lineTo(0, -80);
			talk.graphics.endFill;
		if(dir == 0)talk.rotationY = 180;
		talk.scaleX = size;
		talk.scaleY = size;
		if(life &gt; 0.7){
			talk.scaleY = 0;
			j = 0;
			interval(function(){
				talk.scaleY = (12-j)*j/27*size;
				j++;
			}, 10, 10);
		}
		},delay);
	}

function crtNTalk(x_in, y_in, delay, life, par){
	timer(function(){
		var bas = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life});
		crtTalk(-90, -10, 0, life, 1.2, 1, bas);
		delay0 = life*1000;;
		for(i = 1; i &lt; 15; i++){
			size0 = Utils.rand(4, 12)/10;
			x0 = size0/2 + Utils.rand(45, 80);
			y0 = Utils.rand(15,-35);
			delay0 /= 1.2;
			delay1 = life*1000-delay0;
			if(delay0 &gt; 700) life0=delay0/1000;
			else life0=0.7;
			crtTalk(((i%2)*2-1)*x0, y0, delay1, life0, size0, 1-i%2, bas);
			}
		}, delay);
	}

function lrc9(txt, x_in, y_in, delay, life, par, cl){
	timer(function(){
		if(txt == "渦巻いて") mlife = life-1.6;
		else mlife = life-0.2;
			lrc = $.createComment(txt,{x:x_in, y:y_in, parent:par, color:cl, lifeTime:life, fontsize:24, motionGroup:[{y:{fromValue:y_in+50,toValue:y_in+20,lifeTime:0.1}, alpha:{fromValue:0,toValue:1,lifeTime:0.1}}, {y:{fromValue:y_in+20,toValue:y_in,lifeTime:life-0.2}}, {y:{fromValue:y_in,toValue:y_in-30,lifeTime:0.1}, alpha:{fromValue:1,toValue:0,lifeTime:0.1}}]});
			lrc.filters = null;
		}, delay);
	}


timer(function(){
	var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
	crtBackgroud(0xCCCCCC, 600, totalLife, bas);
	crtBackgroud(0xDDDDDD, 600, 5.7, bas);
	crtBackgroud(0xEEEEEE, 600, 4.3, bas);
	crtBackgroud(0xFFFFFF, 600, 2.9, bas);
	crtFace(-180, -10, 600, totalLife, 1.6, 0xFFFFFF, 0.6, 0, bas);
	for(i = 0; i &lt; 15; i++){
		lrc = $.createComment("ヽ(￣□￣;)ノ=3=3=3=3=3=3=3", {y:Utils.rand(-140,120), parent:basic, color:0, lifeTime:6.6, fontsize:30, motion:{x:{fromValue:240,toValue:-720,lifeTime:1, startDelay:Utils.rand(100,600)}}});
		lrc.filters = null;
		}
	}, 0);
timer(function(){
	Plife = 3.0;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
		lrc = $.createComment("耳", {x:110, y:-15, color:0, fontsize:60, parent:bas, lifeTime:2});
		lrc.filters = null;
		lrc9("甲高い声が", -190, -55, 0, Plife, bas);
		lrc9("部屋を", -155, -25, 0, Plife, bas);
		lrc9("埋めるよ", -120, 5, 0, Plife, bas);
		crtMusic(130, -5, 0, 2, bas);
	timer(function(){
		lrc = $.createComment("㔿", {x:110, y:-15, color:0, fontsize:60, parent:bas, lifeTime:1});
			lrc.filters = null;
		var circle = $.createShape({x:142, y:17, lifeTime:1, parent:bas, motion:{alpha:{fromValue:0.8, toValue:0, lifeTime:0.6, startDelay:200}}});
			circle.graphics.lineStyle(10, 0x000000);
			circle.graphics.drawCircle(0, 0, 120);
			circle.graphics.endFill;
		circle.scaleX = 0.33;
		circle.scaleY = 0.33;
		interval(function(){
			circle.scaleX += 0.0066;
			circle.scaleY += 0.0066;
			}, 10, 100);
		}, 2000);
	}, 600);
timer(function(){
	Plife = 3.0;
	var bas2 = $.createCanvas({parent:basic, lifeTime:Plife, motion:{y:{fromValue:0,toValue:150,lifeTime:0.1, startDelay:2700}}});
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	lrc9("最低な意味を", -190, -30, 0, 2.9, bas);
	crtPill(120, 15, 0, 1.5, 1, basic, [{y:{fromValue:-45,toValue:5,lifeTime:0.1}, rotationZ:{fromValue:0,toValue:40,lifeTime:0.1}}, {y:{fromValue:5,toValue:25,lifeTime:1.3}, rotationZ:{fromValue:40,toValue:50,lifeTime:1.3}}, {y:{fromValue:25,toValue:125,lifeTime:0.1}, rotationZ:{fromValue:50,toValue:90,lifeTime:0.1}}]);
		timer(function(){
		lrc9("渦巻いて", -120, 0, 0, 1.5, bas);
		crtGlass(120, 35, 0, 1.4, bas2);
		crtPill(120, 35, 0, 1.4, 0.08, bas2, [{y:{fromValue:10,toValue:50,lifeTime:1.4}, rotationX:{fromValue:10,toValue:80,lifeTime:1.4}, rotationZ:{fromValue:10,toValue:80,lifeTime:1.4}}]);
		}, 1400);
	}, 3500);
timer(function(){
	Plife = 2.5;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife+0.5});
	lrc9("当然", -190, -40, 0, 2.9, bas);
	lrc9("良いこともないし", -155, -10, 0, 2.9, bas);
	lrc = $.createComment("脳",{x:70, y:-35, parent:bas, color:0, lifeTime:Plife, fontsize:108, motionGroup:[{y:{fromValue:150,toValue:-35,lifeTime:0.1}}, {alpha:{fromValue:1, toValue:0, lifeTime:Plife-0.1}}]});
	lrc.filters = null;
	}, 6300);
timer(function(){
	Plife = 0.7;
	var bas = $.createCanvas({parent:basic, lifeTime:3.3});
	i = 0;
	interval(function(){
		var out = $.createShape({x:-105, y:-10, lifeTime:3.3, parent:bas});
			out.graphics.beginFill(0x777777);
			out.graphics.drawCircle(0, 0, 80);
			if(i &gt;= 1)out.graphics.drawCircle(95, 60, 30);
			if(i &gt;= 2)out.graphics.drawCircle(150, 30, 10);
			out.graphics.endFill;
		i++;
	}, 30, 3);
	timer(function(){
		lrc = $.createComment("さ",{x:-160, y:-45, parent:basic, lifeTime:0.4, fontsize:80});
		lrc.filters = null;
		lrc = $.createComment("あ",{x:-90, y:-10, parent:basic, lifeTime:0.4, fontsize:40});
		lrc.filters = null;
		}, 50);
	timer(function(){
		var out = $.createShape({x:-110, y:50, lifeTime:2.8, parent:bas});
			out.graphics.beginFill(0x777777);
			out.graphics.drawCircle(0, 0, Utils.rand(60, 100));
			out.graphics.endFill;
		}, 400);
	}, 8750);
timer(function(){
	Plife = 4.5;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	var basb = $.createCanvas({parent:bas, lifeTime:Plife});
	timer(function(){
		var out = $.createShape({lifeTime:Plife, parent:basb});
			out.graphics.beginFill(0x777777);
			out.graphics.drawCircle(100, -50, 40);
			out.graphics.endFill;
		}, 200);
	delay0 = 2400;
	for(i = 0; i &lt; 20; i++){
		delay0 /= 1.4;
		delay1 = 2400-delay0;
		timer(function(){
		var out = $.createShape({x:Utils.rand(-180, 240), y:Utils.rand(-140, 140), lifeTime:Plife, parent:basb});
			out.graphics.beginFill(0x777777);
			out.graphics.drawCircle(0, 0, Utils.rand(60, 120));
			out.graphics.endFill;
		}, delay1);
	}
	crtBackgroud(0x777777, 2400, Plife, basb);
	crtFace(180, -10, 0, Plife, 1.6, 0xCCCCCC, 0.6, 1, bas);
	lrc9("思い切り", -190, -30, 0, 2.8, bas, 0xFFFFFF);
	lrc9("吐き出そうか", -155, 0, 0, 2.8, bas, 0xFFFFFF);
	}, 9100);


crtMask(0);
crtlryic("高昂的声音填满了整个房间", 64.3, 67.2);
crtlryic("将最差劲的意义卷入脑中", 67.2, 70.0);
crtlryic("当然，也不是什么好事情", 70.0, 72.5);
crtlryic("来吧，就一口气吐到爽吧", 72.5, 75.6);
</d>
<d p="75.400001525879,8,25,16777215,1440123644,2,0823e18c,1132366297">//75.4
var totalLife = 11.05;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}
function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}
function crtlryic(txt, delay, life){
	timer(function(){
		$.createComment(txt,{x:-230, y:145, color:0xFFFFFF, lifeTime:life-delay-0.02, fontsize:20, parent:edge});
		}, (delay-75.6)*1000);
	}

function crtPhone(x_in, y_in, delay, life, par, size, mot){
	//200*400
	timer(function(){
		var phone = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
		var phone_o = $.createShape({parent:phone, lifeTime:life});
			phone_o.graphics.beginFill(0x000000);
			phone_o.graphics.drawRoundRect(-25, -50, 50, 100, 8, 8);
			phone_o.graphics.endFill;
		var phone_i = $.createShape({y:-3, parent:phone, lifeTime:life});
			phone_i.graphics.beginFill(0xEEEEEE);
			phone_i.graphics.drawRect(-22, -38, 44, 76);
			phone_i.graphics.endFill;
		var button = $.createShape({y:42, alpha:0.6, lifeTime:life, parent:phone});
			button.graphics.lineStyle(1, 0xFFFFFF);
			button.graphics.drawCircle(0, 0, 3);
			button.graphics.endFill;
		phone.scaleX = size;
		phone.scaleY = size;
		},delay);
	}
function crtPeople(x_in, y_in, delay, life, size, cl, par, mot){
	//160*200
	timer(function(){
		var people = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
			people.graphics.beginFill(cl);
			people.graphics.drawCircle(10, -79, 21);
			people.graphics.moveTo(0, -50);
			people.graphics.lineTo(-40, -50);
			people.graphics.lineTo(-80, -10);
			people.graphics.lineTo(-63, 7);
			people.graphics.lineTo(-32, -26);
			people.graphics.lineTo(-22, -26);
			people.graphics.lineTo(-40, 20);
			people.graphics.lineTo(-40, 50);
			people.graphics.lineTo(-80, 50);
			people.graphics.lineTo(-80, 75);
			people.graphics.lineTo(-11, 75);
			people.graphics.lineTo(-11, 35);
			people.graphics.lineTo(49, 100);
			people.graphics.lineTo(70, 78);
			people.graphics.lineTo(15, 20);
			people.graphics.lineTo(25, -14);
			people.graphics.lineTo(45, 10);
			people.graphics.lineTo(80, 10);
			people.graphics.lineTo(80, -10);
			people.graphics.lineTo(65, -10);
			people.graphics.lineTo(30, -50);
			people.graphics.lineTo(0, -50);
			people.graphics.endFill;
		people.scaleX = size;
		people.scaleY = size;
		}, delay);
	}
function crtRow(x_in, y_in, delay, life, thick, width, length, cl, rad, par, mot){
	timer(function(){
		var row = $.createShape({x:x_in, y:y_in, parent:par, lifeTime:life, motionGroup:mot});
			row.graphics.lineStyle(thick*3/2, cl, 1, false, "normal", "none", "miter");
			row.graphics.moveTo(-length, 0);
			row.graphics.lineTo(-thick*0.5, 0);
			row.graphics.moveTo(-width, width);
			row.graphics.lineStyle(thick, cl, 1, false, "normal", "none", "miter");
			row.graphics.lineTo(0, 0);
			row.graphics.lineTo(-width, -width);
			row.graphics.endFill;
		row.rotationZ = rad;
		}, delay);
	}
function crtRowing(delay, life, type, par){
	timer(function(){
		var bas = $.createCanvas({x:0, y:-45, parent:par, lifeTime:life});
		crtRow(0, 0, 0, life, 4, 20, 75, 0xDDDDDD, 0, bas, [{x:{fromValue:25, toValue:75, lifeTime:life}}]);
		var lne = $.createShape({x:-75, y:0, parent:bas, lifeTime:life});
			lne.graphics.lineStyle(5.5, 0xDDDDDD, 1, false, "normal", "none", "miter");
			lne.graphics.lineTo(95, 0);
			lne.graphics.endFill;
		if(type == 1)bas.rotationY = 180;
		},delay);
	}
function crtCross(x_in, y_in, delay, life, thick, size, par){
	timer(function(){
		var lne = $.createShape({x:x_in, y:y_in, parent:par, lifeTime:life});
			lne.graphics.lineStyle(thick, 0, 1, false, "normal", "none", "bevel");
			lne.graphics.moveTo(-size, -size);
			lne.graphics.lineTo(size, size);
			lne.graphics.moveTo(size, -size);
			lne.graphics.lineTo(-size, size);
			lne.graphics.endFill;
		times = life*100;
		lne.scaleX += life/10;
		lne.scaleY += life/10;
		interval(function(){
			lne.scaleX -= 0.01;
			lne.scaleY -= 0.01;
		}, 10, times);
		}, delay);
	}
function crtMagnifier(x_in, y_in, delay, life, size, par){
	//200*250
		timer(function(){
		var magnifier = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par});
		var glass = $.createShape({lifeTime:life, parent:magnifier});
			glass.graphics.lineStyle(14, 0);
			glass.graphics.drawCircle(0, 0, 75);
			glass.graphics.endFill;
		var handle = $.createShape({lifeTime:life, parent:magnifier});
			handle.graphics.beginFill(0);
			handle.graphics.moveTo(35, 65);
			handle.graphics.lineTo(95, 175);
			handle.graphics.lineTo(125, 155);
			handle.graphics.lineTo(45, 55);
			handle.graphics.lineTo(35, 65);
			handle.graphics.endFill;
		magnifier.scaleX = size;
		magnifier.scaleY = size;
		magnifier.filters = [$.createBlurFilter(2,2)];
		}, delay);
	}
function crtSearch(x_in, y_in, delay, life, size, par, type){
	timer(function(){
		var search = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life});
		var groud =  $.createShape({x:-40, y:0, parent:search, lifeTime:life});
			groud.graphics.beginFill(0xFFFFFF);
			groud.graphics.drawRect(-122, -32, 244, 64);
			groud.graphics.endFill;
		txt = "さがしても";
		if(type == "normal"){
			cl = 0x777777;
			i = 0;
			interval(function(){
				sub = txt.substring(i, i+1);
				lrc = $.createComment(sub,{x:-145+i*37, y:-20, color:0, parent:search, lifeTime:life*(5-i)/5+1, fontsize:36});
				lrc.filters = null;
				i++;
				}, life*100, 5);
			}
		else if(type == "small"){
			cl = 0xDDDDDD;
			lrc = $.createComment(txt,{x:-145, y:-20, color:0, parent:search, lifeTime:life, fontsize:36});
			lrc.filters = null;
			var mask =  $.createShape({x:-40, y:0, parent:search, lifeTime:life, motion:{x:{fromValue:-40, toValue:160, lifeTime:life/3*2}}});
				mask.graphics.beginFill(0xFFFFFF);
				mask.graphics.drawRect(-122, -32, 240, 64);
				mask.graphics.endFill;
		}
		var frame = $.createShape({x:-40, y:0, parent:search, lifeTime:life});
			frame.graphics.beginFill(cl);
			frame.graphics.drawRect(-240, -60, 550, 120);
			frame.graphics.lineStyle(4, 0x444444, 1, false, "normal", "none", "miter");
			frame.graphics.drawRect(-120, -30, 240, 60);
			frame.graphics.endFill;
		crtMagnifier(132, -8, 0, life, 0.22, search);
		search.scaleX = size;
		search.scaleY = size;
		},delay);
	}
function crtWarnsign(x_in, y_in, delay, life, size, par){
	timer(function(){
		var sign = $.createShape({x:x_in, y:y_in, parent:par, lifeTime:life});
			sign.graphics.lineStyle(8, 0xFFFFFF, 1, false, "normal", "none", "miter");
			sign.graphics.moveTo(0, -52);
			sign.graphics.lineTo(-45, 26);
			sign.graphics.lineTo(45, 26);
			sign.graphics.lineTo(0, -52);
			sign.graphics.lineStyle(0, 0, 0);
			sign.graphics.beginFill(0xFFFFFF);
			sign.graphics.moveTo(0, -25);
			sign.graphics.lineTo(-6, -25);
			sign.graphics.lineTo(-4, 4);
			sign.graphics.lineTo(4, 4);
			sign.graphics.lineTo(6, -25);
			sign.graphics.lineTo(0, -25);
			sign.graphics.drawCircle(0, 13, 4);
			sign.graphics.endFill;
		sign.scaleX = size;
		sign.scaleY = size;
		},delay);
	}
function crtMiku(x_in, y_in, delay, life, size, type, par){
	//120*(-50~60)
	timer(function(){
		var miku = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par});
		var face = $.createShape({parent: miku});
			face.graphics.beginFill(0xFFFFDD);
			face.graphics.moveTo(-30, 20);
			face.graphics.lineTo(-30, -30);
			face.graphics.lineTo(30, -30);
			face.graphics.lineTo(30, 20);
			face.graphics.curveTo(0, 50, -30, 20);
			face.graphics.endFill;
		var hair = $.createShape({parent: miku});
			hair.graphics.beginFill(0x66FFCC);
			hair.graphics.moveTo(-10, -23);
			hair.graphics.curveTo(-18, -7, -24, -7);
			hair.graphics.curveTo(-30, 18, -17, 37);
			hair.graphics.curveTo(-41, 41, -36, -17);
			hair.graphics.curveTo(-55, 35, -20, 60);
			hair.graphics.curveTo(-60, 70, -60, 20);
			hair.graphics.curveTo(-55, -65, -33, -36);
			hair.graphics.curveTo(0, -66, 33, -36);
			hair.graphics.curveTo(55, -65, 60, 20);
			hair.graphics.curveTo(60, 70, 20, 60);
			hair.graphics.curveTo(55, 35, 36, -17);
			hair.graphics.curveTo(41, 41, 17,37);
			hair.graphics.curveTo(30, 18, 24, -7);
			hair.graphics.curveTo(18, -7, 10, -23);
			hair.graphics.curveTo(5, -17, 10, -3);
			hair.graphics.curveTo(-6, -3, -10, -23);
			hair.graphics.endFill;
		var band = $.createShape({parent: miku});
			band.graphics.beginFill(0x7777777);
			band.graphics.moveTo(31, -37);
			band.graphics.lineTo(34, -15);
			band.graphics.lineTo(38, -16);
			band.graphics.lineTo(35, -38);
			band.graphics.lineTo(31, -37);
			band.graphics.moveTo(-31, -37);
			band.graphics.lineTo(-34, -15);
			band.graphics.lineTo(-38, -16);
			band.graphics.lineTo(-35, -38);
		if(type &gt;= 1){
			var shy = $.createShape({parent: miku});
				shy.graphics.beginFill(0xFF9999);
				shy.graphics.drawEllipse(-24, 12, 13, 7);
				shy.graphics.drawEllipse(12, 12, 13, 7);
				shy.graphics.endFill;
			}
		if(type &gt;= 2){
			var anger = $.createShape({parent: miku});
				anger.graphics.lineStyle(2, 0xCC2222);
				anger.graphics.moveTo(19, -31);
				anger.graphics.curveTo(25, -25, 17, -22);
				anger.graphics.moveTo(19, -18);
				anger.graphics.curveTo(25, -25, 27, -16);
				anger.graphics.moveTo(31, -19);
				anger.graphics.curveTo(25, -25, 32, -28);
				anger.graphics.moveTo(31, -31);
				anger.graphics.curveTo(25, -25, 22, -33);
				anger.graphics.endFill;
			}
		if(type == -1){
			var cry = $.createShape({parent: miku});
				cry.graphics.lineStyle(2, 0x333333);
				cry.graphics.moveTo(-8, -25);
				cry.graphics.curveTo(0, 16, 8, -25);
				cry,graphics.endFill;
			}
		miku.scaleX = size+0.15;
		miku.scaleY = size+0.15;
			interval(function(){
				miku.scaleX -= 0.01;
				miku.scaleY -= 0.01;
			}, 10, 15);
		}, delay);
	}
function crtLuka(x_in, y_in, delay, life, size, type, par){
	//100*(-50~70)
	timer(function(){
		var luka = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par});
		var backhair = $.createShape({parent: luka});
			backhair.graphics.beginFill(0xFFBBDD);
			backhair.graphics.moveTo(-30, 20);
			backhair.graphics.lineTo(-46, 35);
			backhair.graphics.curveTo(-60, 56, -31, 62);
			backhair.graphics.curveTo(-34, 56, -33, 54);
			backhair.graphics.curveTo(-30, 66, -12, 67);
			backhair.graphics.curveTo(-16, 64, -15, 61);
			backhair.graphics.curveTo(-12, 68, 0, 70);
			backhair.graphics.curveTo(12, 68, 15, 61);
			backhair.graphics.curveTo(16, 64, 12, 67);
			backhair.graphics.curveTo(30, 66, 33, 54);
			backhair.graphics.curveTo(34, 56, 31, 62);
			backhair.graphics.curveTo(60, 56, 46, 35);
			backhair.graphics.lineTo(30, 20);
			backhair.graphics.lineTo(-30, 20);
			backhair.graphics.endFill;
		var face = $.createShape({parent: luka});
			face.graphics.beginFill(0xFFFFDD);
			face.graphics.moveTo(-30, 20);
			face.graphics.lineTo(-30, -30);
			face.graphics.lineTo(30, -30);
			face.graphics.lineTo(30, 20);
			face.graphics.curveTo(0, 50, -30, 20);
			face.graphics.endFill;
		if(type &gt;= 1){
			var anger = $.createShape({parent: luka});
				anger.graphics.beginFill(0x333366);
				anger.graphics.moveTo(-33, 9);
				anger.graphics.lineTo(33, 9);
				anger.graphics.lineTo(33, -28);
				anger.graphics.lineTo(-33, -28);
				anger.graphics.lineTo(-33, 9);
				anger.graphics.endFill;
			}
		var hair = $.createShape({parent: luka});
			hair.graphics.beginFill(0xFFBBDD);
			hair.graphics.moveTo(0, 0);
			hair.graphics.curveTo(-12, -10, -10, -22);
			hair.graphics.curveTo(-16, -12, -13, -2);
			hair.graphics.curveTo(-24, -10, -24, -20);
			hair.graphics.curveTo(-37, 10, -20, 35);
			hair.graphics.lineTo(-46, 35);
			hair.graphics.curveTo(-36, 15, -42, -5);
			hair.graphics.curveTo(-45, -26, -33, -36);
			hair.graphics.curveTo(0, -66, 33, -36);
			hair.graphics.curveTo(45, -26, 42, -5);
			hair.graphics.curveTo(36, 15, 46, 35);
			hair.graphics.lineTo(20, 35);
			hair.graphics.curveTo(37, 10, 24, -20);
			hair.graphics.curveTo(24, -10, 13, -2);
			hair.graphics.curveTo(16, -12, 10, -22);
			hair.graphics.curveTo(12, -10, 0, 0);
			hair.graphics.endFill;
		var band = $.createShape({parent: luka});
			band.graphics.beginFill(0x7777777);
			band.graphics.moveTo(-32, -25);
			band.graphics.curveTo(0, -58, 32, -25);
			band.graphics.curveTo(0, -48, -32, -25);
			band.graphics.endFill;
		if(type &gt;= 2){
			var laugh = $.createShape({parent: luka});
				laugh.graphics.lineStyle(2, 0x333333);
				laugh.graphics.moveTo(-8, 26);
				laugh.graphics.curveTo(0, 34, 8, 26);
				laugh.graphics.endFill;
			}
		if(type == -1){
			var cry = $.createShape({parent: luka});
				cry.graphics.beginFill(0x0066CC);
				cry.graphics.moveTo(-25, 3);
				cry.graphics.curveTo(-23, -24, -15, -24);
				cry.graphics.curveTo(23, -24, -25, 3);
				cry,graphics.endFill;
			}
		luka.scaleX = size+0.15;
		luka.scaleY = size+0.15;
			interval(function(){
				luka.scaleX -= 0.01;
				luka.scaleY -= 0.01;
			}, 10, 15);
		}, delay);
	}
function crtlrc(txt, x_in, y_in, delay, life, fsize){
	timer(function(){
		can = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:basic});
		lrc = $.createComment(txt,{x:-fsize/2*txt.length, y:-fsize/2-1, parent:can, lifeTime:life, fontsize:fsize});
		lrc.filters = null;
		}, delay);
	}

timer(function(){
	Plife = 1.6;
	var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
	var basb = $.createCanvas({parent:bas, lifeTime:totalLife});
	crtBackgroud(0x777777, 0, Plife, basb);
		crtPhone(-140, -45, 0, Plife, basb, 1, [{rotationZ:{fromValue:15}}]);
		crtPhone(140, -45, 0, Plife, basb, 1, [{rotationZ:{fromValue:-15}}]);
		crtPeople(-120, 165, 0, Plife, 1.5, 0xDDDDDD, basb, [{x:{fromValue:-130,toValue:-100,lifeTime:1.4}}]);
		crtPeople(120, 165, 0, Plife, 1.5, 0xDDDDDD, basb, [{x:{fromValue:130,toValue:100,lifeTime:1.4}, rotationY:{fromValue:180,toValue:180,lifeTime:1.4}}]);
		for(i = 0;i &lt; 4;i++) crtRowing(i*350, 0.35, i%2, bas);
		lrc = $.createComment("短い言葉で繋がる意味を",{x:-105, y:-15, color:0xFFFFFF, lifeTime:Plife, fontsize:18, parent:bas});
		lrc.filters = null;
	}, 0);
timer(function(){
	Plife = 1.6;
	var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
	var basb = $.createCanvas({parent:bas, lifeTime:totalLife});
	crtBackgroud(0xDDDDDD, 0, Plife, basb);
	crtPhone(-140, -45, 0, Plife, basb, 1, [{rotationZ:{fromValue:-15}}]);
	crtPhone(140, -45, 0, Plife, basb, 1, [{rotationZ:{fromValue:15}}]);
	crtPeople(-120, 165, 0, Plife, 1.5, 0x777777, basb, [{rotationY:{fromValue:180,toValue:180,lifeTime:1.4}, x:{fromValue:-130,toValue:-160,lifeTime:1.4}}]);
	crtPeople(120, 165, 0, Plife, 1.5, 0x777777, basb, [{x:{fromValue:130,toValue:160,lifeTime:1.4}}]);
	lrc = $.createComment("顔も合わせずに毛嫌う理由を",{x:-125, y:35, color:0, lifeTime:Plife, fontsize:18, parent:bas});
	lrc.filters = null;
	var lne0 = $.createShape({x:0, y:-45, lifeTime:Plife, parent:bas});
		lne0.graphics.lineStyle(6, 0x444444, 1, false, "normal", "none", "miter");
		lne0.graphics.moveTo(-75, 0);
		lne0.graphics.lineTo(75, 0);
		lne0.graphics.endFill;
	crtCross(0, -45, 0, 1.4, 12, 60, bas);
	}, 1400);
timer(function(){
	Plife = 1;
	var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
	var basb = $.createCanvas({parent:bas, lifeTime:totalLife});
	crtBackgroud(0x777777, 0, Plife, basb);
	crtBackgroud(0xDDDDDD, 500, Plife, basb);
	crtSearch(0, 0, 0, 0.48, 1, bas, "normal");
	crtSearch(-160, -90, 500, 0.5, 1/3, bas, "small");
	crtSearch(-160, 0, 500, 0.5, 1/3, bas, "small");
	crtSearch(-160, 90, 500, 0.5, 1/3, bas, "small");
	crtSearch(0, -90, 500, 0.5, 1/3, bas, "small");
	crtSearch(0, 0, 500, 0.5, 1/3, bas, "small");
	crtSearch(0, 90, 500, 0.5, 1/3, bas, "small");
	crtSearch(160, -90, 500, 0.5, 1/3, bas, "small");
	crtSearch(160, 0, 500, 0.5, 1/3, bas, "small");
	crtSearch(160, 90, 500, 0.5, 1/3, bas, "small");
	}, 2800);
timer(function(){
	Plife = 2;
	var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
	var basb = $.createCanvas({parent:bas, lifeTime:totalLife});
	xlife = 1.8;
	var basa = $.createCanvas({parent:bas, lifeTime:totalLife, motionGroup:[{alpha:{fromValue:1,toValue:0,lifeTime:xlife*2/5}},{alpha:{fromValue:0,toValue:1,lifeTime:xlife*2/5}},{alpha:{fromValue:1,toValue:0.5,lifeTime:xlife/5}}]});
	crtBackgroud(0x777777, 0, Plife, basb);
	crtWarnsign(-143, 10, 0, 1.8, 1, basa);
	lrc = $.createComment("見つからないけど",{x:-85, y:-15, parent:basa, lifeTime:1.8, fontsize:33});
	lrc.filters = null;
	}, 3800);
timer(function(){
	Plife = 3;
	var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
	var basb = $.createCanvas({parent:bas, lifeTime:totalLife});
	crtBackgroud(0x666666, 0, Plife, basb);
	crtBackgroud(0x555555, 1400, Plife, basb);
	crtMiku(0, 0, 0, 0.33, 1.2, 0, bas);
	crtMiku(0, 0, 350, 0.33, 1.2, 1, bas);
	crtMiku(0, 0, 700, 0.7, 1.2, 2, bas);
	crtCross(0, 0, 1050, 0.35, 20, 100, bas);
	crtLuka(0, 0, 1400, 0.33, 1.2, 0, bas);
	crtLuka(0, 0, 1750, 0.33, 1.2, 1, bas);
	crtLuka(0, 0, 2100, 0.7, 1.2, 2, bas);
	crtCross(0, 0, 2450, 0.35, 20, 100, bas);
	lrc = $.createComment("は\nに\nか\nみ\nな\nが\nら\n怒\nっ\nた\nっ\nて",{x:125, y:-120, parent:basic, lifeTime:2.8, fontsize:20});	
	lrc.filters = null;
	}, 5600);
timer(function(){
	Plife = 3;
	lrc = $.createComment("目\nを\n伏\nせ\nな\nが\nら\n笑\nっ\nた\nっ\nて",{x:-145, y:-120, parent:basic, lifeTime:1.4, fontsize:20});
	lrc.filters = null;
	}, 7000);
timer(function(){
	Plife = 3;
	var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
	var basb = $.createCanvas({parent:bas, lifeTime:totalLife});
	crtBackgroud(0x444444, 0, 3.0, basb);
	crtBackgroud(0x333333, 700, 3.0, basb);
	crtBackgroud(0x222222, 1300, 3.0, basb);
	lrc = $.createComment("そんなの",{x:-180, y:-80, parent:bas, lifeTime:3, fontsize:40});
	lrc.filters = null;
	timer(function(){
		lrc = $.createComment("どうせ",{x:60, y:-80, parent:bas, lifeTime:2.2, fontsize:40});
		lrc.filters = null;
		}, 700);
	timer(function(){
		txt = "つまらないわ！";
		i = 0;
		interval(function(){
			sub = txt.substring(i, i+1);
			lrc = $.createComment(sub, {x:-180+i*54, y:-5+Utils.rand(0,20), parent:bas, lifeTime:1.7-i*0.10, fontsize:Utils.rand(36,72)});
			lrc.filters = null;
			lrc.rotationZ = Utils.rand(-10,10);
			i++;
			}, 120, 7);
		}, 1200);
	}, 8400);



crtMask(0);
crtlryic("用短短话语联系起的意义", 75.6, 77.0);
crtlryic("面都没见就超讨厌的理由", 77.0, 78.4);
crtlryic("不管怎么找，怎么找", 78.4, 79.4);
crtlryic("怎么都找不到", 79.4, 81.2);
crtlryic("含羞之余发怒什么的", 81.2, 82.6);
crtlryic("低头之余笑着什么的", 82.6, 84.0);
crtlryic("那种事情，反正", 84.0, 85.3);
crtlryic("都很无聊啦！", 85.3, 86.5);
</d>
<d p="86.199996948242,8,25,16777215,1440123663,2,0823e18c,1132367225">//86.2
var totalLife = 11.5;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife, motionGroup:[{rotationZ:{fromValue:0, lifeTime:8.5}}, {rotationZ:{fromValue:0, toValue:10, lifeTime:0.5, easing:"Cubic"}}, {rotationZ:{fromValue:15, lifeTime:0.6}}, {rotationZ:{fromValue:-25, lifeTime:0.7}, y:{fromValue:10,lifeTime:0.7}}, {rotationZ:{fromValue:5, lifeTime:0.7}, y:{fromValue:20, lifeTime:0.7}}, {rotationZ:{fromValue:0}, y:{fromValue:0}}]});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});


var bastop = $.createCanvas({parent:basic, lifeTime:11.8, motion:{x:{fromValue:0, toValue:-480, lifeTime:0.2, startDelay:11200}}});

function crtMask(delay, par){
	timer(function(){
		var basic_mask = $.createShape({parent:par, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}
function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}
function crtlryic(txt, delay, life){
	timer(function(){
		$.createComment(txt,{x:-230, y:145, color:0xFFFFFF, lifeTime:life-delay-0.02, fontsize:20, parent:edge});
		}, (delay-86.4)*1000);
	}

function crtDPeople(x_in, y_in, cl, delay, life, size, type, par, mot){
	//100*140
	timer(function(){
		var people = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
		//if(type == 2)people.graphics.lineStyle(8, cl);
		var body = $.createShape({parent:people, lifeTime:life});
			body.graphics.beginFill(cl);
			body.graphics.drawCircle(0, -53, 17);
			body.graphics.drawRect(-15, -30, 30, 60);
			body.graphics.endFill;
		var hand = $.createShape({parent:people, lifeTime:life});
			hand.graphics.beginFill(cl);
			hand.graphics.drawRoundRect(-50, -33, 100, 16, 8, 8);
			hand.graphics.endFill;
		var leg = $.createShape({parent:people, lifeTime:life});
			leg.graphics.beginFill(cl);
			leg.graphics.drawRoundRect(-18, -30, 16, 100, 8, 8);
			leg.graphics.drawRoundRect(2, -30, 16, 100, 8, 8);
			leg.graphics.endFill;
		if(type == 1){
			var skirt = $.createShape({parent:people, lifeTime:life});
				skirt.graphics.beginFill(cl);
				skirt.graphics.moveTo(-18, -17);
				skirt.graphics.lineTo(-35, 30);
				skirt.graphics.lineTo(35, 30);
				skirt.graphics.lineTo(18, -17);
				skirt.graphics.lineTo(-18, -17);
				skirt.graphics.endFill;
			}
		people.scaleX = size;
		people.scaleY = size;
		}, delay);
	}
function crtPeople(x_in, y_in, delay, life, size, cl, type, par, mot){
	//160*200
	timer(function(){
		var people = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
			people.graphics.beginFill(cl);
			people.graphics.lineStyle(5, cl);
			people.graphics.drawCircle(10, -79, 21);
			people.graphics.moveTo(0, -50);
			people.graphics.lineTo(-40, -50);
			people.graphics.lineTo(-80, -10);
			people.graphics.lineTo(-63, 7);
			people.graphics.lineTo(-32, -26);
			people.graphics.lineTo(-22, -26);
			people.graphics.lineTo(-40, 20);
			people.graphics.lineTo(-40, 50);
			people.graphics.lineTo(-80, 50);
			people.graphics.lineTo(-80, 75);
			people.graphics.lineTo(-11, 75);
			people.graphics.lineTo(-11, 35);
			people.graphics.lineTo(49, 100);
			people.graphics.lineTo(70, 78);
			people.graphics.lineTo(15, 20);
			people.graphics.lineTo(25, -14);
			people.graphics.lineTo(45, 10);
			people.graphics.lineTo(80, 10);
			people.graphics.lineTo(80, -10);
			people.graphics.lineTo(65, -10);
			people.graphics.lineTo(30, -50);
			people.graphics.lineTo(0, -50);
			people.graphics.endFill;
		people.scaleX = size;
		people.scaleY = size;
		}, delay);
	}
function crtBigRow(x_in, y_in, delay, life, cl, rad, size, par){
	//40*50
	timer(function(){
		var row = $.createShape({x:x_in, y:y_in, parent:par, lifeTime:life});
			row.graphics.beginFill(cl);
			row.graphics.moveTo(0, -25);
			row.graphics.lineTo(-20, -5);
			row.graphics.lineTo(-8, -5);
			row.graphics.lineTo(-8, 25);
			row.graphics.lineTo(8, 25);
			row.graphics.lineTo(8, -5);
			row.graphics.lineTo(20, -5);
			row.graphics.lineTo(0, -25);
			row.graphics.endFill;
		row.rotation = rad;
		row.scaleX = size;
		row.scaleY = size;
		}, delay);
	}
function crtDmask(delay, life, par, type){
	timer(function(){
		if(type == "out"){
			var m = $.createShape({parent:par, lifeTime:life});
				m.graphics.beginFill(0xFFFFFF);
				m.graphics.drawRect(-79, -89, 158, 178);
				m.graphics.endFill;
			}
		if(type == "in"){
			var m = $.createShape({parent:par, lifeTime:life});
				m.graphics.beginFill(0xFFFFFF);
				m.graphics.drawRect(-136, -90, 20, 180);
				m.graphics.endFill;
			}
		var dedge = $.createShape({parent:par, lifeTime:life});
			dedge.graphics.beginFill(0x777777);
			dedge.graphics.drawRect(-116, -90, 36, 180);
			dedge.graphics.drawRect(80, -90, 36, 180);
			dedge.graphics.endFill;
		}, delay);
	}

function lrc9_1(txt, x_in, y_in, delay, space, in_life, out_life, par){
	timer(function(){
		if(out_life &lt; 1) {
			life = in_life+out_life;
			c = $.createCanvas({x:0, y:y_in, parent:par, lifeTime:life});
			}
		else{
			life = 2.6;
			c = $.createCanvas({x:0, y:y_in, parent:par, lifeTime:life, motion:{rotationY:{fromValue:0,toValue:90,lifeTime:0.2, startDelay:600}}});
			}
		for(i = 0;i &lt; txt.length; i++){
			sub = txt.substring(i,i+1);
			lrc = $.createComment(sub,{y:-20, lifeTime:life, color:0, fontsize:42, parent:c, motionGroup:[{x:{fromValue:0,toValue:x_in+i*space,lifeTime:in_life-0.05, easing:"Linear"}}, {x:{fromValue:x_in+i*space,toValue:0,lifeTime:out_life-0.05,startDelay:100, easing:"Linear"}}]});
			lrc.filters = null;
			}
		}, delay);
	}
function lrc9_2(txt, x_in, y_in, delay, life, fsize, par){
	timer(function(){
		c = $.createCanvas({parent:par, lifeTime:life, motion:{rotationY:{fromValue:-90,toValue:90,lifeTime:life}}});
		lrc = $.createComment(txt,{x:x_in, y:y_in, parent:c, color:0, lifeTime:life, fontsize:fsize});
		lrc.filters = null;
		},delay);
	}
function lrc9_3(txt, x_in, y_in, delay, life, par, type){
	timer(function(){
		var basx = $.createCanvas({parent:par, lifeTime:life});
		var basr = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life, motionGroup:[{x:{fromValue:x_in-70, toValue:x_in, lifeTime:0.1}}, {x:{fromValue:x_in, toValue:x_in+70, lifeTime:0.1, startDelay:(life-0.2)*1000}}]});
		lrc = $.createComment(txt, {x:-10*txt.length, y:-40, parent:basr, color:0, lifeTime:life, fontsize:18});
			lrc.filters = null;
		if(type == "out"){
			crtBigRow(0, 0, 0, life, 0, 90, 1, basr);
			}
		else if(type == "in"){
			crtBigRow(0, -170, 0, life, 0, 90, 0.8, basr);
			}
		}, delay);
	}

timer(function(){
	Plife = 13;
	var basup = $.createCanvas({y:380, parent:bastop, lifeTime:Plife, motion:{rotationZ:{fromValue:90, toValue:0, lifeTime:0.2, startDelay:100}}});
	var bas = $.createCanvas({y:-380, parent:basup, lifeTime:Plife});
	var basb = $.createCanvas({parent:bas, lifeTime:Plife});
	var groud = $.createShape({parent:basb, lifeTime:Plife});
		groud.graphics.beginFill(0xFFFFFF);
		groud.graphics.moveTo(0, 380);
		groud.graphics.lineTo(-600, -220);
		groud.graphics.lineTo(600, -220);
		groud.graphics.lineTo(0, 380);
		groud.graphics.endFill;
	
	crtDPeople(-130, 0, 0, 0, 5.7, 1, 0, bas, [{x:{fromValue:-130,toValue:130,lifeTime:0.4, startDelay:500, easing:"Sine"}}, {x:{fromValue:130,toValue:140,lifeTime:0.1}}, {x:{fromValue:140,toValue:130,lifeTime:0.1}}, {x:{fromValue:130,toValue:-130,lifeTime:0.4, easing:"Sine"}}, {x:{fromValue:-130,toValue:-140,lifeTime:0.1}}, {x:{fromValue:-140,toValue:-130,lifeTime:0.1}}, {x:{fromValue:-130,toValue:130,lifeTime:0.6, easing:"Sine"}}]);
	crtDPeople(130, 0, 0, 0, 5.4, 1, 1, bas, [{x:{fromValue:130,toValue:-130,lifeTime:0.4, startDelay:500, easing:"Sine"}}, {x:{fromValue:-130,toValue:-140,lifeTime:0.1}}, {x:{fromValue:-140,toValue:-130,lifeTime:0.1}}, {x:{fromValue:-130,toValue:130,lifeTime:0.4, easing:"Sine"}}, {x:{fromValue:130,toValue:140,lifeTime:0.1}}, {x:{fromValue:140,toValue:130,lifeTime:0.1}}, {x:{fromValue:130,toValue:-130,lifeTime:0.6, easing:"Sine"}}]);

	lrc9_1("hop", -60, 0, 800, 51, 0.3, 0.3, bas);
	lrc9_1("stepで", -90, 0, 1400, 33, 0.3, 0.4, bas);
	lrc9_1("踊ろうか", -83, 0, 2000, 43, 0.4, 10, bas);
	lrc9_2("世界", -40, -20, 2700, 0.8, 42, bas);
	lrc9_2("の", -19, -20, 3500, 0.6, 42, bas);
	lrc9_2("隅っこで", -75, -20, 4200, 1, 36, bas);

	timer(function(){
		Plife = 14.5;
		var s = $.createShape({x:-240, y:-140, parent:bas, lifeTime:Plife, motion:{rotationZ:{fromValue:-90, toValue:0, lifeTime:0.3, easing:"Circle"}}});
			s.graphics.beginFill(0x777777);
			s.graphics.drawRect(14, 14, 36, 36);
			s.graphics.endFill;
		var s = $.createShape({x:240, y:140, parent:bas, lifeTime:Plife, motion:{rotationZ:{fromValue:-90, toValue:0, lifeTime:0.3, easing:"Circle"}}});
			s.graphics.beginFill(0x777777);
			s.graphics.drawRect(-50, -50, 36, 36);
			s.graphics.endFill;
	}, 500);
	var basleft = $.createCanvas({alpha:0, parent:bastop, lifeTime:Plife, motion:{alpha:{fromValue:0, toValue:1, lifeTime:0.1, startDelay:1000}, x:{fromValue:0, toValue:110, lifeTime:0.2, startDelay:4300}}});
	var l = $.createShape({x:0, y:0, parent:basleft, lifeTime:Plife, motion:{ x:{fromValue:0, toValue:35, lifeTime:0.2, startDelay:4300}}});
		l.graphics.beginFill(0xFFFFFF);
		l.graphics.drawRect(-440, -140, 214, 280);
		l.graphics.endFill;
	var basright = $.createCanvas({parent:bastop, lifeTime:Plife, motion:{x:{fromValue:0, toValue:-110, lifeTime:0.2, startDelay:4300}}});
	var r = $.createShape({x:0, y:0, parent:basright, lifeTime:Plife, motion:{x:{fromValue:0, toValue:-36, lifeTime:0.2, startDelay:4300}}});
		r.graphics.beginFill(0xFFFFFF);
		r.graphics.drawRect(227, -140, 214, 280);
		r.graphics.endFill;
	timer(function(){
		Plife = 14;
		for(i = 0; i &lt; 9; i++){
			var s = $.createShape({x:-208, y:-108, parent:bas, lifeTime:Plife, motion:{x:{fromValue:-208, toValue:-208+i*52, lifeTime:0.4, easing:"Exponential"}}});
				s.graphics.beginFill(0x777777);
				s.graphics.drawRect(-18, -18, 36, 36);
				s.graphics.endFill;
			}
		for(i = 0; i &lt; 9; i++){
			var s = $.createShape({x:208, y:108, parent:bas, lifeTime:Plife, motion:{x:{fromValue:208, toValue:208-i*52, lifeTime:0.4, easing:"Exponential"}}});
				s.graphics.beginFill(0x777777);
				s.graphics.drawRect(-18, -18, 36, 36);
				s.graphics.endFill;
			}
		}, 1000);
	timer(function(){
		Plife = 13.2;
		for(i = 0; i &lt; 4; i++){
			var s = $.createShape({x:208, y:-108, parent:basright, lifeTime:Plife, motion:{y:{fromValue:-108, toValue:-108+i*54, lifeTime:0.4, easing:"Exponential"}}});
				s.graphics.beginFill(0x777777);
				s.graphics.drawRect(-18, -18, 36, 36);
				s.graphics.endFill;
			}
		for(i = 0; i &lt; 4; i++){
			var s = $.createShape({x:-208, y:108, parent:basleft, lifeTime:Plife, motion:{y:{fromValue:108, toValue:108-i*54, lifeTime:0.4, easing:"Exponential"}}});
				s.graphics.beginFill(0x777777);
				s.graphics.drawRect(-18, -18, 36, 36);
				s.graphics.endFill;
			}
		}, 1800);
	timer(function(){
		Plife = 12.3;
		for(i = 0; i &lt; 8; i++){
			var s = $.createShape({x:-208+i*52, y:-108, parent:bas, lifeTime:Plife, motion:{x:{fromValue:-208+i*52, toValue:-182+i*52, lifeTime:0.4}}});
				s.graphics.beginFill(0x777777);
				s.graphics.drawRect(-8, -18, 18, 36);
				s.graphics.endFill;
			}
		for(i = 0; i &lt; 8; i++){
			var s = $.createShape({x:208-i*52, y:108, parent:bas, lifeTime:Plife, motion:{x:{fromValue:208-i*52, toValue:182-i*52, lifeTime:0.4}}});
				s.graphics.beginFill(0x777777);
				s.graphics.drawRect(-8, -18, 18, 36);
				s.graphics.endFill;
			}
		}, 2700);
	timer(function(){
		Plife = 12.4;
		for(i = 0; i &lt; 4; i++){
			var s = $.createShape({x:208, y:-108+i*54, parent:basright, lifeTime:Plife, motion:{y:{fromValue:-108+i*54, toValue:-81+i*54, lifeTime:0.4}}});
				s.graphics.beginFill(0x777777);
				s.graphics.drawRect(-18, -9, 36, 18);
				s.graphics.endFill;
			}
		for(i = 0; i &lt; 4; i++){
			var s = $.createShape({x:-208, y:108-i*54, parent:basleft, lifeTime:Plife, motion:{y:{fromValue:108-i*54, toValue:81-i*54, lifeTime:0.4}}});
				s.graphics.beginFill(0x777777);
				s.graphics.drawRect(-18, -9, 36, 18);
				s.graphics.endFill;
			}
		}, 3500);
	timer(function(){
		Plife = 0.2;
		var s = $.createShape({x:0, y:0, parent:basb, lifeTime:Plife, motion:{x:{fromValue:0, toValue:380, lifeTime:Plife}}});
			s.graphics.beginFill(0x999999);
			s.graphics.drawRect(-280, -90, 200, 180);
			s.graphics.endFill;
		lrc = $.createComment("1", {x:10, y:-60, lifeTime:Plife, color:0xFFFFFF, parent:bas, fontsize:108});
		lrc.filters = null;
		lrc.rotationZ = 20;
		}, 5350);
	timer(function(){
		Plife = 0.2;
		var s = $.createShape({x:0, y:0, parent:basb, lifeTime:Plife, motion:{x:{fromValue:0, toValue:-380, lifeTime:Plife}}});
			s.graphics.beginFill(0x999999);
			s.graphics.drawRect(80, -90, 200, 180);
			s.graphics.endFill;
		lrc = $.createComment("2", {x:-65, y:-40, lifeTime:Plife, color:0xFFFFFF, parent:bas, fontsize:108});
		lrc.filters = null;
		lrc.rotationZ = -20;
		}, 5650);
	var bas1 = $.createCanvas({parent:bastop, lifeTime:11.8});
	var bas2 = $.createCanvas({parent:bastop, lifeTime:11.8});
	var bas3 = $.createCanvas({parent:bastop, lifeTime:11.8});
	var bas4 = $.createCanvas({parent:bastop, lifeTime:11.8});
	lrc9_3("ちょっと", -178, 60, 6000, 0.6, bas1, "out");
	lrc9_3("クラッと", 178, 10, 6600, 0.6, bas1, "out");
	crtPeople(0, 0, 7300, 0.8, 0.5, 0, "full", bas3, [{x:{fromValue:-70, toValue:0, lifeTime:0.1}}]);
	crtPeople(0, 0, 8100, 7, 0.5, 0, "full", basic);
	lrc9_3("しそうになる", 0, 100, 7300, 1.2, bas3, "in");
	lrc9_3("終末感を", -178, 20, 8400, 3.6, bas1, "out");
	lrc9_3("楽しんで", 178, 20, 10200, 2.5, bas1, "out");
	crtDmask(6000, 5.8, bas2, "out");
	crtDmask(7300, 4.5, bas4, "in");
	timer(function(){
		var s9_2 = $.createShape({parent:basic, lifeTime:1});
			s9_2.graphics.lineStyle(8, 0);
			s9_2.graphics.moveTo(-12, -61);
			s9_2.graphics.lineTo(-60, 23);
			s9_2.graphics.curveTo(-72, 53, -48, 53);
			s9_2.graphics.lineTo(48, 53);
			s9_2.graphics.curveTo(72, 53, 60, 23);
			s9_2.graphics.lineTo(12, -61);
			s9_2.graphics.curveTo(0, -81, -12, -61);
			s9_2.graphics.endFill;
		}, 8500);
	timer(function(){
		var s9_3 = $.createShape({parent:basic, lifeTime:0.7});
			s9_3.graphics.lineStyle(8, 0);
			s9_3.graphics.drawCircle(0, 0, 70);
			s9_3.graphics.endFill;
		var s9_4 = $.createShape({parent:basic, lifeTime:0.7});
			s9_4.graphics.beginFill(0);
			s9_4.graphics.lineStyle(2, 0xFFFFFF);
			s9_4.graphics.drawRect(-60, -10, 120, 20);
			s9_4.graphics.endFill;
			}, 9500);
	timer(function(){
		var s9_5 = $.createShape({parent:basic, lifeTime:0.7});
			s9_5.graphics.beginFill(0x0);
			s9_5.graphics.lineStyle(2, 0xFFFFFF);
			s9_5.graphics.moveTo(0, -10);
			s9_5.graphics.lineTo(-50, -60);
			s9_5.graphics.lineTo(-60, -50);
			s9_5.graphics.lineTo(-10, 0);
			s9_5.graphics.lineTo(-60, 50);
			s9_5.graphics.lineTo(-50, 60);
			s9_5.graphics.lineTo(0, 10);
			s9_5.graphics.lineTo(50, 60);
			s9_5.graphics.lineTo(60, 50);
			s9_5.graphics.lineTo(10, 0);
			s9_5.graphics.lineTo(60, -50);
			s9_5.graphics.lineTo(50, -60);
			s9_5.graphics.lineTo(0,-10);
			s9_5.graphics.endFill;
		var left_bas = $.createShape({parent:bastop, lifeTime:3});
			left_bas.graphics.beginFill(0xFFFFFF);
			left_bas.graphics.drawRect(240, -200, 600, 400);
			left_bas.graphics.endFill;
			}, 10200);
	}, 0);

crtMask(0, edge);
crtMask(0, basic);
crtlryic("要用 hop step 跳起舞吗", 86.9, 89.2);
crtlryic("在世界的小角落数起 1·2", 89.2, 92.5);
crtlryic("享受一下仿佛要晕了的末日感吧", 92.5, 97.4);</d>
<d p="97.400001525879,8,25,16777215,1440123673,2,0823e18c,1132367689">//97.4
var totalLife = 11.7;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}
function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}
function crtlryic(txt, delay, life){
	timer(function(){
		$.createComment(txt,{x:-230, y:145, color:0xFFFFFF, lifeTime:life-delay-0.02, fontsize:20, parent:edge});
		}, (delay-97.5)*1000);
	}

function crtPeople(x_in, y_in, delay, life, size, cl, type, par, mot){
	//160*200
	timer(function(){
		var people = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
			if(type == "full") people.graphics.beginFill(cl);
			else if(type == "blank") people.graphics.lineStyle(5, cl);
			people.graphics.drawCircle(10, -79, 21);
			people.graphics.moveTo(0, -50);
			people.graphics.lineTo(-40, -50);
			people.graphics.lineTo(-80, -10);
			people.graphics.lineTo(-63, 7);
			people.graphics.lineTo(-32, -26);
			people.graphics.lineTo(-22, -26);
			people.graphics.lineTo(-40, 20);
			people.graphics.lineTo(-40, 50);
			people.graphics.lineTo(-80, 50);
			people.graphics.lineTo(-80, 75);
			people.graphics.lineTo(-11, 75);
			people.graphics.lineTo(-11, 35);
			people.graphics.lineTo(49, 100);
			people.graphics.lineTo(70, 78);
			people.graphics.lineTo(15, 20);
			people.graphics.lineTo(25, -14);
			people.graphics.lineTo(45, 10);
			people.graphics.lineTo(80, 10);
			people.graphics.lineTo(80, -10);
			people.graphics.lineTo(65, -10);
			people.graphics.lineTo(30, -50);
			people.graphics.lineTo(0, -50);
			people.graphics.endFill;
		people.scaleX = size;
		people.scaleY = size;
		}, delay);
	}
function crtBuilding(x_in, y_in, delay, life, cl, w_in, h_in, win_x, win_y, win_s, win_bew, par, mot){
	timer(function(){
		var building = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
		var bas = $.createShape({lifeTime:life, parent:building});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-w_in/2, -h_in/2, w_in, h_in);
			bas.graphics.endFill;
		for(i = 0; i &lt; win_y; i++){
			for(j = 0; j&lt; win_x; j++){
					var window = $.createShape({x:-(win_x-2*j-1)/2*(win_bew+win_s), y:(w_in-(win_x*(win_bew+win_s)-win_bew))*(i+2)/2+win_s*i-h_in/2, lifeTime:life, parent:building});
					window.graphics.beginFill(0xFFFFFF);
					window.graphics.drawRect(-win_s/2, -win_s/2, win_s, win_s);
					window.graphics.endFill;
				}
			}
		}, delay);
	}
function crtRBuilding(x_in, y_in, delay, life, par, mot){
	timer(function(){
		var building = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life, motionGroup:mot});
		for(i = 0; i &lt; 12; i++){
			var can = $.createCanvas({x:-10, y:-22, parent:building, lifeTime:life});
			crtBuilding(5, 210, 0, life, 0x444444, 70, 200, 2, 10, 18, 10, can, [{y:{fromValue:360, toValue:250, lifeTime:3}}]);
			can.rotationZ = i*30;
			}
		}, delay);
	}
function crtDoor(x_in, y_in, delay, life, type, size, par, mot){
	//98*108描点在轴中央
	timer(function(){
		var c, i;
		switch(type){
			case "left":i = -1; c = 0xBBBBBB; break;
			case "right":i = 1; c = 0x777777; break;
		}
		var door = $.createCanvas({x:x_in-49*i*size, y:y_in, parent:par, lifeTime:life, motionGroup:mot});
		var door_bas = $.createShape({lifeTime:life, parent:door});
			door_bas.graphics.lineStyle(3, c, 1);
			door_bas.graphics.beginFill(0xFFFFFF);
			door_bas.graphics.moveTo(0, 54);
			door_bas.graphics.lineTo(98*i, 54);
			door_bas.graphics.lineTo(98*i, -54);
			door_bas.graphics.lineTo(0, -54);
			door_bas.graphics.lineTo(0, 54);
			door_bas.graphics.endFill;
		var handle = $.createShape({lifeTime:life, parent:door});
			handle.graphics.beginFill(c);
			handle.graphics.drawRect(78*i-4, -4, 8, 8);
			handle.graphics.endFill;
		door.scaleX = size;
		door.scaleY = size;
		}, delay);
	}

function lrc(txt, x_in, y_in, delay, life, par){
	timer(function(){
		con = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life});
		for(i = 0;i &lt; txt.length; i++){
			sub = txt.substring(i,i+1);
			lrc = $.createComment(sub,{x:-12, y:i*30, color:0, lifeTime:life, fontsize:30, parent:con});
			lrc.filters = null;
			}
		}, delay);
	}
function lrcRound(txt, x_in, y_in, delay, life, par, mot){
	timer(function(){
		con = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life, motionGroup:mot});
		for(i = 0; i &lt; txt.length; i++){
			c = $.createCanvas({parent:con, lifeTime:life});
			sub = txt.substring(i,i+1);
			lrc = $.createComment(sub,{x:-10, y:75, color:0, lifeTime:life, fontsize:30, parent:c});
			lrc.filters = null;
			c.rotationZ = (txt.length/2-i)*20;
			}
		}, delay);
	}

timer(function(){
	Plife = 2.8;
	var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
	var basb = $.createCanvas({parent:bas, lifeTime:totalLife});
	var basbb = $.createCanvas({parent:basb, lifeTime:totalLife});
	crtBackgroud(0xFFFFFF, 100, totalLife, basbb);
	crtPeople(0, 0, 100, 1.5, 0.5, 0, "full", basb, [{rotationZ:{fromValue:0,toValue:180,lifeTime:0.7, easing:"Circular", startDelay:400}, y:{fromValue:0,toValue:240,lifeTime:0.2, startDelay:1000}}]);
	crtPeople(0, 0, 100, 1.8, 0.5, 0, "blank", bas, [{rotationZ:{fromValue:0,toValue:180,lifeTime:0.7, easing:"Circular", startDelay:400}}]);
	lrc("パッと", 160, -85, 600, 2.6, bas);
	lrc("フラッと", 100, -55, 1200, 2.0, bas);
	lrc("消えちゃいそな", -140, -105, 2000, 1.2, bas);
	timer(function(){
		var cir = $.createShape({parent:basb, life:0.6, motionGroup:[{x:{fromValue:480, toValue:0, lifeTime:0.3}, rotationZ:{fromValue:-225, lifeTime:0.3}}, {rotationZ:{fromValue:-225, toValue:0,  lifeTime:0.7, easing:"Circular", startDelay:200}}]});
			cir.graphics.beginFill(0xBBBBBB);
			cir.graphics.moveTo(-140, 0);
			cir.graphics.lineTo(-180, 0);
			cir.graphics.curveTo(-162, -162, 0, -180);
			cir.graphics.curveTo(162, -162, 180, 0);
			cir.graphics.lineTo(220, 0);
			cir.graphics.lineTo(160, 60);
			cir.graphics.lineTo(100, 0);
			cir.graphics.lineTo(140, 0);
			cir.graphics.curveTo(126, -126, 0, -140);
			cir.graphics.curveTo(-126, -126, -140, 0);
			cir.graphics.endFill;
		}, 0);
	timer(function(){
		for(i = 0; i &lt; 7; i++){
			y0 = 200-40*i;
			var down = $.createShape({x:-210+70*i, y:y0, parent:basb, life:0.8, motionGroup:[{y:{fromValue:y0-240, toValue:y0, lifeTime:0.1}}, {y:{fromValue:y0, toValue:y0+40, lifeTime:0.6}}, {y:{fromValue:y0+40, toValue:240, lifeTime:0.1}}]});
				down.graphics.beginFill(0xBBBBBB);
				down.graphics.lineStyle(3, 0xFFFFFF);
				down.graphics.lineTo(-80, -80);
				down.graphics.lineTo(-40, -80);
				down.graphics.lineTo(-40, -580);
				down.graphics.lineTo(40, -580);
				down.graphics.lineTo(40, -80);
				down.graphics.lineTo(80, -80);
				down.graphics.lineTo(0, 0);
				down.graphics.endFill;
			}
		}, 1100);
	timer(function(){
		for(i = 0; i &lt; 20; i++){
			var line = $.createShape({parent:basb, lifeTime:1.2});
				line.graphics.lineStyle(3, 0, 1, false, "normal", "round", "bevel");
				line.graphics.moveTo(55, 0);
				line.graphics.lineTo(70, 0);
				line.graphics.lineStyle(1, 0, 1, false, "normal", "round", "round");
				line.graphics.moveTo(67, -3);
				line.graphics.lineTo(70, 0);
				line.graphics.lineTo(67, 3);
				line.graphics.endFill;
				line.rotationZ = 18*i;
				}
		var msko = $.createShape({parent:basb, lifeTime:0.5});
			msko.graphics.beginFill(0xBBBBBB);
			msko.graphics.drawCircle(0, 0, 160);
			msko.graphics.drawCircle(0, 0, 110);
			msko.graphics.endFill;
		msko.scaleX = 0.5;
		msko.scaleY = 0.5;
		interval(function(){
			msko.scaleX += 0.02;
			msko.scaleY += 0.02;
		}, 20, 25);
		timer(function(){
			var msk = $.createShape({parent:basb, lifeTime:1.2});
				msk.graphics.beginFill(0xBBBBBB);
				msk.graphics.drawCircle(0, 0, 100);
				msk.graphics.endFill;
			msk.scaleX = 0.5;
			msk.scaleY = 0.5;
			interval(function(){
				msk.scaleX += 0.03;
				msk.scaleY += 0.03;
				}, 20, 50);
			}, 500);
		}, 1950);
	}, 0);
timer(function(){
	Plife = 2.8;
	var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
	var basb = $.createCanvas({parent:bas, lifeTime:totalLife});
	crtBackgroud(0xBBBBBB, 0, totalLife, basb);
	crtRBuilding(0, 0, 0, 8.4, basb, [{rotationZ:{fromValue:-90,toValue:90,lifeTime:3.1}}, {rotationZ:{fromValue:90,toValue:180,lifeTime:0.7}}, {rotationZ:{fromValue:-180, toValue:0,lifeTime:0.7}}, {rotationZ:{fromValue:0,toValue:1080,lifeTime:4.2}}]);
	lrcs =  $.createCanvas({x:0, y:2, parent:basic, lifeTime:3.1, motion:{rotationZ:{fromValue:0, toValue:60, lifeTime:3.1}}});
	lrc = $.createComment("次の瞬間を",{x:-110, y:-60, fontsize:42, lifeTime:3.1, color:0, parent:lrcs});
	lrc.filters = null;
	lrc = $.createComment("残そうか",{x:-93, y:10, fontsize:42, lifeTime:3.1, color:0, parent:lrcs});
	lrc.filters = null;
	lrcs.scaleX = 1.5;
	lrcs.scaleY = 1.5;
	interval(function(){
		lrcs.scaleX -= 0.1;
		lrcs.scaleY -= 0.1;
	}, 20, 5);
	timer(function(){
		interval(function(){
			lrcs.scaleX -= 0.005;
			lrcs.scaleY -= 0.005;
			}, 20, 160);
		}, 100);
	}, 3000);
timer(function(){
	Plife = 3.7;
	var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
	var basw = $.createCanvas({parent:bas, lifeTime:totalLife, motion:{alpha:{fromValue:1, toValue:0, lifeTime:1.5, startDelay:1200}}});
	lrcRound("くる", 0, 0, 0, 0.65, basw, [{rotationZ:{fromValue:0,toValue:70,lifeTime:0.3, easing:"Exponential"}}, {rotationZ:{fromValue:70,toValue:-70,lifeTime:0.3, startDelay:100, easing:"Exponential"}}]);
	lrcRound("くるくる", 0, 0, 650, 0.7, basw, [{rotationZ:{fromValue:-50,toValue:50,lifeTime:0.3, easing:"Exponential", startDelay:100}}, {rotationZ:{fromValue:50,toValue:-40,lifeTime:0.3, easing:"Exponential", startDelay:100}}]);
	lrcRound("くるくるり", 0, 0, 1400, 0.9, basw, [{rotationZ:{fromValue:-40,toValue:25,lifeTime:0.2, easing:"Exponential", startDelay:100}}, {rotationZ:{fromValue:25,toValue:-10,lifeTime:0.2, startDelay:100}}, {rotationZ:{fromValue:-10,toValue:0,lifeTime:0.1, startDelay:100}}]);

	crtPeople(0, 0, 0, 5.3, 0.6, 0, "full", bas, [{rotationZ:{fromValue:-20,toValue:40}}]);
		bas.scaleX = 1.5;
		bas.scaleY = 1.5;
	interval(function(){
		bas.scaleX -= 0.1;
		bas.scaleY -= 0.1;
		}, 20, 5);
	timer(function(){
		i = 1;
		interval(function(){
			bas.filters = [$.createBlurFilter(i,i)];
			i++;
			}, 120, 2);
		}, 2300);
	}, 6200);
timer(function(){
	Plife = 4;
	var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
	var basb = $.createCanvas({parent:bas, lifeTime:totalLife});
	crtBackgroud(0x000000, 2800, 1.2, basic);
	lrc = $.createComment("回る世界に酔う",{x:-170, y:-24, lifeTime:2.5, parent:basb, color:0xFFFFFF, fontsize:48, motion:{alpha:{fromValue:0, toValue:1, lifeTime:0.2}}});
	lrc.filters = null;
	i = 1;
	interval(function(){
		lrc.filters = [$.createBlurFilter(i,i)];
		i++;
		}, 120, 2);
	var s10 = $.createCanvas({parent:basb, lifeTime:3});
	var s10_2 = $.createShape({parent:s10, lifeTime:3, motion:{alpha:{fromValue:0,toValue:1,lifeTime:2.5}}});
		s10_2.graphics.lineStyle(8, 0xBBBBBB, 1);
		s10_2.graphics.beginFill(0x777777);
		s10_2.graphics.drawRect(-600, -400, 1200, 800);
		s10_2.graphics.drawRect(-148, -162, 296, 324);
		s10_2.graphics.endFill;
	crtDoor(0, 0, 0, 3, "left", 3, basb, [{rotationY:{fromValue:-90,toValue:-40, lifeTime:2.5}, alpha:{fromValue:0,toValue:1,lifeTime:2.5}}, {rotationY:{fromValue:-40,toValue:0, lifeTime:0.2}}]);
	basb.scaleX = 0.8;
	basb.scaleY = 0.8;
	interval(function(){
		basb.scaleX -= 0.004;
		basb.scaleY -= 0.004;
		}, 20, 150);
	}, 8500);

crtMask(0);
crtlryic("好像一口气就会消失掉了", 98.0, 100.6);
crtlryic("那就将下个瞬间留住吧", 100.6, 103.7);
crtlryic("旋转旋转不停旋转", 103.7, 106.0);
crtlryic("迷醉在这打着转的世界里", 106.0, 109.0);</d>
<d p="109.09999847412,8,25,16777215,1440123689,2,0823e18c,1132368613">//109.1
var totalLife = 11.42;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}
function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}

crtBackgroud(0xFFFFFF, 0, totalLife, basic);
crtMask(0);


function crtTrapezium(x0, y0, x1, y1, x2, y2, x3, y3, delay, last, cl, al, par){
	timer(function(){
	var shp = $.createShape({lifeTime:last, parent:par});
		shp.graphics.beginFill(cl, al);
		shp.graphics.moveTo(x0, y0);
		shp.graphics.lineTo(x1, y1);
		shp.graphics.lineTo(x2, y2);
		shp.graphics.lineTo(x3, y3);
		shp.graphics.lineTo(x0, y0);
		shp.graphics.endFill;
		}, delay);
	}
function crtWall(delay, life, type, par){
	//186*176
	timer(function(){
		var c0, c1;
		switch(type){
			case "left": x0 = -190; c0 = 0x777777; c1 = 0xBBBBBB; break;
			case "right": x0 = 0; c0 = 0xBBBBBB; c1 = 0x777777; break;
		}
		var wall = $.createShape({x:x0, y:-88, parent:par, lifeTime:life});
			wall.graphics.beginFill(c0);
			wall.graphics.drawRect(0, 0, 190, 176);
			wall.graphics.lineStyle(3, c1);
			wall.graphics.drawRect(46, 34, 98, 108);
			wall.graphics.endFill;
		}, delay);
	}
function crtDoor(delay, life, type, par, mot){
	//98*108描点在轴中央
	timer(function(){
		var c, i;
		switch(type){
			case "left":i = -1; c = 0xBBBBBB; break;
			case "right":i = 1; c = 0x777777; break;
		}
		var door = $.createCanvas({x:46*i, y:0, parent:par, lifeTime:life, motionGroup:mot});
		var door_bas = $.createShape({lifeTime:life, parent:door});
			door_bas.graphics.lineStyle(3, c, 1);
			door_bas.graphics.beginFill(0xFFFFFF);
			door_bas.graphics.moveTo(0, 54);
			door_bas.graphics.lineTo(98*i, 54);
			door_bas.graphics.lineTo(98*i, -54);
			door_bas.graphics.lineTo(0, -54);
			door_bas.graphics.lineTo(0, 54);
			door_bas.graphics.endFill;
		var handle = $.createShape({lifeTime:life, parent:door});
			handle.graphics.beginFill(c);
			handle.graphics.drawRect(78*i-4, -4, 8, 8);
			handle.graphics.endFill;
		}, delay);
	}
function crtRoom(delay, life, par_left, par_right, dir){
	var a1 = -190;
	var a2 = 190;
	var b0 = -88;
	var b1 = 88;
	var a0 = -284;
	var a3 = 284;
	var d = (dir*2-1);
	var room_left = $.createCanvas({lifeTime:life, parent:par_left});
	var room_right = $.createCanvas({lifeTime:life, parent:par_right});
	crtTrapezium(a0, 140, a1, b1, a1, b0, a0, -140, delay, life, 0xBBBBBB, 1, room_left);//左
	crtTrapezium(a2, b1, a3, 140, a3, -140, a2, b0, delay, life, 0x777777, 1, room_right);//右
	crtTrapezium(a1, b0, 0, b0, 0, -140, a0, -140, delay, life, 0xDDDDDD, 1, room_left);//左上
	crtTrapezium(a0, 140, 0, 140, 0, b1, a1, b1, delay, life, 0xDDDDDD, 1, room_left);//左下
	crtTrapezium(0, b0, a2, b0, a3, -140, 0, -140, delay, life, 0x555555, 1, room_right);//右上
	crtTrapezium(0, 140, a3, 140, a2, b1, 0, b1, delay, life, 0x555555, 1, room_right);//右下
	crtWall(delay, life, "left", room_left);//左中
	crtWall(delay, life, "right", room_right);//右中
	crtDoor(delay, life, "left", room_left, [{rotationY:{fromValue:90*d, toValue:80*d, lifeTime:0.6}}, {rotationY:{fromValue:80*d, toValue:0, lifeTime:0.5}}]);//左中门
	crtDoor(delay, life, "right", room_right, [{rotationY:{fromValue:-90*d, toValue:-80*d, lifeTime:0.6}}, {rotationY:{fromValue:-80*d, toValue:0, lifeTime:0.5}}]);//右中门
	if(dir == 1){room_right.rotationY = 180;room_left.rotationY = 180;}
	}
function crtSTitle(delay, life, par_left, par_right, dir){
	timer(function(){
		var tiltle_left = $.createCanvas({parent:par_left, lifeTime:life});
		var tiltle_right = $.createCanvas({parent:par_right, lifeTime:life});
		var firsttitle = $.createComment("World's End",{x:-98, y:-113, color:0xFFFFFF, lifeTime:life, fontsize:15, parent:tiltle_left});
		firsttitle.font = "微软雅黑";
		firsttitle.filters = null;
		var lasttitle = $.createComment("Dancehall. ↓",{x:4, y:-113, color:0x000000, lifeTime:life, fontsize:15, parent:tiltle_right});
		lasttitle.font = "微软雅黑";
		lasttitle.filters = null;
		if(dir == 0){tiltle_left.rotationZ = 180;tiltle_right.rotationZ = 180;}
		},delay);
	}

function crtInShape(no, par, type, dir){
	var can = $.createCanvas({parent:par, lifeTime:1.4});
		if(type == "left") 
			var inshape = $.createShape({parent:can, lifeTime:1.4, motionGroup:[{y:{fromValue:-10, toValue:0, lifeTime:0.6}}, {x:{fromValue:-5, toValue:-12, lifeTime:0.8}, rotationZ:{fromValue:-10, toValue:-20, lifeTime:0.8}}]});
		else if(type =="right")
			var inshape = $.createShape({parent:can, lifeTime:1.4, motionGroup:[{y:{fromValue:-10, toValue:0, lifeTime:0.6}}, {x:{fromValue:5, toValue:8, lifeTime:0.8}, rotationZ:{fromValue:-3, toValue:-10, lifeTime:0.8}}]});
		inshape.graphics.beginFill(0x999999);
		switch(no){
			case 0:
				inshape.graphics.moveTo(0, -12);
				if(type == "left"){
					inshape.graphics.curveTo(-12, -18, -24, -12);
					inshape.graphics.lineTo(-24, 18);
					inshape.graphics.curveTo(-12, 12, 0, 18);
					inshape.graphics.lineTo(0, -12);
				}
				else if(type == "right"){
					inshape.graphics.lineTo(0, 18);
					inshape.graphics.curveTo(12, 12, 24, 18);
					inshape.graphics.lineTo(24, -12);
					inshape.graphics.curveTo(12, -18, 0, -12);
					}
				break;
			case 1:
				if(type == "left"){
					inshape.graphics.drawRect(-20, -10, 20, 30);
					inshape.graphics.lineStyle(4, 0x999999);
					inshape.graphics.moveTo(-15, -10);
					inshape.graphics.lineTo(-15, -20);
					inshape.graphics.lineTo(0, -20);
					inshape.graphics.lineTo(-15, -20);
					}
				else if(type == "right"){
					inshape.graphics.drawRect(0, -10, 20, 30);
					inshape.graphics.lineStyle(4, 0x999999);
					inshape.graphics.moveTo(0, -20);
					inshape.graphics.lineTo(15, -20);
					inshape.graphics.lineTo(15, -10);
					inshape.graphics.lineTo(15, -20);
					}
				break;
			case 2:
				inshape.graphics.moveTo(0, -18);
				if(type == "left"){
					inshape.graphics.lineTo(-19, 6);
					inshape.graphics.lineTo(-10, 6);
					inshape.graphics.lineTo(-10, 24);
					inshape.graphics.lineTo(0, 24);
					inshape.graphics.lineTo(0, -18);
				}
				else if(type == "right"){
					inshape.graphics.lineTo(0, 24);
					inshape.graphics.lineTo(10, 24);
					inshape.graphics.lineTo(10, 6);
					inshape.graphics.lineTo(19, 6);
					inshape.graphics.lineTo(0, -18);
					}
				break;
			case 3:
				inshape.graphics.moveTo(0, -25);
				if(type == "left"){
					inshape.graphics.curveTo(0, 0, -20, 0);
					inshape.graphics.curveTo(0, 0, 0, 40);
					inshape.graphics.lineTo(0, -25);
					}
				else if(type == "right"){
					inshape.graphics.lineTo(0, 40);
					inshape.graphics.curveTo(0, 0, 20, 0);
					inshape.graphics.curveTo(0, 0, 0, -25);
					}
				break;
			case 4:
				inshape.graphics.moveTo(0, -14);
				if(type == "left"){
					inshape.graphics.curveTo(-4, -21, -12, -22);
					inshape.graphics.curveTo(-24, -21, -24, -6);
					inshape.graphics.curveTo(-24, 7, -12, 11);
					inshape.graphics.curveTo(-4, 14, 0, 22);
					inshape.graphics.lineTo(0, -14);
					}
				else if(type == "right"){
					inshape.graphics.lineTo(0, 22);
					inshape.graphics.curveTo(4, 14, 12, 11);
					inshape.graphics.curveTo(24, 7, 24, -6);
					inshape.graphics.curveTo(24, -21, 12, -22);
					inshape.graphics.curveTo(4, -21, 0, -14);
					}
				break;
			case 5:
				inshape.graphics.moveTo(0, -25);
				if(type == "left"){
					inshape.graphics.lineTo(-24, -1);
					inshape.graphics.lineTo(-18, -1);
					inshape.graphics.lineTo(-18, 23);
					inshape.graphics.lineTo(0, 23);
					inshape.graphics.lineTo(0, 13);
					inshape.graphics.lineTo(-7, 13);
					inshape.graphics.lineTo(-7, 0);
					inshape.graphics.lineTo(0, 0);
					inshape.graphics.lineTo(0, -25);
					}
				else if(type == "right"){
					inshape.graphics.lineTo(0, 0);
					inshape.graphics.lineTo(7, 0);
					inshape.graphics.lineTo(7, 13);
					inshape.graphics.lineTo(0, 13);
					inshape.graphics.lineTo(0, 23);
					inshape.graphics.lineTo(18, 23);
					inshape.graphics.lineTo(18, -1);
					inshape.graphics.lineTo(24, -1);
					inshape.graphics.lineTo(0, -25);
					}
				break;
			case 6:
				inshape.graphics.moveTo(0, -35);
				if(type == "left"){
					inshape.graphics.curveTo(-8, -35, -8, -27);
					inshape.graphics.curveTo(-8, -19, 0, -19);
					inshape.graphics.lineTo(0, -35);
					inshape.graphics.moveTo(0, -17);
					inshape.graphics.lineTo(-21, -17);
					inshape.graphics.curveTo(-25, -17, -25, -13);
					inshape.graphics.curveTo(-25, -9, -21, -9);
					inshape.graphics.lineTo(-9, -9);
					inshape.graphics.lineTo(-9, 31);
					inshape.graphics.curveTo(-9, 35, -5, 35);
					inshape.graphics.curveTo(-1, 35, -1, 31);
					inshape.graphics.lineTo(-1, 15);
					inshape.graphics.lineTo(0, 15);
					inshape.graphics.lineTo(0, -17);
					}
				else if(type == "right"){
					inshape.graphics.curveTo(8, -35, 8, -27);
					inshape.graphics.curveTo(8, -19, 0, -19);
					inshape.graphics.lineTo(0, -35);
					inshape.graphics.moveTo(0, -17);
					inshape.graphics.lineTo(21, -17);
					inshape.graphics.curveTo(25, -17, 25, -13);
					inshape.graphics.curveTo(25, -9, 21, -9);
					inshape.graphics.lineTo(9, -9);
					inshape.graphics.lineTo(9, 31);
					inshape.graphics.curveTo(9, 35, 5, 35);
					inshape.graphics.curveTo(1, 35, 1, 31);
					inshape.graphics.lineTo(1, 15);
					inshape.graphics.lineTo(0, 15);
					inshape.graphics.lineTo(0, -17);
					}
				break;
			}
			inshape.graphics.endFill;
		can.rotationY = 180*dir;
	}
function crtIn(txt, no, par){
	timer(function(){
		if(no == 7){
			Plife = 1.42;
			dist = 25;
			mot_apart_left = [{y:{fromValue:0, lifeTime:0.6}}, {y:{fromValue:dist, lifeTime:0.2}}, {y:{fromValue:dist, toValue:280, lifeTime:0.6, easing:"Exponential"}}];
			mot_apart_right = [{y:{fromValue:0, lifeTime:0.6}}, {y:{fromValue:-dist, lifeTime:0.2}}, {y:{fromValue:-dist, toValue:-280, lifeTime:0.6, easing:"Exponential"}}];
			}
		else {Plife = 1.42; mot_apart_left = [];mot_apart_right = [];}
		var bas = $.createCanvas({parent:basic, lifeTime:Plife});
		var basb = $.createCanvas({parent:bas, lifeTime:Plife});
			crtBackgroud(0xFFFFFF, 0, Plife, basb);
		dir = no%2;
		if(no%2 == 0){txt1 = "自由"; txt2 = txt;}
		else{txt1 = txt; txt2 = "自由";}
		var basmain = $.createCanvas({parent:bas, lifeTime:Plife});
		var basword_left = $.createCanvas({parent:basmain, lifeTime:Plife, motionGroup:mot_apart_left});
		var basword_right = $.createCanvas({parent:basmain, lifeTime:Plife, motionGroup:mot_apart_right});
		var basmain_left = $.createCanvas({parent:basmain, lifeTime:Plife, motionGroup:mot_apart_right});
		var basmain_right = $.createCanvas({parent:basmain, lifeTime:Plife, motionGroup:mot_apart_left});
		var baswtitle_left = $.createCanvas({parent:basmain, lifeTime:Plife, motionGroup:mot_apart_left});
		var bastitle_right = $.createCanvas({parent:basmain, lifeTime:Plife, motionGroup:mot_apart_right});
			crtRoom(0, Plife, basmain_left, basmain_right, dir);
			crtSTitle(0, Plife, baswtitle_left, bastitle_right, dir);
			lrc1 = $.createComment(txt1,{x:-140, y:-20, color:0x000000, parent:basword_left, lifeTime:Plife, fontsize:36});
				lrc1.filters = null;
			lrc2 = $.createComment(txt2,{x:60, y:-20, color:0x000000, parent:basword_right, lifeTime:Plife, fontsize:36});
				lrc2.filters = null;
			crtInShape(no, basmain, "left", dir);
			crtInShape(no, basmain, "right", dir);
			basmain.filters=[$.createBlurFilter(2,2)];
		var baslight = $.createCanvas({parent:bas, lifeTime:0.55, motion:{alpha:{fromValue:0.6, toValue:0, lifeTime:0.5}}});
		var basword_light =  $.createCanvas({parent:baslight, lifeTime:0.55});
			crtRoom(0, Plife, baslight, baslight, dir);
			crtSTitle(0, Plife, baslight, baslight, dir);
			lrc1_l = $.createComment(txt1,{x:-140, y:-20, color:0x000000, parent:basword_light, lifeTime:0.5, fontsize:36});
				lrc1_l.filters = null;
			lrc2_l = $.createComment(txt2,{x:60, y:-20, color:0x000000, parent:basword_light, lifeTime:0.5, fontsize:36});
				lrc2_l.filters = null;
			crtInShape(no, baslight, "left", dir);
			crtInShape(no, baslight, "right", dir);
			baslight.filters=[$.createGlowFilter(0x999999, 0.5, 16, 16), $.createBlurFilter(8,8)];
			if(dir == 1){
				baslight.scaleX = 1.1;
				baslight.scaleY = 1.1;
				interval(function(){
					baslight.scaleX += 0.05;
					baslight.scaleY += 0.05;
					}, 20, 25);
				}
			else{
				baslight.scaleX = 1.6;
				baslight.scaleY = 1.6;
				interval(function(){
					baslight.scaleX -= 0.05;
					baslight.scaleY -= 0.05;
					}, 20, 25);
				}
		},no*1400);
	}


crtIn("学习", 0, bas);
crtIn("工作", 1, bas);
crtIn("奋斗", 2, bas);
crtIn("理想", 3, bas);
crtIn("恋爱", 4, bas);
crtIn("家族", 5, bas);
crtIn("自我", 6, bas);
crtIn("世界", 7, bas);</d>
<d p="120.30000305176,8,25,16777215,1440123697,2,0823e18c,1132368979">//120.3
var totalLife = 11.8;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}
function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}
function crtlryic(txt, delay, life){
	timer(function(){
		$.createComment(txt,{x:-230, y:145, color:0xFFFFFF, lifeTime:life-delay-0.02, fontsize:20, parent:edge});
		}, (delay-120.5)*1000);
	}

function crtDPeople(x_in, y_in, cl, delay, life, size, type, par, mot){
	//100*140
	timer(function(){
		var people = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
		//if(type == 2)people.graphics.lineStyle(8, cl);
		var body = $.createShape({parent:people, lifeTime:life});
			body.graphics.beginFill(cl);
			body.graphics.drawCircle(0, -53, 17);
			body.graphics.drawRect(-15, -30, 30, 60);
			body.graphics.endFill;
		var hand = $.createShape({parent:people, lifeTime:life});
			hand.graphics.beginFill(cl);
			hand.graphics.drawRoundRect(-50, -33, 100, 16, 8, 8);
			hand.graphics.endFill;
		var leg = $.createShape({parent:people, lifeTime:life});
			leg.graphics.beginFill(cl);
			leg.graphics.drawRoundRect(-18, -30, 16, 100, 8, 8);
			leg.graphics.drawRoundRect(2, -30, 16, 100, 8, 8);
			leg.graphics.endFill;
		if(type == 1){
			var skirt = $.createShape({parent:people, lifeTime:life});
				skirt.graphics.beginFill(cl);
				skirt.graphics.moveTo(-18, -17);
				skirt.graphics.lineTo(-35, 30);
				skirt.graphics.lineTo(35, 30);
				skirt.graphics.lineTo(18, -17);
				skirt.graphics.lineTo(-18, -17);
				skirt.graphics.endFill;
			}
		people.scaleX = size;
		people.scaleY = size;
		}, delay);
	}
function crtHand(x_in, y_in, delay, life, size, cl, par, mot){
	//-30~200*-85~25
		timer(function(){
		var hand = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
			hand.graphics.beginFill(cl);
			hand.graphics.lineStyle(1, 0xFFFFFF);
			hand.graphics.moveTo(-25, 0);
			hand.graphics.lineTo(-25, -20);
			hand.graphics.curveTo(60, -20, 65, -85);
			hand.graphics.curveTo(77, -92, 77, -58);
			hand.graphics.curveTo(77, -50, 62, -24);
			hand.graphics.curveTo(50, -4, 140, -7);
			hand.graphics.curveTo(200, -9, 188, 7);
			hand.graphics.curveTo(140, 9, 98, 18);
			hand.graphics.curveTo(16, 30, -25, 20);
			hand.graphics.lineTo(-25, 0);
			hand.graphics.moveTo(128, -12);
			hand.graphics.curveTo(137, -35, 148, -30);
			hand.graphics.lineTo(141, -11);
			hand.graphics.lineTo(128, -12);
			hand.graphics.moveTo(101, 23);
			hand.graphics.curveTo(198, 5, 200, 16);
			hand.graphics.lineTo(101, 23);
			hand.graphics.endFill;
		hand.rotationY = 180;
		hand.scaleX = size;
		hand.scaleY = size;
		}, delay);
	}
function crtStandby(delay, showlife, life, par){
	timer(function(){
		for(i = 0; i &lt; 14; i++){
			crtDPeople(-210+30*i, -105, 0x000000, showlife/38*i*1000, life-showlife/38*i, 0.3, 0, par);
		}
		for(i = 0; i &lt; 5; i++){
			crtDPeople(210, -105+42*i, 0x000000, showlife/38*(i+14)*1000, life-showlife/38*(i+14), 0.3, 0, par);
		}
		for(i = 0; i &lt; 14; i++){
			crtDPeople(210-30*i, 105, 0x000000, showlife/38*(i+19)*1000, life-showlife/38*(i+19), 0.3, 0, par);
		}
		for(i = 0; i &lt; 5; i++){
			crtDPeople(-210, 105-42*i, 0x000000, showlife/38*(i+33)*1000, life-showlife/38*(i+33), 0.3, 0, par);
		}
		}, delay);
	}


timer(function(){
	Plife = 13;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	var basp = $.createCanvas({parent:basic, lifeTime:Plife, motion:{x:{fromValue:0, toValue:-1200, lifeTime:3, startDelay:2700, easing:"Cubic"}}});
	var basb = $.createCanvas({parent:bas, lifeTime:Plife});
	crtBackgroud(0xBBBBBB, 0, Plife, basb);
	timer(function(){
		var bas_mask = $.createShape({parent:basb, lifeTime:Plife, motion:{alpha:{fromValue:1, toValue:0, lifeTime:2.8, startDelay:2800}}});
			bas_mask.graphics.beginFill(0xFFFFFF);
			bas_mask.graphics.drawRect(-300, -200, 600, 400);
			bas_mask.graphics.endFill;
	}, 0);
	lrc = $.createComment("傍観者だけの空間",{x:-150, y:-55, color:0x000000, parent:bas, lifeTime:2.8, fontsize:24, motion:{x:{fromValue:-150, toValue:-190, lifeTime:2}, alpha:{fromValue:0, toValue:1, lifeTime:1.2}}});
		lrc.filters = null;
	var train = $.createCanvas({x:0, y:0, lifeTime:Plife, parent:bas, motionGroup:[{x:{fromValue:-440, toValue:0, lifeTime:0.8, easing:"Cubic", startDelay:1550}}, {x:{fromValue:0, toValue:265, lifeTime:0.2, startDelay:3250}}]});
		var body = $.createShape({x:0,y:0,parent:train,lifeTime:Plife});
			body.graphics.beginFill(0x444444);
			body.graphics.moveTo(-1250, -70);
			body.graphics.lineTo(50, -70);
			body.graphics.curveTo(60, -70, 64, -60);
			body.graphics.lineTo(80, -20);
			body.graphics.curveTo(82, -15, 81, -10);
			body.graphics.lineTo(75, 10);
			body.graphics.curveTo(73, 20, 68, 20);
			body.graphics.lineTo(-1250, 20);
			body.graphics.lineTo(-1250, -70);
			body.graphics.endFill;
		var window = $.createShape({x:0,y:0,parent:train,lifeTime:Plife});
			window.graphics.beginFill(0xFFDDDD);
			for(j =0; j &lt; 2; j++){
				for(i = 0; i &lt; 4; i++){
					window.graphics.drawRoundRect(-195+45*i-305*j, -55, 30, 30, 5, 5);
					}
				}
			window.graphics.drawRoundRect(2, -37, 30, 54, 5, 5);
			window.graphics.moveTo(40, -55);
			window.graphics.lineTo(62, -55);
			window.graphics.lineTo(74, -25);
			window.graphics.lineTo(40, -25);
			window.graphics.lineTo(40, -55);
			window.graphics.endFill;
		var window_mask = $.createShape({x:0,y:0,parent:train,lifeTime:Plife, motion:{alpha:{fromValue:1, toValue:0, lifeTime:11.2, startDelay:2800}}});
			window_mask.graphics.beginFill(0xFFFFFF);
			for(j =0; j &lt; 2; j++){
				for(i = 0; i &lt; 4; i++){
					window_mask.graphics.drawRoundRect(-195+45*i-305*j, -55, 30, 30, 5, 5);
					}
				}
			window_mask.graphics.drawRoundRect(2, -37, 30, 54, 5, 5);
			window_mask.graphics.moveTo(40, -55);
			window_mask.graphics.lineTo(62, -55);
			window_mask.graphics.lineTo(74, -25);
			window_mask.graphics.lineTo(40, -25);
			window_mask.graphics.lineTo(40, -55);
			window_mask.graphics.endFill;
		var door = $.createShape({x:0,y:0,parent:train,lifeTime:Plife, motion:{x:{fromValue:-30, toValue:0, lifeTime:0.8, startDelay:1900}}});
			door.graphics.beginFill(0x444444);
			door.graphics.drawRoundRect(1, -38, 32, 57, 5, 5);
			door.graphics.drawCircle(17, -20, 8);
			door.graphics.endFill;
	crtStandby(0, 1.9, 8, basp);
	lrc = $.createComment("レースを最終電車に乗り込んで",{x:-145, y:35, color:0x000000, parent:bas, lifeTime:5.6, fontsize:24, motionGroup:[{x:{fromValue:335, toValue:-145, lifeTime:0.2, startDelay:1900}}, {x:{fromValue:-145, toValue:-175, lifeTime:3.3}}, {x:{fromValue:-175, toValue:-655, lifeTime:0.2}}]});
		lrc.filters = null;
	}, 0);
timer(function(){
	crtHand(240, -30, 0, 7, 1, 0xFFFAFA, basic, [{rotationZ:{fromValue:-90,toValue:-20,lifeTime:0.2}}, {rotationZ:{fromValue:-20,toValue:-5,lifeTime:5.4}}]);
	crtHand(240, -30, 0, 7, 1, 0xFFFFFF, basic, [{rotationZ:{fromValue:-90,toValue:-20,lifeTime:0.2}}, {rotationZ:{fromValue:-20,toValue:-5,lifeTime:5.4}, alpha:{fromValue:1, toValue:0, lifeTime:5.4}}]);
	lrc = $.createComment("「全然良いこともないし",{x:-130, y:-120, color:0x000000, parent:basic, lifeTime:2.5, fontsize:24, motion:{y:{fromValue:-125, toValue:-115, lifeTime:2.5}}});
	lrc.filters = null;
	}, 5600);
timer(function(){
	lrc = $.createComment("ねえ",{x:-57, y:-100, parent:basic, color:0xBBBBBB, lifeTime:0.35, fontsize:60, motionGroup:[{y:{fromValue:-102, toValue:-62, lifeTime:0.1}}, {y:{fromValue:-62, toValue:-57, lifeTime:0.2}}, {y:{fromValue:-57, toValue:-17, lifeTime:0.05}}]});
	lrc.filters = null;
	}, 8100);
timer(function(){
	crtHand(-240, 30, 0, 5, 1, 0xFFFFFF, basic, [{rotationZ:{fromValue:-90,toValue:-175, lifeTime:0.2}}, {rotationZ:{fromValue:-175,toValue:-195, lifeTime:2.6}}]);
	lrc = $.createComment("この手を引いて",{x:-90, y:40, color:0x000000, parent:basic, lifeTime:5, fontsize:24, motion:{y:{fromValue:60, toValue:40, lifeTime:3}}});
	lrc.filters = null;
	lrc = $.createComment("みようか？」",{x:-75, y:70, color:0x000000, parent:basic, lifeTime:5, fontsize:24, motion:{y:{fromValue:90, toValue:70, lifeTime:3}}});
	lrc.filters = null;
	}, 8400);

crtMask(0);
crtlryic("只有旁观者存在的空间", 120.5, 122.4);
crtlryic("让竞速模式搭上末班列车", 122.4, 126.1);
crtlryic("「反正完全没什么好的事情", 126.1, 128.9);
crtlryic("呐,不如就牵起这只手吧？」", 128.9, 131.7);</d>
<d p="131.5,8,25,16777215,1440123707,2,0823e18c,1132369557">//131.5
var totalLife = 11.35;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}
function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}
function crtlryic(txt, delay, life){
	timer(function(){
		$.createComment(txt,{x:-230, y:145, color:0xFFFFFF, lifeTime:life-delay-0.02, fontsize:20, parent:edge});
		}, (delay-131.7)*1000);
	}

function crtFace(x_in, y_in, delay, life, size, cl, al, type, par, mot){
	//160*220
	timer(function(){
		var face = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
			face.graphics.beginFill(cl, al);
			face.graphics.moveTo(0, -100);
			face.graphics.curveTo(-80, -100, -80, -20);
			face.graphics.curveTo(-80, 100, 0, 120);
			face.graphics.curveTo(80, 100, 80, -20);
			face.graphics.curveTo(80, -100, 0, -100);
		if(type != 0){
			face.graphics.moveTo(-15, -44);
			face.graphics.curveTo(-30, -10, -70, -10);
			face.graphics.curveTo(-10, 20, -15, -44);
			face.graphics.moveTo(15, -44);
			face.graphics.curveTo(30, -10, 70, -10);
			face.graphics.curveTo(10, 20, 15, -44);
		}
		else{
			face.graphics.moveTo(-70, -10);
			face.graphics.curveTo(-46, -46, -20, 0);
			face.graphics.curveTo(-44, -18, -70, -10);
			face.graphics.moveTo(70, -10);
			face.graphics.curveTo(46, -46, 20, 0);
			face.graphics.curveTo(44, -18, 70, -10);
		}
		if(type != 1){
			face.graphics.moveTo(-50, 40);
			face.graphics.curveTo(0, 100, 50, 40);
			face.graphics.curveTo(0, 140, -50, 40);
		}
		else{
			face.graphics.moveTo(-40, 80);
			face.graphics.curveTo(0, 50, 40, 80);
			face.graphics.curveTo(0, 0, -40, 80);
		}
		face.graphics.endFill;
		face.scaleX = size;
		face.scaleY = size;
		}, delay);
	}
function crtDPeople(x_in, y_in, cl, delay, life, size, type, par, mot){
	//100*140
	timer(function(){
		var people = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
		var body = $.createShape({parent:people, lifeTime:life});
			body.graphics.beginFill(cl);
			body.graphics.drawCircle(0, -53, 17);
			body.graphics.drawRect(-15, -30, 30, 60);
			body.graphics.endFill;
		var hand = $.createShape({parent:people, lifeTime:life});
			hand.graphics.beginFill(cl);
			hand.graphics.drawRoundRect(-50, -33, 100, 16, 8, 8);
			hand.graphics.endFill;
		var leg = $.createShape({parent:people, lifeTime:life});
			leg.graphics.beginFill(cl);
			leg.graphics.drawRoundRect(-18, -30, 16, 100, 8, 8);
			leg.graphics.drawRoundRect(2, -30, 16, 100, 8, 8);
			leg.graphics.endFill;
		if(type == 1){
			var skirt = $.createShape({parent:people, lifeTime:life});
				skirt.graphics.beginFill(cl);
				skirt.graphics.moveTo(-18, -17);
				skirt.graphics.lineTo(-35, 30);
				skirt.graphics.lineTo(35, 30);
				skirt.graphics.lineTo(18, -17);
				skirt.graphics.lineTo(-18, -17);
				skirt.graphics.endFill;
			}
		people.scaleX = size;
		people.scaleY = size;
		}, delay);
	}
function crtCheer(x_in, y_in, delay, life, rad, par){
	timer(function(){
		var cheer = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life});
		var e = $.createComment("╰(*°▽°*)╯",{x:-62, y:-3, parent:cheer, lifeTime:life, fontsize:15});
		cheer.rotationZ = rad;
		}, delay);
		return cheer;
	}

var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
var basb = $.createCanvas({parent:bas, lifeTime:totalLife});
var basf = $.createCanvas({parent:bas, lifeTime:totalLife});

timer(function(){
	var basfff = $.createCanvas({y:130, parent:basf, lifeTime:0.6});
	crtFace(0, -130, 200, 0.4, 0.8, 0x333333, 0.6, 0, basfff);
	basfff.rotationZ = -60;
	rad0 = -25;
	var canb = $.createCanvas({x:-390, y:-1380, parent:basb, lifeTime:2, motionGroup:[{rotationZ:{fromValue:rad0+5, toValue:rad0+1, lifeTime:0.15}}, {rotationZ:{fromValue:rad0+1, toValue:rad0-2, lifeTime:0.3}}, {rotationZ:{fromValue:rad0-2, toValue:rad0-6, lifeTime:0.15}}]});
	var ground = $.createShape({parent:canb, lifeTime:2});
		ground.graphics.beginFill(0xAAAAAA);
		ground.graphics.drawRect(-800, 0, 800, 2000);
		ground.graphics.endFill;
	rad0 = -5;
	var can = $.createCanvas({x:-390, y:-1380, parent:bas, lifeTime:0.6, motionGroup:[{rotationZ:{fromValue:rad0+5, toValue:rad0+1, lifeTime:0.15}}, {rotationZ:{fromValue:rad0+1, toValue:rad0-2, lifeTime:0.3}}, {rotationZ:{fromValue:rad0-2, toValue:rad0-6, lifeTime:0.15}}]});
	txt = "なんだか";
	for(i = 0;i &lt; txt.length; i++){
		var subcan = $.createCanvas({parent:can, lifeTime:0.6});
		sub = txt.substring(i,i+1);
		var lrc = $.createComment(sub ,{x:150, y:1420, parent:subcan, color: 0xFFFFFF, lifeTime:0.55, fontsize:72});
		lrc.filters = null;
		subcan.rotationZ = -3*i;
		}
	}, 0);
timer(function(){
	var basfff = $.createCanvas({y:130, parent:basf, lifeTime:0.6});
	crtFace(0, -130, 200, 0.4, 0.8, 0x333333, 0.6, 0, basfff);
	basfff.rotationZ = -30;
	rad0 = -9;
	var canb = $.createCanvas({x:390, y:1250, parent:basb, lifeTime:2, motionGroup:[{rotationZ:{fromValue:rad0-5, toValue:rad0-1, lifeTime:0.15}}, {rotationZ:{fromValue:rad0-1, toValue:rad0+2, lifeTime:0.3}}, {rotationZ:{fromValue:rad0+2, toValue:rad0+6, lifeTime:0.15}}]});
	var ground = $.createShape({parent:canb, lifeTime:2});
		ground.graphics.beginFill(0x999999);
		ground.graphics.drawRect(-800, -2000, 800, 2000);
		ground.graphics.endFill;
	rad0 = -29;
	var can = $.createCanvas({x:390, y:1250, parent:bas, lifeTime:0.6, motionGroup:[{rotationZ:{fromValue:rad0-5, toValue:rad0-1, lifeTime:0.15}}, {rotationZ:{fromValue:rad0-1, toValue:rad0+2, lifeTime:0.3}}, {rotationZ:{fromValue:rad0+2, toValue:rad0+6, lifeTime:0.15}}]});
	txt = "いつもと";
	for(i = 0;i &lt; txt.length; i++){
		var subcan = $.createCanvas({parent:can, lifeTime:0.6});
		sub = txt.substring(i,i+1);
		var lrc = $.createComment(sub ,{x:150, y:-1320, parent:subcan, color: 0xFFFFFF, lifeTime:0.7, fontsize:72});
		lrc.filters = null;
		subcan.rotationZ = 3*i;
		}
	}, 600);
timer(function(){
	var basfff = $.createCanvas({y:130, parent:basf, lifeTime:1.1});
	crtFace(0, -130, 200, 1.0, 0.8, 0x333333, 0.6, 0, basfff, [{rotationY:{fromValue:0, toValue:-30, lifeTime:0.3, startDelay:600}}, {rotationY:{fromValue:-30, toValue:-90, lifeTime:0.2}}]);
	var canb = $.createCanvas({x:40, y:700, parent:basb, lifeTime:2, motionGroup:[{rotationZ:{fromValue:70,toValue:85,lifeTime:0.1}}, {rotationZ:{fromValue:85,toValue:95,lifeTime:0.5}}, {rotationZ:{fromValue:95,toValue:110,lifeTime:0.1}}]});
	var ground = $.createShape({parent:canb, lifeTime:2});
		ground.graphics.beginFill(0x888888);
		ground.graphics.drawRect(-1600, -50, 2000, 2000);
		ground.graphics.endFill;
	var can = $.createCanvas({x:40, y:700, parent:bas, lifeTime:0.7, motionGroup:[{rotationZ:{fromValue:70,toValue:85,lifeTime:0.1}}, {rotationZ:{fromValue:85,toValue:95,lifeTime:0.5}}, {rotationZ:{fromValue:95,toValue:110,lifeTime:0.1}}]});
	var lrc = $.createComment("違  う",{x:-780, y:-30, parent:can, color: 0xFFFFFF, lifeTime:0.7, fontsize:60});
		lrc.filters = null;
	}, 1200);
timer(function(){
	var basfff = $.createCanvas({y:130, parent:basf, lifeTime:2});
	crtFace(0, -130, 500, 1, 0.8, 0xDDDDDD, 0.6, 1, basfff, [{rotationY:{fromValue:-90, toValue:-150, lifeTime:0.2}}, {rotationY:{fromValue:-150, toValue:-180, lifeTime:0.3}}]);
	xxx = 480;
	ttt= "Exponential";
	var canb = $.createCanvas({parent:basb, lifeTime:2, motionGroup:[{x:{fromValue:-1000-xxx,toValue:-1000,lifeTime:0.5, easing:ttt}}, {x:{fromValue:-1000,toValue:-1000+xxx, lifeTime:0.5, easing:ttt}}]});
	var ground = $.createShape({parent:canb, lifeTime:2});
		ground.graphics.beginFill(0x777777);
		ground.graphics.drawRect(-1000, -150, 2000, 300);
		ground.graphics.endFill;
	var can = $.createCanvas({x:0, y:0, parent:bas, lifeTime:1});
	txt = "運命の";
	for(i = 0;i &lt; txt.length; i++){
		sub = txt.substring(i,i+1);
		lrc = $.createComment(sub,{y:-50, parent:can, color: 0xFFFFFF, lifeTime:1, fontsize:132,motionGroup: [{x:{fromValue:-280-i*20,toValue:-100+i*110,lifeTime:0.2}}, {x:{fromValue:-100+i*110,toValue:-60+i*160,lifeTime:0.6}}, {x:{fromValue:-60+i*160,toValue:320+i*20,lifeTime:0.2}}]});
			lrc.scaleX = -1;
			lrc.filters = null;
		}
	}, 1800);
timer(function(){
	for(i = 0; i &lt; 5; i++){
		if(i == 2) i++;
		var basfff = $.createCanvas({y:160, parent:basf, lifeTime:3});
		crtFace(0, -160, 100, 3, 0.6, 0x777777, 0.6, 0, basfff);
		basfff.rotationZ = -90+45*i;
		}
	yyy =280;
	r = -400;
	ttt= "Exponential";
	var canb = $.createCanvas({parent:basb, lifeTime:3, motionGroup:[{y:{fromValue:r-yyy,toValue:r,lifeTime:0.5, easing:ttt}}, {y:{fromValue:r,toValue:r+yyy, lifeTime:0.5, easing:ttt, startDelay:300}}]});
	var ground = $.createShape({parent:canb, lifeTime:3});
		ground.graphics.beginFill(0xDDDDDD);
		ground.graphics.drawCircle(0, 0, 500);
		ground.graphics.endFill;
	var can = $.createCanvas({x:0, y:0, parent:bas, lifeTime:3});
	txt = "いたずらを";
	for(i = 0;i &lt; txt.length; i++){
		sub = txt.substring(i,i+1);
		r = -80+25*i;
		tot = 700;
		yyy = 360 - 60*(4-i);
		lrc = $.createComment(sub,{x:-180+i*40, parent:can, color: 0x000000, lifeTime:3, fontsize:30, motionGroup:[{y:{fromValue:r-yyy,toValue:r,lifeTime:0.5, easing:ttt}}, {y:{fromValue:r,toValue:r+tot-yyy, lifeTime:0.5, easing:ttt, startDelay:300}}]});
			lrc.filters = null;
		}
	}, 2700);
timer(function(){
	var basfff = $.createCanvas({y:130, parent:basf, lifeTime:3});
	crtFace(0, -130, 100, 3, 0.8, 0xDDDDDD, 1, 2, basfff);
	yyy = -280;
	r = 500;
	ttt= "Exponential";
	var canb = $.createCanvas({parent:basb, lifeTime:3, motionGroup:[{y:{fromValue:r-yyy,toValue:r,lifeTime:0.8, easing:ttt}}, {y:{fromValue:r,toValue:r+yyy, lifeTime:0.8, easing:ttt, startDelay:400}}]});
	var ground = $.createShape({parent:canb, lifeTime:3});
		ground.graphics.beginFill(0x777777);
		ground.graphics.drawCircle(0, 0, 500);
		ground.graphics.endFill;
	var can = $.createCanvas({x:0, y:0, parent:bas, lifeTime:3});
	txt = "信じてみる";
	for(i = 0;i &lt; txt.length; i++){
		sub = txt.substring(i,i+1);
		r = 12+18*i;
		tot = -700;
		yyy = -360+60*i;
		lrc = $.createComment(sub,{x:-20+i*40, parent:can, color: 0x000000, lifeTime:3, fontsize:30, motionGroup:[{y:{fromValue:r-yyy,toValue:r,lifeTime:0.8, easing:ttt}}, {y:{fromValue:r,toValue:r+tot-yyy, lifeTime:0.8, easing:ttt, startDelay:400}}]});
			lrc.filters = null;
		}
	}, 3600);
timer(function(){
	crtBackgroud(0x777777, 500, 4, basb);
	var basa = $.createCanvas({parent:bas, lifeTime:4, motion:{y:{fromValue:0, toValue:400, lifeTime:0.2, easing:"Cubic", startDelay:2850}}});
	var basaf = $.createCanvas({parent:basa, lifeTime:4});
	crtFace(0, 0, 500, 4, 0.8, 0xDDDDDD, 1, 2, basaf);
	txt = "散々躓いたダンスを";
	long = txt.length;
	i = 0;
	interval(function(){
		sub = txt.substring(i,i+1);
		x0 = -210+i*48;
		lrc = $.createComment(sub, {x:x0+480, parent:basa, color:0x000000,  lifeTime:4, fontsize:24, motionGroup:[{x:{fromValue:x0+30, toValue:x0, lifeTime:0.3, easing:"Exponential"}, y:{fromValue:-180, toValue:-10, lifeTime:0.3, easing:"Exponential"}, rotationZ:{fromValue:-10, lifeTime:0.2}}, {x:{fromValue:x0, toValue:x0+Utils.rand(-20, 20), lifeTime:3}, y:{fromValue:-10, toValue:10+Utils.rand(-10, 10), lifeTime:3}, rotationZ:{fromValue:-10, toValue:-10+Utils.rand(-20,20), lifeTime:3}}]});
		lrc.filters = null;
		i++;
		}, 2100/long , long);
	}, 5200);
timer(function(){
	var can = $.createCanvas({parent:bas, lifeTime:8, motion:{y:{fromValue:-400, toValue:0, lifeTime:0.4, easing:"Cubic"}}});
	var ground = $.createShape({parent:can, lifeTime:8, motion:{y:{fromValue:0, toValue:-400, lifeTime:0.3, easing:"Cubic", startDelay:400}}});
		ground.graphics.beginFill(0xEEEEEE);
		ground.graphics.drawRect(-250, -200, 500, 1200);
		ground.graphics.endFill;
	lrc = $.createComment("そう",{x:-93, y:-45, color:0x000000, parent:can, lifeTime:5, fontsize:96, motionGroup:[{y:{fromValue:-50, toValue:-30, lifeTime:0.2, easing:"Cubic", startDelay:400}}, {y:{fromValue:-30, toValue:-400, lifeTime:0.2, easing:"Cubic"}}]});
		lrc.filters = null;
		can.rotationZ = 180;
	crtDPeople(-140, 0, 0x000000, 0, 5, 1, 0, can);
	crtDPeople(140, 0, 0x000000, 0, 5, 1, 1, can);
	}, 7900);
timer(function(){
	var can = $.createCanvas({parent:bas, lifeTime:5, motion:{y:{fromValue:-400, toValue:0, lifeTime:0.4, easing:"Cubic"}}});
	lrc = $.createComment("思い切り",{x:-70, y:-55, color:0x000000, parent:can, lifeTime:5, fontsize:36});
		lrc.filters = null;
	lrc = $.createComment("馬鹿に",{x:-50, y:-18, color:0x000000, parent:can, lifeTime:5, fontsize:36});
		lrc.filters = null;
	lrc = $.createComment("しようか",{x:-70, y:20, color:0x000000, parent:can, lifeTime:5, fontsize:36});
		lrc.filters = null;
	}, 8400);
timer(function(){
	crtCheer(-60, -85, 0, 3, 0, bas);
	crtCheer(60, -85, 0, 3, 0, bas);
	crtCheer(-60, 85, 360, 3, 180, bas);
	crtCheer(60, 85, 360, 3, 180, bas);
	crtCheer(-210, -65, 720, 3, 90, bas);
	crtCheer(-210, 65, 720, 3, 90, bas);
	crtCheer(210, -65, 720, 3, -90, bas);
	crtCheer(210, 65, 720, 3, -90, bas);
	for(i = 0; i &lt; 4; i++){
		crtCheer(-144+96*i, -105, 1080, 3, 180, bas);
		}
	for(i = 0; i &lt; 4; i++){
		crtCheer(-144+96*i, 115, 1080, 3, 180, bas);
		}
	for(i = 0; i &lt; 50; i++){
		crtCheer(Utils.rand(-240,240), Utils.rand(-140,140), 1440, 3, Utils.rand(0,360), bas);
		}
	}, 9500);

crtMask(0);
crtlryic("不知怎的跟平常都不一样", 131.7, 133.5);
crtlryic("试著去相信命运的恶作剧", 133.5, 137.3);
crtlryic("跳起那狼狈跌跤的舞", 137.3, 140.1);
crtlryic("没错，就来当个白痴当到爽吧", 140.1, 143.0);


</d>
<d p="142.80000305176,8,25,16777215,1440123716,2,0823e18c,1132370031">//142.8
var totalLife = 11.42;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}
function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}
function crtlryic(txt, delay, life){
	timer(function(){
		$.createComment(txt,{x:-230, y:145, color:0xFFFFFF, lifeTime:life-delay-0.02, fontsize:20, parent:edge});
		}, (delay-143)*1000);
	}

function crtHeart(x_in, y_in, cl, delay, life, size, par, mot, blank){
	//240*220
		timer(function(){
		var heart = $.createShape({x:0, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
		if(blank == 1) heart.graphics.lineStyle(9, cl, 1, false, "normal", "none", "miter");
		else heart.graphics.beginFill(cl);
			heart.graphics.moveTo(0, -70);
			heart.graphics.curveTo(-20, -105, -60, -110);
			heart.graphics.curveTo(-120, -105, -120, -30);
			heart.graphics.curveTo(-120, 35, -60, 55);
			heart.graphics.curveTo(-20, 70, 0, 110);
			heart.graphics.curveTo(20, 70, 60, 55);
			heart.graphics.curveTo(120, 35, 120, -30);
			heart.graphics.curveTo(120, -105, 60, -110);
			heart.graphics.curveTo(20, -105, 0, -70);
			heart.graphics.endFill;
		heart.scaleX = size;
		heart.scaleY = size;
		}, delay);
	}
function lrcRound(txt, x_in, y_in, cl, delay, life, par, dir, mot){
	timer(function(){
		con = $.createCanvas({x:x_in, y:y_in-20, parent:par, lifeTime:life, motionGroup:mot});
		for(i = 0; i &lt; txt.length; i++){
			c = $.createCanvas({parent:con, lifeTime:life});
			sub = txt.substring(i,i+1);
			lrc = $.createComment(sub,{x:-10, y:dir*130-20, color:cl, lifeTime:life, fontsize:24, parent:c});
			lrc.filters = null;
			c.rotationZ = dir*(txt.length/2-i)*15;
			}
		}, delay);
	}
function crtmusicWave(y_in, cl, par, dir){
	var can = $.createCanvas({y:y_in, parent:par, lifeTime:1.38});
	for(i = 1; i &lt; 27; i++){
		y0 = 95 + Math.cos(i*20*3.14/350);
		ym = 12;
		lrc = $.createComment("♪", {x:-270+20*i, y:y0, color:cl, parent:can, lifeTime:1.4, motionGroup:[{y:{fromValue:y0, toValue:y0+ym, lifeTime:i*20/1000, easing:"Sine"}}, {y:{fromValue:y0+ym, toValue:y0-ym, lifeTime:0.35, easing:"Sine"}}, {y:{fromValue:y0-ym, toValue:y0+ym, lifeTime:0.35, easing:"Sine"}}, {y:{fromValue:y0+ym, toValue:y0-ym, lifeTime:0.35, easing:"Sine"}}, {y:{fromValue:y0-ym, toValue:y0+ym, lifeTime:0.35, easing:"Sine"}}, {y:{fromValue:y0+ym, toValue:y0-ym, lifeTime:0.35, easing:"Sine"}}, {y:{fromValue:y0-ym, toValue:y0+ym, lifeTime:0.35, easing:"Sine"}}, {y:{fromValue:y0+ym, toValue:y0-ym, lifeTime:0.35, easing:"Sine"}}, {y:{fromValue:y0-ym, toValue:y0+ym, lifeTime:0.35, easing:"Sine"}}]});
		lrc.filters = null;
		}
	}
function crtheartWave(y_in, par){
	wave = $.createShape({y:y_in, parent:par, lifeTime:1.4, motion:{x:{fromValue:-80, toValue:80}}});
		wave.graphics.lineStyle(3, 0x777777);
		wave.graphics.moveTo(-240, 10);
		for(i = 0; i &lt; 6; i++){
			wave.graphics.lineTo(-10+80*(i-3), 10);
			wave.graphics.lineTo(-4+80*(i-3), -20);
			wave.graphics.lineTo(5+80*(i-3), 20);
			wave.graphics.lineTo(10+80*(i-3), 10);
		}
		wave.graphics.lineTo(240, 10);
	}
function crtMagnifier(x_in, y_in, cl, delay, life, size, par, dir, blank){
	//200*250
	timer(function(){
		var magnifier = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par});
		var glass = $.createShape({lifeTime:life, parent:magnifier});
			if(blank !=  1)glass.graphics.beginFill(cl);
			glass.graphics.lineStyle(14, 0);
			glass.graphics.drawCircle(0, 0, 75);
			glass.graphics.endFill;
		var handle = $.createShape({lifeTime:life, parent:magnifier});
			handle.graphics.beginFill(0);
			handle.graphics.moveTo(35, 65);
			handle.graphics.lineTo(95, 175);
			handle.graphics.lineTo(125, 155);
			handle.graphics.lineTo(45, 55);
			handle.graphics.lineTo(35, 65);
			handle.graphics.endFill;
		magnifier.scaleX = size;
		magnifier.scaleY = size;
		if(dir ==1) magnifier.rotationY = 180;
		}, delay);
	}
function crtPeople(x_in, y_in, delay, life, size, cl, par, mot, blank){
	//160*200
	timer(function(){
		var people = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});if(blank == 1) people.graphics.lineStyle(9, cl);
		else people.graphics.beginFill(cl);
			people.graphics.drawCircle(10*size, -79*size, 21*size);
			people.graphics.moveTo(0, -50*size);
			people.graphics.lineTo(-40*size, -50*size);
			people.graphics.lineTo(-80*size, -10*size);
			people.graphics.lineTo(-63*size, 7*size);
			people.graphics.lineTo(-32*size, -26*size);
			people.graphics.lineTo(-22*size, -26*size);
			people.graphics.lineTo(-40*size, 20*size);
			people.graphics.lineTo(-40*size, 50*size);
			people.graphics.lineTo(-80*size, 50*size);
			people.graphics.lineTo(-80*size, 75*size);
			people.graphics.lineTo(-11*size, 75*size);
			people.graphics.lineTo(-11*size, 35*size);
			people.graphics.lineTo(49*size, 100*size);
			people.graphics.lineTo(70*size, 78*size);
			people.graphics.lineTo(15*size, 20*size);
			people.graphics.lineTo(25*size, -14*size);
			people.graphics.lineTo(45*size, 10*size);
			people.graphics.lineTo(80*size, 10*size);
			people.graphics.lineTo(80*size, -10*size);
			people.graphics.lineTo(65*size, -10*size);
			people.graphics.lineTo(30*size, -50*size);
			people.graphics.lineTo(0, -50*size);
			people.graphics.endFill;
		}, delay);
	}
function crtDPeople(x_in, y_in, cl, delay, life, size, type, par, mot){
	timer(function(){
		var people = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
			if(type != "blank") people.graphics.beginFill(cl);
			people.graphics.lineStyle(3*size, cl);
			people.graphics.drawCircle(0, -53*size, 17*size);
			people.graphics.moveTo(0, -33*size);
			people.graphics.lineTo(-42*size, -33*size);
			people.graphics.curveTo(-50*size, -33*size, -50*size, -25*size);
			people.graphics.curveTo(-50*size, -17*size, -42*size, -17*size);
			people.graphics.lineTo(-18*size, -17*size);
			people.graphics.lineTo(-18*size, 62*size);
			people.graphics.curveTo(-18*size, 70*size, -10*size, 70*size);
			people.graphics.curveTo(-2*size, 70*size, -2*size, 62*size);
			people.graphics.lineTo(-2*size, 30*size);
			people.graphics.lineTo(2*size, 30*size);
			people.graphics.lineTo(2*size, 62*size);
			people.graphics.curveTo(2*size, 70*size, 10*size, 70*size);
			people.graphics.curveTo(18*size, 70*size, 18*size, 62*size);
			people.graphics.lineTo(18*size, -17*size);
			people.graphics.lineTo(42*size, -17*size);
			people.graphics.curveTo(50*size, -17*size, 50*size, -25*size);
			people.graphics.curveTo(50*size, -33*size, 42*size, -33*size);
			people.graphics.lineTo(0, -33*size);
			people.graphics.endFill;
		}, delay);
	}
function crtMiku(x_in, y_in, delay, life, size, type, par){
	//120*(-50~60)
	timer(function(){
		var miku = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par});
		var face = $.createShape({parent:miku, lifeTime:life});
			face.graphics.beginFill(0xFFFFDD);
			face.graphics.moveTo(-30, 20);
			face.graphics.lineTo(-30, -30);
			face.graphics.lineTo(30, -30);
			face.graphics.lineTo(30, 20);
			face.graphics.curveTo(0, 50, -30, 20);
			face.graphics.endFill;
		var hair = $.createShape({parent:miku, lifeTime:life});
			hair.graphics.beginFill(0x66FFCC);
			hair.graphics.moveTo(-10, -23);
			hair.graphics.curveTo(-18, -7, -24, -7);
			hair.graphics.curveTo(-30, 18, -17, 37);
			hair.graphics.curveTo(-41, 41, -36, -17);
			hair.graphics.curveTo(-55, 35, -20, 60);
			hair.graphics.curveTo(-60, 70, -60, 20);
			hair.graphics.curveTo(-55, -65, -33, -36);
			hair.graphics.curveTo(0, -66, 33, -36);
			hair.graphics.curveTo(55, -65, 60, 20);
			hair.graphics.curveTo(60, 70, 20, 60);
			hair.graphics.curveTo(55, 35, 36, -17);
			hair.graphics.curveTo(41, 41, 17,37);
			hair.graphics.curveTo(30, 18, 24, -7);
			hair.graphics.curveTo(18, -7, 10, -23);
			hair.graphics.curveTo(5, -17, 10, -3);
			hair.graphics.curveTo(-6, -3, -10, -23);
			hair.graphics.endFill;
		var band = $.createShape({parent:miku, lifeTime:life});
			band.graphics.beginFill(0x7777777);
			band.graphics.moveTo(31, -37);
			band.graphics.lineTo(34, -15);
			band.graphics.lineTo(38, -16);
			band.graphics.lineTo(35, -38);
			band.graphics.lineTo(31, -37);
			band.graphics.moveTo(-31, -37);
			band.graphics.lineTo(-34, -15);
			band.graphics.lineTo(-38, -16);
			band.graphics.lineTo(-35, -38);
		if(type &gt;= 1){
			var shy = $.createShape({parent:miku, lifeTime:life});
				shy.graphics.beginFill(0xFF9999);
				shy.graphics.drawEllipse(-24, 12, 13, 7);
				shy.graphics.drawEllipse(12, 12, 13, 7);
				shy.graphics.endFill;
			}
		if(type &gt;= 2){
			var anger = $.createShape({parent:miku, lifeTime:life});
				anger.graphics.lineStyle(2, 0xCC2222);
				anger.graphics.moveTo(19, -31);
				anger.graphics.curveTo(25, -25, 17, -22);
				anger.graphics.moveTo(19, -18);
				anger.graphics.curveTo(25, -25, 27, -16);
				anger.graphics.moveTo(31, -19);
				anger.graphics.curveTo(25, -25, 32, -28);
				anger.graphics.moveTo(31, -31);
				anger.graphics.curveTo(25, -25, 22, -33);
				anger.graphics.endFill;
			}
		if(type == -1){
			var cry = $.createShape({parent:miku, lifeTime:life});
				cry.graphics.lineStyle(2, 0x333333);
				cry.graphics.moveTo(-8, 25);
				cry.graphics.curveTo(0, 16, 8, 25);
				cry.graphics.endFill;
			}
		miku.scaleX = size+0.15;
		miku.scaleY = size+0.15;
			interval(function(){
				miku.scaleX -= 0.01;
				miku.scaleY -= 0.01;
			}, 10, 15);
		}, delay);
	}
function crtLuka(x_in, y_in, delay, life, size, type, par){
	//100*(-50~70)
	timer(function(){
		var luka = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par});
		var backhair = $.createShape({parent:luka, lifeTime:life});
			backhair.graphics.beginFill(0xFFBBDD);
			backhair.graphics.moveTo(-30, 20);
			backhair.graphics.lineTo(-46, 35);
			backhair.graphics.curveTo(-60, 56, -31, 62);
			backhair.graphics.curveTo(-34, 56, -33, 54);
			backhair.graphics.curveTo(-30, 66, -12, 67);
			backhair.graphics.curveTo(-16, 64, -15, 61);
			backhair.graphics.curveTo(-12, 68, 0, 70);
			backhair.graphics.curveTo(12, 68, 15, 61);
			backhair.graphics.curveTo(16, 64, 12, 67);
			backhair.graphics.curveTo(30, 66, 33, 54);
			backhair.graphics.curveTo(34, 56, 31, 62);
			backhair.graphics.curveTo(60, 56, 46, 35);
			backhair.graphics.lineTo(30, 20);
			backhair.graphics.lineTo(-30, 20);
			backhair.graphics.endFill;
		var face = $.createShape({parent:luka, lifeTime:life});
			face.graphics.beginFill(0xFFFFDD);
			face.graphics.moveTo(-30, 20);
			face.graphics.lineTo(-30, -30);
			face.graphics.lineTo(30, -30);
			face.graphics.lineTo(30, 20);
			face.graphics.curveTo(0, 50, -30, 20);
			face.graphics.endFill;
		if(type &gt;= 1){
			var anger = $.createShape({parent:luka, lifeTime:life});
				anger.graphics.beginFill(0x333366);
				anger.graphics.moveTo(-33, 9);
				anger.graphics.lineTo(33, 9);
				anger.graphics.lineTo(33, -28);
				anger.graphics.lineTo(-33, -28);
				anger.graphics.lineTo(-33, 9);
				anger.graphics.endFill;
			}
		var hair = $.createShape({parent:luka, lifeTime:life});
			hair.graphics.beginFill(0xFFBBDD);
			hair.graphics.moveTo(0, 0);
			hair.graphics.curveTo(-12, -10, -10, -22);
			hair.graphics.curveTo(-16, -12, -13, -2);
			hair.graphics.curveTo(-24, -10, -24, -20);
			hair.graphics.curveTo(-37, 10, -20, 35);
			hair.graphics.lineTo(-46, 35);
			hair.graphics.curveTo(-36, 15, -42, -5);
			hair.graphics.curveTo(-45, -26, -33, -36);
			hair.graphics.curveTo(0, -66, 33, -36);
			hair.graphics.curveTo(45, -26, 42, -5);
			hair.graphics.curveTo(36, 15, 46, 35);
			hair.graphics.lineTo(20, 35);
			hair.graphics.curveTo(37, 10, 24, -20);
			hair.graphics.curveTo(24, -10, 13, -2);
			hair.graphics.curveTo(16, -12, 10, -22);
			hair.graphics.curveTo(12, -10, 0, 0);
			hair.graphics.endFill;
		var band = $.createShape({parent:luka, lifeTime:life});
			band.graphics.beginFill(0x7777777);
			band.graphics.moveTo(-32, -25);
			band.graphics.curveTo(0, -58, 32, -25);
			band.graphics.curveTo(0, -48, -32, -25);
			band.graphics.endFill;
		if(type &gt;= 2){
			var laugh = $.createShape({parent:luka, lifeTime:life});
				laugh.graphics.lineStyle(2, 0x333333);
				laugh.graphics.moveTo(-8, 26);
				laugh.graphics.curveTo(0, 34, 8, 26);
				laugh.graphics.endFill;
			}
		if(type == -1){
			var cry = $.createShape({parent:luka, lifeTime:life});
				cry.graphics.beginFill(0x0066CC);
				cry.graphics.moveTo(-15, 3);
				cry.graphics.curveTo(-23, 20, -15, 20);
				cry.graphics.curveTo(-7, 20, -15, 3);
				cry.graphics.endFill;
			}
		luka.scaleX = size+0.15;
		luka.scaleY = size+0.15;
			interval(function(){
				luka.scaleX -= 0.01;
				luka.scaleY -= 0.01;
			}, 10, 15);
		}, delay);
	}
function crtEmoji14(delay, life, type, dir, par){
	timer(function(){
		var can = $.createCanvas({parent:par, lifeTime:life});
			if(type == 0){x0 = 60; x1 = 10; txt = "┏(＾0＾)┛ ";}
			else{x0 = -135; x1 = -85; txt = "╰(＾▽＾)╭";}
			for(i = 0; i &lt; 3; i++){
				lrc = $.createComment(txt,{x:x0, y:-50+i*50, color:0xFFFFFF, parent:can, lifeTime:0.7, fontsize:12});
				lrc.filters = null;
				lrc.bold = true;
			}
			for(i = 0; i &lt; 2; i++){
				lrc = $.createComment(txt,{x:x1,  y:-100+i*200, color:0xFFFFFF, parent:can, lifeTime:0.7, fontsize:12});
				lrc.filters = null;
				lrc.bold = true;
			}
		if(dir == 1) {can.rotationY = 180;}
		}, delay);
	}
function crtHook(x_in, y_in, delay, life, thick, size, par){
	timer(function(){
		var lne = $.createShape({x:x_in, y:y_in, parent:par, lifeTime:life, motion:{sczleX:{fromValue:1.2, toValue:1, lifeTime:0.2},sczleY:{fromValue:1.2, toValue:1, lifeTime:0.2}}});
			lne.graphics.lineStyle(thick, 0x000000, 1, false, "normal", "none", "miter");
			lne.graphics.moveTo(-size*3/4, -size/12);
			lne.graphics.lineTo(0, size*2/3);
			lne.graphics.lineTo(size*4/3, -size*5/6);
			lne.graphics.endFill;
		times = life*100;
		lne.scaleX += life/10;
		lne.scaleY += life/10;
		interval(function(){
			lne.scaleX -= 0.01;
			lne.scaleY -= 0.01;
		}, 10, times);
		}, delay);
	}

timer(function(){
	Plife = 1.4;
	yh = 10;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	var basb = $.createCanvas({parent:bas, lifeTime:Plife});
	var basm = $.createCanvas({y:yh, parent:bas, lifeTime:Plife});
	var bash = $.createCanvas({y:yh, parent:bas, lifeTime:Plife});
	var basw = $.createCanvas({parent:bas, lifeTime:Plife});
	crtBackgroud(0xDDDDDD, 0, Plife, basb);
	rrad = -40;
	rad = -60;
	lrcRound("つまらん動き", 0, yh, 0x000000, 0, Plife, basw, -1, [{rotationZ:{fromValue:rad, toValue:rad+rrad}}]);
	lrcRound("繰り返す意味を", 0, yh, 0x000000, 0, Plife, basw, -1, [{rotationZ:{fromValue:rad+180, toValue:rad+180+rrad}}]);
	crtHeart(0, 0, 0x777777, 0, Plife, 0.8, bash, []);
	i = 1;
	crtmusicWave(-10, 0x999999, basm);
	crtmusicWave(-220, 0x999999, basm);
	interval(function(){
		s_size =  1 + (Math.sin(i*8*3.14/70)+1)/16;
		bash.scaleX = s_size;
		bash.scaleY = s_size;
		i++;
		}, 20, 70);
	}, 0);
timer(function(){
	Plife = 1.42;
	yh = 10;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	var basb = $.createCanvas({parent:bas, lifeTime:Plife});
	var bash = $.createCanvas({y:yh, parent:bas, lifeTime:Plife});
	var basw = $.createCanvas({parent:bas, lifeTime:Plife});
	crtBackgroud(0x777777, 0, Plife, basb);
	rrad = 40;
	rad = -120;
	lrcRound("足を踏む理由を", 0, yh, 0xFFFFFF, 0, Plife, bas, 1, [{rotationZ:{fromValue:rad, toValue:rad+rrad}}]);
	lrcRound("音に合わせて", 0, yh, 0xFFFFFF, 0, Plife, bas, 1, [{rotationZ:{fromValue:rad+180, toValue:rad+180+rrad}}]);
	crtHeart(0, 0, 0xDDDDDD, 0, 1.4, 0.8, bash, []);
	crtmusicWave(-10, 0xBBBBBB, bash);
	crtmusicWave(-220, 0xBBBBBB, bash);
	crtheartWave(0, basw);
	}, 1400);
timer(function(){
	Plife = 0.52;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	var basb = $.createCanvas({parent:bas, lifeTime:Plife});
	var basm = $.createCanvas({parent:bas, lifeTime:Plife, motion:{x:{fromValue:60,toValue:50,lifeTime:0.5}, y:{fromValue:-25,toValue:-10,lifeTime:0.5}}});
	var bast = $.createCanvas({parent:bas, lifeTime:Plife});
	var bastm = $.createCanvas({parent:bas, lifeTime:Plife, motion:{x:{fromValue:60,toValue:50,lifeTime:0.5}, y:{fromValue:-25,toValue:-10,lifeTime:0.5}}});
	crtBackgroud(0xDDDDDD, 0, Plife, basb);
	crtHeart(50, 40, 0x777777, 0, Plife, 1, basb, [{rotationZ:{fromValue:-20}}]);
	crtHeart(50, 40, 0x777777, 0, Plife, 1, bast, [{rotationZ:{fromValue:-20}}], 1);
	crtMagnifier(0, 0, 0xDDDDDD, 0, 0.5, 1, basm, 1, 0);
	crtMagnifier(0, 0, 0xDDDDDD, 0, 0.5, 1, bastm, 1, 1);
	var lr = $.createComment("さがしても",{x:-50, y:-35, color:0x000000, parent:bastm, lifeTime:0.5, fontsize:24});
		lr.rotationZ = 30;
		lr.filters = null;
	basm.rotationZ = -55;
	bastm.rotationZ = -55;
		}, 2800);
timer(function(){
	Plife = 0.52;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	var basb = $.createCanvas({parent:bas, lifeTime:Plife});
	var basm = $.createCanvas({parent:bas, lifeTime:Plife, motion:{x:{fromValue:-10,toValue:0,lifeTime:0.5}, y:{fromValue:-40, toValue:-30,lifeTime:0.5}}});
	var bast = $.createCanvas({parent:bas, lifeTime:Plife});
	var bastm = $.createCanvas({parent:bas, lifeTime:Plife, motion:{x:{fromValue:-10,toValue:0,lifeTime:0.5}, y:{fromValue:-40, toValue:-30,lifeTime:0.5}}});
	crtBackgroud(0x777777, 0, Plife, basb);
	crtPeople(20, 260, 0, Plife, 3, 0xDDDDDD, basb, []);
	crtPeople(20, 260, 0, Plife, 3, 0xDDDDDD, bast, [], 1);
	crtMagnifier(0, 0, 0x777777, 0, 0.5, 1, basm, 1, 0);
	crtMagnifier(0, 0, 0x777777, 0, 0.5, 1, bastm, 1, 1);
	var lr = $.createComment("さがしても",{x:-50, y:-35, color:0xFFFFFF, parent:bastm, lifeTime:0.5, fontsize:24});
		lr.rotationZ = 30;
		lr.filters = null;
	basm.rotationZ = 20;
	bastm.rotationZ = 20;
	}, 3300);
timer(function(){
	Plife = 1.82;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	var basb = $.createCanvas({parent:bas, lifeTime:Plife});
	var basm = $.createCanvas({parent:bas, lifeTime:Plife, motion:{x:{fromValue:-10,toValue:20,lifeTime:Plife}, y:{fromValue:14,toValue:-7,lifeTime:1.8}}});
	var bast = $.createCanvas({parent:bas, lifeTime:Plife});
	var bastm = $.createCanvas({parent:bas, lifeTime:Plife, motion:{x:{fromValue:-10,toValue:20,lifeTime:Plife}, y:{fromValue:14,toValue:-7,lifeTime:1.8}}});
	crtBackgroud(0xDDDDDD, 0, Plife, basb);
	crtDPeople(0, 7, 0x777777, 0, Plife, 3, "full", basb, [{rotationZ:{fromValue:55}}]);
	crtDPeople(0, 7, 0x777777, 0, Plife, 3, "blank", bast, [{rotationZ:{fromValue:55}}]);
	var lrc = $.createComment("見つからないから",{x:-57, y:40, color:0x000000, parent:bast, lifeTime:1.8, fontsize:18});
		lrc.rotationZ = -35;
		lrc.filters = null;
	crtMagnifier(0, 0, 0xDDDDDD, 0, Plife, 1.25, basm, 0, 0);
	crtMagnifier(0, 0, 0xDDDDDD, 0, Plife, 1.25, bastm, 0, 1);
	}, 3800);
timer(function(){
	Plife = 3;
	var bas = $.createCanvas({parent:basic, lifeTime:3});
	var basb = $.createCanvas({parent:bas, lifeTime:3});
	crtBackgroud(0x777777, 0, Plife, basb);
	crtMiku(0, 0, 0, 0.33, 1.2, 0, bas);
	crtMiku(0, 0, 350, 1.05, 1.2, -1, bas);
	crtEmoji14(700, 0.7, 0, 0, bas);
	crtEmoji14(700, 0.7, 0, 1, bas);
	crtHook(0, 0, 1050, 0.35, 16, 100, bas);
	crtLuka(0, 0, 1400, 0.33, 1.2, 0, bas);
	crtLuka(0, 0, 1750, 1.05, 1.2, -1, bas);
	crtEmoji14(2100, 0.7, 1, 0, bas);
	crtEmoji14(2100, 0.7, 1, 1, bas);
	crtHook(0, 0, 2450, 0.35, 16, 100, bas);
	lrc = $.createComment("悲\nし\nい\nと\nき\nに\n踊\nり\nた\nい\nの",{x:145, y:-110, color:0xFFFFFF, parent:basic, lifeTime:2.8, fontsize:20});
	lrc.filters = null;
	}, 5600);
timer(function(){
	Plife = 3;
	lrc = $.createComment("泣\nき\nた\nい\nと\nき\nに\n笑\nい\nた\nい\nの",{x:-165, y:-120, color:0xFFFFFF, parent:basic, lifeTime:1.4, fontsize:20});
	lrc.filters = null;
	}, 7000);
timer(function(){
	Plife = 3.3;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	var basb = $.createCanvas({parent:bas, lifeTime:Plife});
	crtBackgroud(0xFFFFFF, 0, Plife, basb);
		lrc = $.createComment("そんな",{x:-160, y:-76, color:0x000000, parent:bas, lifeTime:Plife, fontsize:40});
		lrc.filters = null;
		lrc.rotationZ = 8;
	timer(function(){
		lrc = $.createComment("わがまま",{x:10, y:-70, color:0x000000, parent:bas, lifeTime:Plife, fontsize:40});
		lrc.filters = null;
		lrc.rotationZ = -14;
		}, 700);
	timer(function(){
		txt = "疲れちゃうわ！";
		i = 0;
		interval(function(){
			sub = txt.substring(i, i+1);
			lrc = $.createComment(sub, {x:-180+i*54, y:-5+Utils.rand(0,20), color:0x000000, parent:bas, lifeTime:Plife, fontsize:Utils.rand(36,72)});
			lrc.filters = null;
			lrc.rotationZ = Utils.rand(-10,10);
			i++;
			}, 120, 7);
		}, 1200);
	}, 8400);


crtMask(0);
crtlryic("不断重复无趣动作的意义", 143.0, 144.4);
crtlryic("搭上拍子踩着步伐的理由", 144.4, 145.8);
crtlryic("就算找啊找，找啊找", 145.8, 146.8);
crtlryic("也是找不到的", 146.8, 148.6);
crtlryic("伤心的时候就要跳舞", 148.6, 150.0);
crtlryic("想哭的时候更要大笑", 150.0, 151.4);
crtlryic("那种任性真的不想再奉陪了！", 151.4, 153.9);
</d>
<d p="153.69999694824,8,25,16777215,1440123725,2,0823e18c,1132370507">//153.7
var totalLife = 11.62;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}
function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}
function crtlryic(txt, delay, life){
	timer(function(){
		$.createComment(txt,{x:-230, y:145, color:0xFFFFFF, lifeTime:life-delay-0.02, fontsize:20, parent:edge});
		}, (delay-153.9)*1000);
	}

function crtTrapezium(x0, y0, x1, y1, x2, y2, x3, y3, delay, last, cl, al, par){
	timer(function(){
	var shp = $.createShape({lifeTime:last, parent:par});
		shp.graphics.beginFill(cl, al);
		shp.graphics.moveTo(x0, y0);
		shp.graphics.lineTo(x1, y1);
		shp.graphics.lineTo(x2, y2);
		shp.graphics.lineTo(x3, y3);
		shp.graphics.lineTo(x0, y0);
		shp.graphics.endFill;
		}, delay);
	}
function crtWall(delay, life, type, par){
	//186*176
	timer(function(){
		var c0, c1;
		switch(type){
			case "left": x0 = -190; c0 = 0x777777; c1 = 0xBBBBBB; break;
			case "right": x0 = 0; c0 = 0xBBBBBB; c1 = 0x777777; break;
		}
		var wall = $.createShape({x:x0, y:-88, parent:par, lifeTime:life});
			wall.graphics.beginFill(c0);
			wall.graphics.drawRect(0, 0, 190, 176);
			wall.graphics.lineStyle(3, c1);
			wall.graphics.drawRect(46, 34, 98, 108);
			wall.graphics.endFill;
		}, delay);
	}
function crtDoor(delay, life, type, par, mot){
	//98*108描点在轴中央
	timer(function(){
		var c, i;
		switch(type){
			case "left":i = -1; c = 0xBBBBBB; break;
			case "right":i = 1; c = 0x777777; break;
		}
		var door = $.createCanvas({x:46*i, y:0, parent:par, lifeTime:life, motionGroup:mot});
		var door_bas = $.createShape({lifeTime:life, parent:door});
			door_bas.graphics.lineStyle(3, c, 1);
			door_bas.graphics.beginFill(0xFFFFFF);
			door_bas.graphics.moveTo(0, 54);
			door_bas.graphics.lineTo(98*i, 54);
			door_bas.graphics.lineTo(98*i, -54);
			door_bas.graphics.lineTo(0, -54);
			door_bas.graphics.lineTo(0, 54);
			door_bas.graphics.endFill;
		var handle = $.createShape({lifeTime:life, parent:door});
			handle.graphics.beginFill(c);
			handle.graphics.drawRect(78*i-4, -4, 8, 8);
			handle.graphics.endFill;
		}, delay);
	}
function crtRoom(delay, life, par_left, par_right, mot_left, mot_right){
	var a1 = -190;
	var a2 = 190;
	var b0 = -88;
	var b1 = 88;
	var a0 = -284;
	var a3 = 284;
	var room_left = $.createCanvas({lifeTime:life, parent:par_left});
	var room_right = $.createCanvas({lifeTime:life, parent:par_right});
	crtTrapezium(a0, 140, a1, b1, a1, b0, a0, -140, delay, life, 0xBBBBBB, 1, room_left);//左
	crtTrapezium(a2, b1, a3, 140, a3, -140, a2, b0, delay, life, 0x777777, 1, room_right);//右
	crtTrapezium(a1, b0, 0, b0, 0, -140, a0, -140, delay, life, 0xFFFFFF, 1, room_left);//左上
	crtTrapezium(a0, 140, 0, 140, 0, b1, a1, b1, delay, life, 0xFFFFFF, 1, room_left);//左下
	crtTrapezium(0, b0, a2, b0, a3, -140, 0, -140, delay, life, 0xFFFFFF, 1, room_right);//右上
	crtTrapezium(0, 140, a3, 140, a2, b1, 0, b1, delay, life, 0xFFFFFF, 1, room_right);//右下
	crtWall(delay, life, "left", room_left);//左中
	crtWall(delay, life, "right", room_right);//右中
	crtDoor(delay, life, "left", room_left, mot_left);//左中门
	crtDoor(delay, life, "right", room_right, mot_right);//右中门
	}
function crtPeople(x_in, y_in, delay, life, size, cl, par, mot){
	//160*200
	timer(function(){
		var people = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
			people.graphics.beginFill(cl);
			people.graphics.drawCircle(10*size, -79*size, 21*size);
			people.graphics.moveTo(0, -50*size);
			people.graphics.lineTo(-40*size, -50*size);
			people.graphics.lineTo(-80*size, -10*size);
			people.graphics.lineTo(-63*size, 7*size);
			people.graphics.lineTo(-32*size, -26*size);
			people.graphics.lineTo(-22*size, -26*size);
			people.graphics.lineTo(-40*size, 20*size);
			people.graphics.lineTo(-40*size, 50*size);
			people.graphics.lineTo(-80*size, 50*size);
			people.graphics.lineTo(-80*size, 75*size);
			people.graphics.lineTo(-11*size, 75*size);
			people.graphics.lineTo(-11*size, 35*size);
			people.graphics.lineTo(49*size, 100*size);
			people.graphics.lineTo(70*size, 78*size);
			people.graphics.lineTo(15*size, 20*size);
			people.graphics.lineTo(25*size, -14*size);
			people.graphics.lineTo(45*size, 10*size);
			people.graphics.lineTo(80*size, 10*size);
			people.graphics.lineTo(80*size, -10*size);
			people.graphics.lineTo(65*size, -10*size);
			people.graphics.lineTo(30*size, -50*size);
			people.graphics.lineTo(0, -50*size);
			people.graphics.endFill;
		people.rotationY = 180;
		people.rotationZ = 165;
		}, delay);
	}
function crtPhone(x_in, y_in, delay, life, par){
	//200*400
	timer(function(){
		var phone = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par});
			phone.graphics.beginFill(0x000000);
			phone.graphics.drawRoundRect(-100, -200, 200, 400, 30, 30);
			phone.graphics.drawRect(-90, -160, 180, 300);
			phone.graphics.endFill;
		var button = $.createShape({x:x_in, y:y_in+170, lifeTime:life, parent:par});
			button.graphics.lineStyle(2, 0xFFFFFF);
			button.graphics.drawCircle(0, 0, 15);
			button.graphics.endFill;
		},delay);
	}

function lrc15_1(txt, delay, life, par){
	timer(function(){
		var can = $.createCanvas({parent:par, lifeTime:life, motionGroup:[{alpha:{fromValue:0.4,toValue:1,lifeTime:0.05}}, {alpha:{fromValue:1,toValue:0.4,lifeTime:0.05, startDelay:life*1000-100}}]});
		var lrc = $.createComment(txt, {x:-60, y:-64, color:0x000000, fontsize:120, parent:can, lifeTime:life});
			lrc.filters = null;
		i = 0;
		t = 50*life;
		interval(function(){
			s_size = 1 - (i-t/2)*(i-t/2)*(i-t/2)/t/t/t*2;
			can.scaleX = s_size;
			can.scaleY = s_size;
			i++;
			}, 20, t);
		}, delay);
	}
function lrc15_2(txt, x_in, y_in, delay, life, mlife, par){
	timer(function(){
		var i = 0;
		var long = txt.length;
		interval(function(){
			sub = txt.substring(i,i+1);
			lrc = $.createComment(sub,{x:x_in+24*i, y:y_in, color:0x000000, fontsize:24, parent:par, lifeTime:life});
			lrc.filters = null;
			i++;
			}, mlife/(long+1), long);
		}, delay);
	}

timer(function(){
	Plife = 4.8;
	var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
	var basb = $.createCanvas({parent:bas, lifeTime:totalLife});
	var basr = $.createCanvas({parent:bas, lifeTime:Plife, motion:{y:{fromValue:0, toValue:300, lifeTime:0.1, startDelay:4000}}});
	var basw = $.createCanvas({parent:basr, lifeTime:Plife});
	var basrl = $.createCanvas({parent:basr, lifeTime:Plife, motion:{x:{fromValue:-300, toValue:0, lifeTime:0.3, easing:"Exponential"}}});
	var basrr = $.createCanvas({parent:basr, lifeTime:Plife, motion:{x:{fromValue:300, toValue:0, lifeTime:0.3, easing:"Exponential"}}});
	var basl = $.createCanvas({parent:bas, lifeTime:Plife});
	crtBackgroud(0xEEEEEE, 300, totalLife, basb);

	var lrc = $.createComment("世界",{x:-125, y:0, color:0x000000, parent:basw, lifeTime:Plife, fontsize:36, motionGroup:[{y:{fromValue:-300, toValue:-105, lifeTime:2.3}}, {y:{fromValue:-105,toValue:-45, lifeTime:0.1, easing:"Exponential"}}, {rotationZ:{fromValue:15, toValue:25, lifeTime:1.7}, x:{fromValue:-125, toValue:-120, lifeTime:1.7}, y:{fromValue:-45, toValue:-20, lifeTime:1.7}}]});
		lrc.rotationZ = 15;
		lrc.filters = null;
	crtPeople(100, 5, 3300, 2, 0.4, 0x000000, basw, [{y:{fromValue:-50,toValue:0, lifeTime:0.1, easing:"Exponential"}}, {y:{fromValue:0, toValue:10, lifeTime:1}}]);
	crtRoom(0, Plife, basrl, basrr, [{rotationY:{fromValue:0,toValue:-90,lifeTime:0.7}}], [{rotationY:{fromValue:0,toValue:90,lifeTime:0.7, startDelay:700}}]);
	timer(function(){
		lrc = $.createComment("h o p に",{y:-135, color:0x000000, parent:basl, lifeTime:0.7, fontsize:36, motionGroup:[{x:{fromValue:-300,toValue:-180,lifeTime:0.1}, alpha:{fromValue:0,toValue:1,lifeTime:0.1}}, {x:{fromValue:-180,toValue:-160,lifeTime:0.4}}, {x:{fromValue:-160,toValue:-150,lifeTime:0.2}, alpha:{fromValue:1,toValue:0,lifeTime:0.2}}]});
		lrc.filters = null;
		}, 200);
	timer(function(){
		lrc = $.createComment("sense を",{y:90, color:0x000000, parent:basl, lifeTime:0.7, fontsize:36, motionGroup:[{x:{fromValue:155,toValue:35,lifeTime:0.1}, alpha:{fromValue:0,toValue:1,lifeTime:0.1}}, {x:{fromValue:35,toValue:15,lifeTime:0.4}}, {x:{fromValue:15,toValue:5,lifeTime:0.2}, alpha:{fromValue:1,toValue:0,lifeTime:0.2}}]});
			lrc.filters = null;
		}, 600);
	lrc15_1("歌", 1400, 0.4, bas);
	lrc15_1("お", 1800, 0.2, bas);
	lrc15_1("う", 2000, 0.2, bas);
	lrc15_1("か", 2200, 0.2, bas);
	}, 300);
timer(function(){
	Plife = 1.9;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	var can = $.createCanvas({parent:bas, lifeTime:Plife, motionGroup:[{y:{fromValue:-300,toValue:0, lifeTime:0.1}}, {y:{fromValue:0,toValue:20, lifeTime:1.7}}]});
	var canw = $.createCanvas({parent:can, lifeTime:Plife, motion:{y:{fromValue:0, toValue:10, life:1.7}, x:{fromValue:0, toValue:10, life:1.7}}});
	crtPeople(-45, -50, 0, Plife, 1.5, 0x000000, can, []);
	txt = "世界俯いちゃう前に";
		for(i = 0; i &lt; txt.length; i++){
			sub = txt.substring(i,i+1);
			lrc = $.createComment(sub,{x:90+i*10+Utils.rand(-10,10), y:-140+i*25+Utils.rand(-5,5), color:0x000000, parent:canw, lifeTime:2.0, fontsize:24});
			lrc.rotationZ = 20+Utils.rand(-15,15);
			lrc.filters = null;
			}			
	}, 4300);
timer(function(){
	Plife = 7;
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});
	var phone = $.createCanvas({x:10, y:300, parent:bas, lifeTime:Plife, motionGroup:[{rotationZ:{fromValue:60,toValue:-15,lifeTime:0.2}}, {rotationZ:{fromValue:-15,toValue:-20,lifeTime:Plife-0.2}}]});
	var phoneb = $.createCanvas({y:-300, parent:phone, lifeTime:Plife});
	var phonew = $.createCanvas({y:-300, parent:phone, lifeTime:Plife, motion:{x:{fromValue:-30,toValue:200,lifeTime:0.4, startDelay:2100, easing:"Back"}}});
	var phonewl = $.createCanvas({parent:phonew, lifeTime:Plife, motionGroup:[{alpha:{fromValue:0, lifeTime:0.5}}, {alpha:{fromValue:1}}]});
	var phonet = $.createCanvas({y:-300, parent:phone, lifeTime:Plife});
	crtPhone(0, -330, 0, Plife, phone);
	var phone_groud = $.createShape({lifeTime:Plife, parent:phoneb});
		phone_groud.graphics.beginFill(0xFFFFFF);
		phone_groud.graphics.drawRect(-99, -230, 195, 500);
		phone_groud.graphics.beginFill(0xEEEEEE);
		phone_groud.graphics.drawRect(96, -230, 250, 500);
		phone_groud.graphics.endFill;
	var phone_mask_right = $.createShape({lifeTime:Plife, parent:phonet});
		phone_mask_right.graphics.beginFill(0xEEEEEE);
		phone_mask_right.graphics.drawRect(98, -230, 400, 500);
		phone_mask_right.graphics.endFill;
	var phone_mask_left = $.createShape({lifeTime:Plife, parent:phonet, motionGroup:[{alpha:{fromValue:0, lifeTime:0.4}}, {alpha:{fromValue:1}}]});
		phone_mask_left.graphics.beginFill(0xEEEEEE);
		phone_mask_left.graphics.drawRect(-498, -230, 400, 500);
		phone_mask_left.graphics.endFill;
	var wave_right = $.createShape({parent:phonew, lifeTime:5.6});
		wave_right.graphics.lineStyle(5, 0x000000);
		wave_right.graphics.moveTo(-60, 70);
		wave_right.graphics.lineTo(60, 70);
		wave_right.graphics.lineTo(80, -40);
		wave_right.graphics.lineTo(100, 100);
		wave_right.graphics.lineTo(110, 70);
		wave_right.graphics.lineTo(240, 70);
		wave_right.graphics.endFill;
	var wave_left = $.createShape({parent:phonewl, lifeTime:5.6});
		wave_left.graphics.lineStyle(5, 0x000000);
		wave_left.graphics.moveTo(-350, 70);
		wave_left.graphics.lineTo(-160, 70);
		wave_left.graphics.lineTo(-150, 10);
		wave_left.graphics.lineTo(-130, 90);
		wave_left.graphics.lineTo(-120, 70);
		wave_left.graphics.lineTo(-55, 70);
		wave_left.graphics.endFill;
	lrc15_2("キュッと", -50, -125, 0, 5.6, 0.5, phonew);
	lrc15_2("しちゃった", -50, -85, 500, 5.1, 0.8, phonew);
	lrc15_2("心の音を", -50, -45, 1300, 4.6, 0.8, phonew);
	txt = "どうぞ";
	for(i = 0; i &lt; 3; i++){
		sub = txt.substring(i,i+1);
		lrc = $.createComment(sub,{x:-250, y:-125+i*55, color:0x000000, fontsize:48, parent:phonewl, lifeTime:5.6});
		lrc.filters = null;
		}
	lrc = $.createComment("まだ",{x:40, y:-80, color:0x000000, fontsize:48, parent:bas, lifeTime:Plife, motion:{y:{fromValue:-200,toValue:-80,lifeTime:0.3, startDelay:3200, easing:"Exponential"}}});
		lrc.filters = null;
	lrc = $.createComment("まだ",{x:240, y:-80, color:0x000000, fontsize:48, parent:bas, lifeTime:Plife, motion:{x:{fromValue:240,toValue:40,lifeTime:0.6, startDelay:3900, easing:"Exponential"}}});
		lrc.filters = null;
	lrc = $.createComment("忘れないわ",{x:260, y:-30, color:0x000000, fontsize:30, parent:bas, lifeTime:Plife, motion:{x:{fromValue:260, toValue:50, lifeTime:0.6, startDelay:3900, easing:"Exponential"}}});
		lrc.filters = null;
	}, 6000);


crtMask(0);
crtlryic("在 pop 中唱出品味吧", 154.3, 156.6);
crtlryic("在这个世界，低下头之前", 156.6, 159.9);
crtlryic("请发出让人心头一紧的心跳声吧", 159.9, 163.1);
crtlryic("想忘记还久得很啊", 163.1, 165.5);
</d>
<d p="165.10000610352,8,25,16777215,1440123733,2,0823e18c,1132370921">//165.1		165.3(-0.2)
var totalLife = 8.7;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}
function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}
function crtlryic(txt, delay, life){
	timer(function(){
		$.createComment(txt,{x:-230, y:145, color:0xFFFFFF, lifeTime:life-delay-0.02, fontsize:20, parent:edge});
		}, (delay-165.3)*1000);
	}

function crtCloud(x_in, y_in, delay, life, size, par){
	//110*60
	var cloud = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life, motion:{x:{fromValue:x_in, toValue:x_in-20*size, lifeTime:life}}});
		timer(function(){
			var s1 = $.createShape({parent:cloud, lifeTime:life});
				s1.graphics.beginFill(0xFFFFFF);
				s1.graphics.drawCircle(0, 0, 30);
				s1.graphics.endFill;
			var s2 = $.createShape({parent:cloud, lifeTime:life});
				s2.graphics.beginFill(0xFFFFFF);
				s2.graphics.drawCircle(-25, 10, 20);
				s2.graphics.endFill;
			var s3 = $.createShape({parent:cloud, lifeTime:life});
				s3.graphics.beginFill(0xFFFFFF);
				s3.graphics.drawEllipse(13, 0, 35, 20);
				s3.graphics.endFill;
			cloud.scaleX = size;
			cloud.scaleY = size;
		}, delay);
	}
function crtBars(delay, life, par){
	timer(function(){
		var bar = $.createShape({parent:par, lifeTime:life});
		bar.graphics.lineStyle(8, 0);
		bar.graphics.moveTo(-240, 20);
		bar.graphics.lineTo(240, 20);
		bar.graphics.lineStyle(5, 0);
		for(i = 0; i &lt; 24; i++){
			bar.graphics.moveTo(-230+20*i, 20);
			bar.graphics.lineTo(-230+20*i, 90);
			}
		bar.graphics.endFill;
		}, delay);
	}
function crtBuilding(x_in, y_in, delay, life, cl, w_in, h_in, win_x, win_y, win_s, win_bew, par, mot){
	timer(function(){
		var building = $.createCanvas({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
		var bas = $.createShape({lifeTime:life, parent:building});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-w_in/2, -h_in/2, w_in, h_in);
			bas.graphics.endFill;
		for(i = 0; i &lt; win_y; i++){
			for(j = 0; j&lt; win_x; j++){
					var window = $.createShape({x:-(win_x-2*j-1)/2*(win_bew+win_s), y:(w_in-(win_x*(win_bew+win_s)-win_bew))*(i+2)/2+win_s*i-h_in/2, lifeTime:life, parent:building});
					window.graphics.beginFill(0xFFFFFF);
					window.graphics.drawRect(-win_s/2, -win_s/2, win_s, win_s);
					window.graphics.endFill;
				}
			}
		}, delay);
	}
function crtBuild16(x_in, cl, delay, life, mot, size, par){
	//300*145,描点底部中央
		timer(function(){
		var can = $.createCanvas({x:x_in, parent:par, lifeTime:life, motionGroup:mot});
		var allbuilding = $.createCanvas({parent:can, lifeTime:life});
		if(cl &lt; 0x333333) i = 0;
		else i = 1;
			crtBuilding(-35, -35, 0, life, cl-0x242424*i, 120, 70, 5, 2, 14, 8, allbuilding, []);
			crtBuilding(-105, -65, 0, life, cl-0x181818*i, 90, 130, 4, 5, 14, 6, allbuilding, []);
			crtBuilding(95, -50, 0, life, cl-0x0C0C0C*i, 110, 100, 4, 3, 16, 8, allbuilding, []);
			crtBuilding(20, -75, 0, life, cl, 60, 150, 2, 5, 18, 6, allbuilding, []);
			var groud = $.createShape({parent:can, lifeTime:life});
				groud.graphics.beginFill(cl);
				groud.graphics.drawRect(-150, -10, 300, 600);
				groud.graphics.endFill;
			can.scaleX = size;
			can.scaleY = size;
		}, delay);
	}
function crtPeople(x_in, y_in, delay, life, size, cl, par, mot){
	//160*200
	timer(function(){
		var people = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
			people.graphics.beginFill(cl);
			people.graphics.drawCircle(10*size, -79*size, 21*size);
			people.graphics.moveTo(0, -50*size);
			people.graphics.lineTo(-40*size, -50*size);
			people.graphics.lineTo(-80*size, -10*size);
			people.graphics.lineTo(-63*size, 7*size);
			people.graphics.lineTo(-32*size, -26*size);
			people.graphics.lineTo(-22*size, -26*size);
			people.graphics.lineTo(-40*size, 20*size);
			people.graphics.lineTo(-40*size, 50*size);
			people.graphics.lineTo(-80*size, 50*size);
			people.graphics.lineTo(-80*size, 75*size);
			people.graphics.lineTo(-11*size, 75*size);
			people.graphics.lineTo(-11*size, 35*size);
			people.graphics.lineTo(49*size, 100*size);
			people.graphics.lineTo(70*size, 78*size);
			people.graphics.lineTo(15*size, 20*size);
			people.graphics.lineTo(25*size, -14*size);
			people.graphics.lineTo(45*size, 10*size);
			people.graphics.lineTo(80*size, 10*size);
			people.graphics.lineTo(80*size, -10*size);
			people.graphics.lineTo(65*size, -10*size);
			people.graphics.lineTo(30*size, -50*size);
			people.graphics.lineTo(0, -50*size);
			people.graphics.endFill;
		}, delay);
	}

function crtlrc16(txt, x_in, y_in, delay, life, par){
	timer(function(){
		var can = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life, motionGroup:[{alpha:{fromValue:0, toValue:1, lifeTime:life/3}}, {alpha:{fromValue:1, toValue:0, lifeTime:life/3, startDelay:life/3*1000}}]});
		var lrc = $.createComment(txt,{color:0x000000, parent:can, fontsize:24, lifeTime:life, motion:{x:{fromValue:20, toValue:-20, easing:"Sine"}}});
			lrc.filters = null;
		}, delay);
	}

timer(function(){
	Plife = 3;
	var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
	var bast = $.createCanvas({parent:basic, lifeTime:totalLife});
	var msk = $.createShape({x:0, y:0, lifeTime:Plife, parent:bast, motionGroup:[{alpha:{fromValue:0.8, toValue:1, lifeTime:0.2}}, {alpha:{fromValue:1, toValue:0, lifeTime:3}}]});
		msk.graphics.beginFill(0xFFFFFF);
		msk.graphics.drawEllipse(-120, -80, 240, 160);
		msk.graphics.endFill;
		msk.filters = [$.createGlowFilter(0xFFFFFF, 0.5, 64, 32, 2, 6, false, false), $.createBlurFilter(128, 64)];
	interval(function(){
			msk.scaleX += 0.8;
			msk.scaleY += 0.8;
		}, 20, 10);
	timer(function(){
		Plife = 4.8;
		var basb = $.createCanvas({parent:bas, lifeTime:totalLife});
		var basbl = $.createCanvas({parent:bas, lifeTime:totalLife});
		var basgt = $.createCanvas({parent:bas, lifeTime:totalLife});
		var basg = $.createCanvas({y:30, parent:basgt, lifeTime:totalLife, motion:{y:{fromValue:0, toValue:100, lifeTime:0.3, startDelay:2700, easing:"Exponential"}}});
		crtBackgroud(0xDDDDDD, 0, totalLife, basb);
		var clouds = $.createCanvas({parent:bas, lifeTime:5.6, motion:{y:{fromValue:0, toValue:-250, lifeTime:4, startDelay:3400, easing:"Exponential"}}});
			crtCloud(-125, -85, 0, 5.6, 1, clouds);
			crtCloud(-185, -30, 0, 5.6, 0.7, clouds);
			crtCloud(-25, -55, 0, 5.6, 0.7, clouds);
			crtCloud(130, -50, 0, 5.6, 1.1, clouds);
			crtCloud(35, -105, 0, 5.6, 0.8, clouds);
			crtCloud(200, -75, 0, 5.6, 0.5, clouds);
		var groud = $.createShape({parent:basg, lifeTime:5.6});
			groud.graphics.beginFill(0x444444);
			groud.graphics.drawRect(-240, 75, 480, 100);
			groud.graphics.endFill;
		var groud2 = $.createShape({parent:bas, lifeTime:5.6, motionGroup:[{y:{fromValue:30, toValue:-30, lifeTime:0.2, startDelay:3300, easing:"Exponential"}}, {y:{fromValue:-30, toValue:0, lifeTime:2.2, startDelay:200}}]});
			groud2.graphics.beginFill(0x444444);
			groud2.graphics.drawRect(-240, 140, 480, 100);
			groud2.graphics.endFill;
		crtBars(0, 2.95, basg);
		interval(function(){
			basgt.scaleX += 0.01;
			basgt.scaleY += 0.01;
		}, 20, 135);
		crtlrc16("なんて綺麗な眺めなんでしょうか！", -195, -80, 0, 3.2, clouds);
		crtlrc16("こ こ か ら 見 え る 風 景", -175, -80, 3200, 2.4, clouds);
		grayMotion = [{y:{fromValue:370,toValue:300,lifeTime:0.1, easing:"Exponential"}}, {y:{fromValue:300,toValue:120,lifeTime:2.1}}, {y:{fromValue:120,toValue:80,lifeTime:3.5}}];
		crtBuild16(-125, 0x888888, 3400, 5.8, grayMotion, 1, basbl);
		crtBuild16(140, 0x888888, 3400, 5.8, grayMotion, 1, basbl);
		}, 200);
	}, 0);
timer(function(){
	Plife = 4;
	var basw = $.createCanvas({parent:basic, lifeTime:Plife, motionGroup:[{y:{fromValue:-150,toValue:-120,lifeTime:0.2}}, {y:{fromValue:-120,toValue:-115,lifeTime:2.4}}, {y:{fromValue:-115,toValue:0,lifeTime:0.2}}]});
	var bas = $.createCanvas({parent:basic, lifeTime:Plife});

	crtPeople(-5, 10, 0, 3.4, 0.25, 0x000000, basw, [{rotationZ:{fromValue:30,toValue:60,lifeTime:0.1}}, {y:{fromValue:10, toValue:15, lifeTime:3.1}, rotationZ:{fromValue:60,toValue:80,lifeTime:3.1}}, {rotationZ:{fromValue:80,toValue:180,lifeTime:0.1}}]);

	lrc = $.createComment("きっと何一つ", {x:-190, color:0x000000, fontsize:24, parent:basw, lifeTime:3.4});
	lrc.filters = null;
	lrc = $.createComment("変わらないから", {x:35, color:0x000000, fontsize:24, parent:basw, lifeTime:3.4});
	lrc.filters = null;

	blackMotion = [{y:{fromValue:370,toValue:210,lifeTime:0.1}}, {y:{fromValue:210,toValue:125,lifeTime:2.4}}, {y:{fromValue:125,toValue:-170,lifeTime:0.2}}];
	crtBuild16(-410, 0x000000, 0, 4, blackMotion, 4/3, bas);
	crtBuild16(-20, 0x000000, 0, 4, blackMotion, 4/3, bas);
	crtBuild16(290, 0x000000, 0, 4, blackMotion, 4/3, bas);
	}, 5800);

crtMask(0);
crtlryic("这是何等美丽的景观啊！", 165.5, 168.7);
crtlryic("从这里看得见的风景", 168.7, 171.1);
crtlryic("一定也不会有什么改变", 171.1, 174.5);
</d>
<d p="173.80000305176,8,25,16777215,1440123742,2,0823e18c,1132371423">//173.8
var totalLife = 16.4;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}
function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}
function crtlryic(txt, delay, life){
	timer(function(){
		$.createComment(txt,{x:-230, y:145, color:0xFFFFFF, lifeTime:life-delay-0.02, fontsize:20, parent:edge});
		}, (delay-174.0)*1000);
	}

function crtTrapezium(x0, y0, x1, y1, x2, y2, x3, y3, delay, last, cl, al, par){
	timer(function(){
	var shp = $.createShape({lifeTime:last, parent:par});
		shp.graphics.beginFill(cl, al);
		shp.graphics.moveTo(x0, y0);
		shp.graphics.lineTo(x1, y1);
		shp.graphics.lineTo(x2, y2);
		shp.graphics.lineTo(x3, y3);
		shp.graphics.lineTo(x0, y0);
		shp.graphics.endFill;
		}, delay);
	}
function crtWall(delay, life, type, par){
	//186*176
	timer(function(){
		var c0, c1;
		switch(type){
			case "left": x0 = -190; c0 = 0x777777; c1 = 0xBBBBBB; break;
			case "right": x0 = 0; c0 = 0xBBBBBB; c1 = 0x777777; break;
		}
		var wall = $.createShape({x:x0, y:-88, parent:par, lifeTime:life});
			wall.graphics.beginFill(c0);
			wall.graphics.drawRect(0, 0, 190, 176);
			wall.graphics.lineStyle(3, c1);
			wall.graphics.drawRect(46, 34, 98, 108);
			wall.graphics.endFill;
		}, delay);
	}
function crtDoor(delay, life, type, par){
	//98*108描点在轴中央
	timer(function(){
		var c, i;
		switch(type){
			case "left":i = -1; c = 0xBBBBBB; break;
			case "right":i = 1; c = 0x777777; break;
		}
		var door = $.createShape({x:46*i, lifeTime:life, parent:par});
			door.graphics.lineStyle(3, c, 1);
			door.graphics.beginFill(0xFFFFFF);
			door.graphics.moveTo(0, 54);
			door.graphics.lineTo(98*i, 54);
			door.graphics.lineTo(98*i, -54);
			door.graphics.lineTo(0, -54);
			door.graphics.lineTo(0, 54);
			door.graphics.endFill;
		var handle = $.createShape({x:46*i, lifeTime:life, parent:par});
			handle.graphics.beginFill(c);
			handle.graphics.drawRect(78*i-4, -4, 8, 8);
			handle.graphics.endFill;
		}, delay);
	}
function crtRoom(delay, life, par_left, par_right){
	var a1 = -190;
	var a2 = 190;
	var b0 = -88;
	var b1 = 88;
	var a0 = -284;
	var a3 = 284;
	crtTrapezium(a0, 140, a1, b1, a1, b0, a0, -140, delay, life, 0xBBBBBB, 1, par_left);//左
	crtTrapezium(a2, b1, a3, 140, a3, -140, a2, b0, delay, life, 0x777777, 1, par_right);//右
	crtTrapezium(a1, b0, 0, b0, 0, -140, a0, -140, delay, life, 0xFFFFFF, 1, par_left);//左上
	crtTrapezium(a0, 140, 0, 140, 0, b1, a1, b1, delay, life, 0xFFFFFF, 1, par_left);//左下
	crtTrapezium(0, b0, a2, b0, a3, -140, 0, -140, delay, life, 0xFFFFFF, 1, par_right);//右上
	crtTrapezium(0, 140, a3, 140, a2, b1, 0, b1, delay, life, 0xFFFFFF, 1, par_right);//右下
	crtWall(delay, life, "left", par_left);//左中
	crtWall(delay, life, "right", par_right);//右中
	crtDoor(delay, life, "left", par_left);//左中门
	crtDoor(delay, life, "right", par_right);//右中门
	}
function crtPeople(x_in, y_in, delay, life, size, cl, par, mot, blank, rot){
	//160*200
	timer(function(){
		var people = $.createShape({x:x_in, y:y_in, lifeTime:life, parent:par, motionGroup:mot});
			if(blank != 1) people.graphics.beginFill(cl);
			if(blank == 1) people.graphics.lineStyle(10, cl);
			people.graphics.drawCircle(10*size, -79*size, 21*size);
			people.graphics.moveTo(0, -50*size);
			people.graphics.lineTo(-40*size, -50*size);
			people.graphics.lineTo(-80*size, -10*size);
			people.graphics.lineTo(-63*size, 7*size);
			people.graphics.lineTo(-32*size, -26*size);
			people.graphics.lineTo(-22*size, -26*size);
			people.graphics.lineTo(-40*size, 20*size);
			people.graphics.lineTo(-40*size, 50*size);
			people.graphics.lineTo(-80*size, 50*size);
			people.graphics.lineTo(-80*size, 75*size);
			people.graphics.lineTo(-11*size, 75*size);
			people.graphics.lineTo(-11*size, 35*size);
			people.graphics.lineTo(49*size, 100*size);
			people.graphics.lineTo(70*size, 78*size);
			people.graphics.lineTo(15*size, 20*size);
			people.graphics.lineTo(25*size, -14*size);
			people.graphics.lineTo(45*size, 10*size);
			people.graphics.lineTo(80*size, 10*size);
			people.graphics.lineTo(80*size, -10*size);
			people.graphics.lineTo(65*size, -10*size);
			people.graphics.lineTo(30*size, -50*size);
			people.graphics.lineTo(0, -50*size);
			people.graphics.endFill;
		people.rotationY = 180;
		if(rot != 1){
			people.rotationZ = 165;
			}
		}, delay);
	}
function crtBoold(times, par){
	i = 0;
	var boooo =$.createCanvas({x:3, y:3, parent:par, lifeTime:7, motion:{alpha:{fromValue:1,toValue:0, lifeTime:3, startDelay:4000}}});
	interval(function(){
		x0 = Utils.rand(-50, 50);
		y0 = Utils.rand(-50, 50);
		var boold = $.createComment("血", {color:0xFF0000, parent:boooo, fontsize:Utils.rand(12,36), lifeTime:7, motion:{x:{fromValue:x0, toValue:x0*1.2, lifeTime:4.4}, y:{fromValue:y0, toValue:y0*1.2, lifeTime:4.4}, alpha:{fromValue:0, toValue:1,lifeTime:1}}});
		boold.filters = null;
		boold.rotationZ = Utils.rand(0, 360);
		i++;
		}, 20, times);
	}
function crtWarningline(x_in, y_in, delay, life, rad, par, mot){
	timer(function(){
		var can = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life, motion:{rotationZ:{fromValue:rad}}});
		var line = $.createShape({parent:can, lifeTime:life, motionGroup:mot});
		line.graphics.lineStyle(3, 0x444444);
		line.graphics.beginFill(0xFFFFFF);
		line.graphics.drawRect(-300, -5, 600, 10);
		line.graphics.beginFill(0x444444);
		for(i = 0; i &lt; 5; i++){
			line.graphics.drawRect(-300+i*120, -5, 60, 9);
		}
		line.graphics.endFill;
		}, delay);
	}

function crtlrc16(txt, x_in, y_in, yyy, delay, life, par){
	var lrc = $.createCanvas({y:y_in, parent:par, lifeTime:life});
	timer(function(){
		lrc = $.createComment(txt,{x:x_in, parent:lrc, color:0xDD0000, lifeTime:life, fontsize:36, motionGroup:[{y:{fromValue:-250, toValue:-250+yyy, lifeTime:life/2}}, {y:{fromValue:-250+yyy, toValue:-250+yyy*2, lifeTime:life/2}, alpha:{fromValue:1, toValue:0, lifeTime:life/2}}]});
		lrc.filters = null;
		}, delay);
	}
function crtlrc17(txt, x_in, y_in, wx, r, t, delay, life, par){
	timer(function(){
		long = txt.length;
		var lrc = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life, motionGroup:[{alpha:{fromValue:0, toValue:1, lifeTime:life/3}}, {alpha:{fromValue:1, toValue:0, lifeTime:life/3*2}}]});
		var msk = $.createShape({parent:lrc, lifeTime:life});
			msk.graphics.lineStyle(t, 0xDD0000);
			msk.graphics.drawCircle(0, 0, r);
			msk.graphics.endFill;
		interval(function(){
			msk.scaleX += 0.02;
			msk.scaleY += 0.02;
		}, 20, 60);
		var lr = $.createComment(txt,{x:-wx, y:-18, color:0xFF0000, parent:lrc, fontsize:30, lifeTime:life});
		lr.filters = null;
		}, delay);
	}
function crtWaveTxt(txt, x_in, y_in, delay, life, mx, molife, cl, clw,  height, par){
	//left of wave 	50*60
	timer(function(){
		var can = $.createCanvas({y:y_in, parent:par, lifeTime:life, motion:{x:{fromValue:-500, toValue:0, lifeTime:0.2}}});
		var canb = $.createCanvas({parent:can, lifeTime:life});
		var canw = $.createCanvas({x:x_in, y:15, parent:can, lifeTime:life, motionGroup:[{x:{fromValue:x_in, toValue:x_in+mx, lifeTime:molife}}, {x:{fromValue:x_in+mx, toValue:x_in+600, lifeTime:0.2}}]});
		x_txt = -5-30*txt.length;
		ratio = x_txt/(x_txt+160)*255;
		var ground = $.createShape({parent:canb, lifeTime:life});
			ground.graphics.beginFill(0xFFFFFF-cl);
			ground.graphics.drawRect(-250, -60, 500, 140);
			ground.graphics.endFill;
		var back = $.createShape({parent:canw, lifeTime:life});
		var wave = $.createShape({parent:canw, lifeTime:life});
			wave.graphics.lineStyle(5, clw, 1, false, "normal", "round", "miter");
			wave.graphics.moveTo(x_txt/2, 0);
			wave.graphics.lineTo(0, 0);
			wave.graphics.lineTo(height/7*3, -height);
			wave.graphics.lineTo(height, height/7*5);
			wave.graphics.lineTo(height/7*9, 0);
			wave.graphics.lineTo(height/7*11, 0);
			back.graphics.endFill;
		lrc = $.createComment(txt,{x:x_txt, y:-30, color:cl, parent:canw, fontsize:24, lifeTime:life});
		lrc.filters = null;
		}, delay);
		return can;
	}

Plife = 10;
var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
var basb = $.createCanvas({parent:bas, lifeTime:totalLife});
var basr = $.createCanvas({parent:bas, lifeTime:totalLife});
var basrr = $.createCanvas({parent:basr, lifeTime:totalLife});
var basrl = $.createCanvas({parent:basr, lifeTime:totalLife});
var basr1 = $.createCanvas({x:-100, parent:basr, lifeTime:8, motion:{rotationY:{fromValue:-70, toValue:70, lifeTime:0.4, startDelay:7600}}});
var basr2 = $.createCanvas({x:100, parent:basr, lifeTime:8.3, motion:{rotationY:{fromValue:70, toValue:-70, lifeTime:0.4, startDelay:7900}}});
var basm = $.createCanvas({parent:bas, lifeTime:totalLife});
var bast = $.createCanvas({parent:bas, lifeTime:totalLife});
var bastw = $.createCanvas({parent:bas, lifeTime:totalLife});
crtBackgroud(0x000000, 0, totalLife, basb);
crtRoom(0, totalLife, basrl, basrr);

var lrc = $.createComment("one",{x:-40, y:-28, color:0x000000, parent:basr1, lifeTime:Plife, fontsize:48});
	lrc.filters = null;
var lrc = $.createComment("two",{x:-40, y:-28, color:0x000000, parent:basr2, lifeTime:Plife, fontsize:48});
	lrc.filters = null;
var ml = $.createShape({parent:basm, lifeTime:Plife, motion:{x:{fromValue:0, toValue:-300, lifeTime:0.4, startDelay:7500, easing:"Exponential"}}});
	ml.graphics.beginFill(0x000000);
	ml.graphics.drawRect(-250, -150, 251, 300);
	ml.graphics.endFill;
var mr = $.createShape({parent:basm, lifeTime:Plife, motion:{x:{fromValue:0, toValue:300, lifeTime:0.4, startDelay:7800, easing:"Exponential"}}});
	mr.graphics.beginFill(0x000000);
	mr.graphics.drawRect(0, -150, 251, 300);
	mr.graphics.endFill;

timer(function(){
	crtBoold(150, basm);
	crtPeople(3, 0, 0, 11, 0.5, 0x000000, bast, [{rotationZ:{fromValue:150}}]);
	crtlrc16("枯\nれ\nた", 185, 30, 170, 0, 2.6, bast);
	crtlrc16("地\n面\nを", 145, 0, 140, 0, 2.6, bast);
	crtlrc16("這\nう\nの", 105, -30, 120, 0, 2.6, bast);
	}, 0);
timer(function(){
	crtlrc17("hop", -150, -80, 25, 32, 2, 0, 2, bast);
	crtlrc17("stepで", -190, -10, 44, 48, 3, 500, 1.8, bast);
	crtlrc17("踊ろうか", -130, 60, 60, 68, 4, 1300, 1.0, bast);
	}, 2600);
timer(function(){
	crtlrc17("世界", 120, -60, 32, 36, 2, 0, 1.5, bast);
	crtlrc17("の", 160, -30, 18, 26, 2, 1000, 1.2, bast);
	crtlrc17("隅っこで", 140, 70, 58, 70, 4, 1600, 1.0, bast);
	var line = $.createShape({parent:basm, lifeTime:2.6, motion:{y:{fromValue:-300,toValue:0, lifeTime:1, startDelay:1600, easing:"Cubic"}}});
		line.graphics.lineStyle(4, 0xFFFFFF);
		line.graphics.moveTo(0, -150);
		line.graphics.lineTo(0, 150);
		line.graphics.endFill;
	}, 4900);

lineIn = [{x:{fromValue:-400, toValue:0, lifeTime:0.3, easing:"Exponential"}}];
timer(function(){
	var lr = $.createCanvas({parent:bast, lifeTime:6.9});
		lr.rotationZ = -15;
	crtWarningline(0, 15, 0, 6.9, 180, lr, lineIn);
	lrc = $.createComment("ちょっと", {y:-50, color:0x000000, fontsize:42, lifeTime:0.6, parent:lr, motionGroup:[{x:{fromValue:250,toValue:-40, lifeTime:0.1}}, {x:{fromValue:-40,toValue:-80,lifeTime:0.4}}, {x:{fromValue:-80,toValue:-390,lifeTime:0.1}}]});
	}, 8400);
timer(function(){
	var lr = $.createCanvas({parent:bast, lifeTime:6.4});
		lr.rotationZ = 10;
	crtWarningline(0, -35, 0, 6.4, 0, lr, lineIn);
	crtWarningline(0, 70, 0, 6.4, 0, lr, lineIn);
	lrc = $.createComment("クラッと", {y:-7, color:0x000000, fontsize:42, life:0.6, parent:lr, motionGroup:[{x:{fromValue:-390, toValue:-120, lifeTime:0.1}}, {x:{fromValue:-120,toValue:-80,lifeTime:0.4}}, {x:{fromValue:-80, toValue:250, lifeTime:0.1}}]});
	}, 9000);
timer(function(){
	crtWarningline(-80, 0, 0, 5.9, 60, bast, lineIn);
	crtWarningline(-90, 0, 0, 5.9, 135, bast, lineIn);
	crtWarningline(120, 0, 0, 5.9, 75, bast, lineIn);
	$.createComment("しそうになる", {x:-140, color:0x000000, fontsize:48, life:1, parent:bastw, motionGroup:[{y:{fromValue:-180, toValue:-45, lifeTime:0.1}}, {y:{fromValue:-45, toValue:-25, lifeTime:0.8}}, {y:{fromValue:-25, toValue:220, lifeTime:0.1}}]});
	}, 9600);

var can = $.createCanvas({parent:basic, lifeTime:totalLife, motion:{y:{fromValue:360,toValue:0,lifeTime:0.3, startDelay:10600, easing:"Exponential"}}});
var canb = $.createCanvas({parent:can, lifeTime:totalLife});
var canm = $.createCanvas({parent:can, lifeTime:totalLife});
var cant = $.createCanvas({parent:can, lifeTime:totalLife});
timer(function(){
	bas.filters=[$.createBlurFilter(16,16)];
	txt = "終末感を楽しんで";
	for(i = 0; i &lt; txt.length; i++){
		c = $.createCanvas({x:-18, y:10, parent:canb, lifeTime:life, motion:{rotationZ:{fromValue:10-(txt.length/2-i)*10, toValue:10-(txt.length/2-i)*30}, alpha:{fromValue:1, toValue:0, lifeTime:life/4, startDelay:life/4*3000}}});
		sub = txt.substring(i,i+1);
		lrc = $.createComment(sub,{x:-10, y:-90, color:0x000000, lifeTime:3.4, fontsize:24, parent:c});
		lrc.filters = null;
		}
	crtPeople(10, 210, 0, 4.9, 2.5, 0x000000, cant, [], 1, 1);
	crtPeople(10, 210, 0, 4.9, 2.5, 0x000000, canb, [], 0, 1);
	var white = $.createShape({parent:canm, lifeTime:4.9});
		white.graphics.beginFill(0xFFFFFF);
		white.graphics.drawCircle(-30, 28, 20);
		white.graphics.endFill;
	var black = $.createShape({parent:canm, lifeTime:4.9, motion:{y:{fromValue:23,toValue:15,lifeTime:2.4}}});
		black.graphics.beginFill(0x000000);
		black.graphics.drawCircle(-33, 5, 24);
		black.graphics.endFill;
	}, 10600);
timer(function(){
	crtWaveTxt("パッと", -170, 0, 100, 2.8, 40, 0.5, 0x000000, 0x444444, 35, canm);
	crtWaveTxt("フラッと", 30, 115, 600, 2.3, 40, 0.7, 0x000000, 0x444444, 28, canm);
	crtWaveTxt("消えちゃいそな", 0, -95, 1200, 1.7, 180, 0.9, 0x000000, 0x444444, 21, canm);
	}, 13800);
			
crtMask(0);
crtlryic("那么就在那干枯的地面上爬行", 174.0, 176.6);
crtlryic("要用 hop step 跳起舞吗", 176.6, 178.9);
crtlryic("在世界的小角落数起 1·2", 178.9, 182.2);
crtlryic("享受一下仿佛要晕了的末日感吧", 182.2, 187.8);
crtlryic("好像一口气就会消失掉了", 187.8, 190.3);</d>
<d p="190.19999694824,8,25,16777215,1440123752,2,0823e18c,1132371957">//190.2
var totalLife = 8.5;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}
function crtBackgroud(cl, delay, life, par){
	timer(function(){
		var bas = $.createShape({parent:par, lifeTime:life});
			bas.graphics.beginFill(cl);
			bas.graphics.drawRect(-300, -200, 600, 400);
			bas.graphics.endFill;
		},delay);
	}
function crtlryic(txt, delay, life){
	timer(function(){
		$.createComment(txt,{x:-230, y:145, color:0xFFFFFF, lifeTime:life-delay-0.02, fontsize:20, parent:edge});
		}, (delay-190.3)*1000);
	}

function crtSTitle(delay, life, par, dir){
	timer(function(){
		var tiltle = $.createCanvas({parent:par, lifeTime:life});
		var firsttitle = $.createComment("World's End",{x:-98, y:-73, color:0x000000, lifeTime:life, fontsize:15, parent:tiltle});
		firsttitle.font = "微软雅黑";
		firsttitle.filters = null;
		var lasttitle = $.createComment("Dancehall. ↓",{x:4, y:-73, color:0x000000, lifeTime:life, fontsize:15, parent:tiltle});
		lasttitle.font = "微软雅黑";
		lasttitle.filters = null;
		if(dir == 0) tiltle.rotationZ = 180;
		}, delay);
	}
function crtlrc18(txt, x_in, y_in, delay, life, par){
	timer(function(){
		var can = $.createCanvas({x:x_in+70, y:y_in+50, parent:par, lifeTime:life, motionGroup:[{alpha:{fromValue:0, toValue:0.8, lifeTime:1}}, {alpha:{fromValue:0.8, toValue:0.6, lifeTime:0.5}}]});
		var line = $.createShape({parent:can, lifeTime:life});
			line.graphics.lineStyle(5, 0);
			line.graphics.moveTo(-67, 10);
			line.graphics.lineTo(77, 5);
			line.graphics.moveTo(72, 13);
			line.graphics.lineTo(64, -46);
			line.graphics.moveTo(76, -36);
			line.graphics.lineTo(-70, -43);
			line.graphics.moveTo(-56, -50);
			line.graphics.lineTo(-63, 20);
			line.graphics.endFill;
		lrc = $.createComment(txt,{x:-60, y:-35, color:0x000000, parent:can, fontsize:30, lifeTime:life});
			lrc.filters = null;
		}, delay);
	}

var bas = $.createCanvas({parent:basic, lifeTime:totalLife});
var basb = $.createCanvas({parent:bas, lifeTime:totalLife});
var bast = $.createCanvas({parent:bas, lifeTime:totalLife});
timer(function(){
	crtBackgroud(0x000000, 0, 1.8, basb);
	var line = $.createShape({parent:bast, lifeTime:1.8});
		line.graphics.lineStyle(5, 0xFFFFFF);
		line.graphics.moveTo(-240, -85);
		line.graphics.lineTo(240, -85);
		line.graphics.endFill;
	lrc = $.createComment("次の瞬間を",{y:-130, color:0xFFFFFF, parent:bast, fontsize:36, lifeTime:1.8, motionGroup:[{x:{fromValue:-300, toValue:-120, lifeTime:0.15}}, {x:{fromValue:-120, toValue:-60, lifeTime:1.5}}, {x:{fromValue:60, toValue:240, lifeTime:0.15}}]});
		lrc.filters = null;
	size = 2.5;
	var people = $.createShape({x:10, y:210, lifeTime:1.8, parent:bast});
			people.graphics.lineStyle(10, 0xFFFFFF);
			people.graphics.drawCircle(10*size, -79*size, 21*size);
			people.graphics.moveTo(0, -50*size);
			people.graphics.lineTo(-40*size, -50*size);
			people.graphics.lineTo(-80*size, -10*size);
			people.graphics.lineTo(-63*size, 7*size);
			people.graphics.lineTo(-32*size, -26*size);
			people.graphics.lineTo(-22*size, -26*size);
			people.graphics.lineTo(-40*size, 20*size);
			people.graphics.lineTo(-40*size, 50*size);
			people.graphics.lineTo(-80*size, 50*size);
			people.graphics.lineTo(-80*size, 75*size);
			people.graphics.lineTo(-11*size, 75*size);
			people.graphics.lineTo(-11*size, 35*size);
			people.graphics.lineTo(49*size, 100*size);
			people.graphics.lineTo(70*size, 78*size);
			people.graphics.lineTo(15*size, 20*size);
			people.graphics.lineTo(25*size, -14*size);
			people.graphics.lineTo(45*size, 10*size);
			people.graphics.lineTo(80*size, 10*size);
			people.graphics.lineTo(80*size, -10*size);
			people.graphics.lineTo(65*size, -10*size);
			people.graphics.lineTo(30*size, -50*size);
			people.graphics.lineTo(0, -50*size);
			people.graphics.endFill;
		people.rotationY = 180;
	}, 0);
timer(function(){
	crtBackgroud(0xFFFFFF, 0, totalLife, basb);
	var can = $.createCanvas({parent:bast, lifeTime:totalLife, motion:{y:{fromValue:0, toValue:225, lifeTime:2.4, startDelay:3800, easing:"Sine"}}});
	var line = $.createShape({parent:can, lifeTime:totalLife});
			line.graphics.lineStyle(5, 0x000000);
			line.graphics.moveTo(-240, -85);
			line.graphics.lineTo(240, -85);
			line.graphics.endFill;
	var border = $.createShape({parent:can, lifeTime:totalLife});
			border.graphics.lineStyle(8, 0);
			border.graphics.moveTo(-130, 145);
			border.graphics.lineTo(-50, 68);
			border.graphics.lineTo(-70, -20);
			border.graphics.lineTo(4, -63);
			border.graphics.lineTo(63, -13);
			border.graphics.lineTo(37, 65);
			border.graphics.lineTo(130, 82);
			border.graphics.lineTo(177, 142);
			line.graphics.endFill;
	lrc = $.createComment("残そうか",{y:-130, color:0x000000, parent:bast, fontsize:36, lifeTime:1.3, motionGroup:[{x:{fromValue:-300,toValue:-115,lifeTime:0.15}}, {x:{fromValue:-115,toValue:-65,lifeTime:1}}, {x:{fromValue:-65,toValue:240,lifeTime:0.15}}]});
			lrc.filters = null;

	crtlrc18("さよなら", -235, -20, 1300, 5.1, can);
	crtlrc18("お元気で", 80, -50, 2800, 3.6, can);
	var canup = $.createCanvas({y:-215, parent:can, lifeTime:totalLife});
	crtSTitle(0, totalLife, canup, 0);
	crtSTitle(0, totalLife, canup, 1);
	var lrc = $.createComment("終わる世界に言う",{x:-195, y:-30, color:0x000000, parent:canup, fontsize:48, lifeTime:totalLife});
		lrc.filters = null;
	}, 1800);
timer(function(){
	var topBord = $.createShape({parent:bast, lifeTime:0.7, motion:{y:{fromValue:0,toValue:280,lifeTime:1.1, easing:"Exponential"}}});
		topBord.graphics.beginFill(0);
		topBord.graphics.drawRect(-250, -290, 500, 150);
		topBord.graphics.endFill;
	var bottomBord = $.createShape({parent:bast, lifeTime:0.6, motion:{y:{fromValue:0, toValue:-280,lifeTime:1.1, easing:"Exponential"}}});
		bottomBord.graphics.beginFill(0);
		bottomBord.graphics.drawRect(-250, 140, 500, 150);
		bottomBord.graphics.endFill;
	}, 8000);

crtMask(0);
crtlryic("那就将下个瞬间留住吧", 190.3, 193.4);
crtlryic("就此再见，请多保重。", 193.4, 195.9);
crtlryic("向这个终结的世界赠言", 195.9, 198.5);
</d>
<d p="198.89999389648,8,25,16777215,1440124650,2,0823e18c,1132421585">//198.9
var totalLife = 15.2;
var main_basic = $.createCanvas({x:$.width/2, y:$.height/2, lifeTime:totalLife});
var main_size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
	main_basic.scaleX = main_size;
	main_basic.scaleY = main_size;
var basic = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var edge = $.createCanvas({parent:main_basic, lifeTime:totalLife});
var originWidth = 480;
var originHeight = 360;
var lastWidth = 0;
var lastHeight = 0;

	$.root.addEventListener('enterFrame', function(){
	if ($.width != lastWidth || $.height != lastHeight){
		var size = Math.min($.width/$.root.scaleX/originWidth, $.height/$.root.scaleY/originHeight);
		main_basic.x = $.width/2;
		main_basic.y = $.height/2;
		main_basic.scaleX = size;
		main_basic.scaleY = size;
		lastWidth = $.width;
		lastHeight = $.height;
		}
	});

var a1 = -190;
var a2 = 190;
var b0 = -88;
var b1 = 88;
var a0 = -284;
var a3 = 284;
function crtTrapezium(x0, y0, x1, y1, x2, y2, x3, y3, delay, last, cl, al, par){
	timer(function(){
	var shp = $.createShape({lifeTime:last, parent:par});
		shp.graphics.beginFill(cl, al);
		shp.graphics.moveTo(x0, y0);
		shp.graphics.lineTo(x1, y1);
		shp.graphics.lineTo(x2, y2);
		shp.graphics.lineTo(x3, y3);
		shp.graphics.lineTo(x0, y0);
		shp.graphics.endFill;
		}, delay);
	}
function allChessboard(delay, last, cl, al, rep, par){
	timer(function(){
		var con = $.createCanvas({x:0, y:0, lifeTime:last*rep, parent:par});
		k = 1;
		for(i = 0; i &lt; rep; i++){
			k *= -1;
			for(j = 0; j &lt; 5; j++){
				t = k*(j%2*2-1);
				crtTrapezium(-23.7*(5-2*j)*2, -114, -23.7*(3-2*j)*2, -114, -(23.7+4.7*t)*(3-2*j)*2, -(114+26*t), -(23.7+4.7*t)*(5-2*j)*2, -(114+26*t), last*1000*i, last, cl, al, con);
				crtTrapezium(-23.7*(5-2*j)*2, 114, -23.7*(3-2*j)*2, 114, -(23.7+4.7*t)*(3-2*j)*2, (114+26*t), -(23.7+4.7*t)*(5-2*j)*2, (114+26*t), last*1000*i, last, cl, al, con);
				}
			for(j = 0; j &lt; 3; j++){
				t = k*(j%2*2-1);
				crtTrapezium(-237, -228*(3-2*j)/6, -237, -228*(1-2*j)/6, -(237-47*t), -(228-52*t)*(1-2*j)/6, -(237-47*t), -(228-52*t)*(3-2*j)/6, last*1000*i, last, cl, al, con);
				crtTrapezium(237, -228*(3-2*j)/6, 237, -228*(1-2*j)/6, (237-47*t), -(228-52*t)*(1-2*j)/6, (237-47*t), -(228-52*t)*(3-2*j)/6, last*1000*i, last, cl, al, con);
				}
			}
		},delay);
	}
function crtWarningline(x_in, y_in, delay, life, rad, par, mot){
	timer(function(){
		var can = $.createCanvas({x:x_in, y:y_in, parent:par, lifeTime:life, motion:{rotationZ:{fromValue:rad}}});
		var line = $.createShape({parent:can, lifeTime:life, motionGroup:mot});
		line.graphics.lineStyle(3, 0x444444);
		line.graphics.beginFill(0xFFFFFF);
		line.graphics.drawRect(-300, -5, 600, 10);
		line.graphics.beginFill(0x444444);
		for(i = 0; i &lt; 5; i++){
			line.graphics.drawRect(-300+i*120, -5, 60, 9);
		}
		line.graphics.endFill;
		}, delay);
	}
function crtRow(x_in, y_in, delay, life, thick, width, length, cl, rad, par){
	timer(function(){
		var row = $.createShape({x:x_in, y:y_in, parent:par, lifeTime:life, motion:{rotationZ:{fromValue:rad}}});
			row.graphics.lineStyle(thick*3/2, cl, 1, false, "normal", "none", "miter");
			row.graphics.moveTo(-length, 0);
			row.graphics.lineTo(-thick*0.5, 0);
			row.graphics.moveTo(-width, width);
			row.graphics.lineStyle(thick, cl, 1, false, "normal", "none", "miter");
			row.graphics.lineTo(0, 0);
			row.graphics.lineTo(-width, -width);
			row.graphics.endFill;
		}, delay);
	}
function crtSRow12(delay, life, dir, par, mot){
	timer(function(){
		var mcan = $.createCanvas({lifeTime:life, parent:par, motionGroup:mot});
		for(i=0 ;i &lt; 12; i++){
			var con = $.createCanvas({lifeTime:life, parent:mcan, motion:{rotationZ:{fromValue:30*i}}});
			var s = $.createShape({parent:con, lifeTime:life});
				s.graphics.lineStyle(2, 0x333333, 1, false, "normal", "none", "bevel");
				s.graphics.beginFill(0xFFFFFF);
				s.graphics.drawRect(134, -25, 60, 50);
				s.graphics.endFill;
			crtRow(164-18*dir, 0, 0, life, 12, 20, 40, 0x7777777, 90+90*dir, con);
			}
		}, delay);
	}
function crtPTitlt(txt, x_in, delay, life, par, type, cl){
	timer(function(){
		var title = $.createCanvas({x:0, y:0, parent:par, lifeTime:life});
			var t = $.createComment(txt,{x:x_in, y:-36, color:cl, fontsize:44, color:0xFFFFFF, parent:title, lifeTime:life});
			t.font = "微软雅黑";
		if(type == "in"){
			interval(function(){
				title.scaleX -= 0.005;
				title.scaleY -= 0.005;
				}, 20, life*50);
			}
		else if(type == "out"){
			title.rotationY = 180;
			title.scaleX = 0.9;
			title.scaleY = 0.9;
			interval(function(){
				title.scaleX += 0.005;
				title.scaleY += 0.005;
				}, 20, life*50);
			}
		}, delay);
	}

function crtMask(delay){
	timer(function(){
		var basic_mask = $.createShape({parent:edge, lifeTime:totalLife-delay});
			basic_mask.graphics.beginFill(0x000000);
			basic_mask.graphics.drawRect(-2000, -1500, 4000, 3000);
			basic_mask.graphics.drawRect(-240, -140, 480, 280);
			basic_mask.graphics.endFill;
			}, delay*1000);
		}

var bas = $.createCanvas({parent:basic, lifeTime:totalLife-3});
var basm = $.createCanvas({parent:basic, lifeTime:totalLife-3});
var bast = $.createCanvas({parent:basic, lifeTime:totalLife-3});
var basmt = $.createCanvas({parent:basic, lifeTime:totalLife-3});
var basw = $.createCanvas({parent:basic, lifeTime:totalLife-3});
var baswt = $.createCanvas({parent:basic, lifeTime:totalLife-3});

crtTrapezium(a1, b0, a2, b0, a3, -140, a0, -140, 0, 11.2, 0xFFFFFF, 1, bas);//上
crtTrapezium(a0, 140, a1, b1, a1, b0, a0, -140, 0, 11.2, 0xBBBBBB, 1, bas);//左
crtTrapezium(a2, b1, a3, 140, a3, -140, a2, b0, 0, 11.2, 0x777777, 1, bas);//右
crtTrapezium(a0, 140, a3, 140, a2, b1, a1, b1, 0, 11.2, 0xFFFFFF, 1, bas);//下
allChessboard(5600, 0.35, 0, 0.6, 16, bas);
lrc = $.createComment("World's End Dancehall", {x:-100, y:-12, color:0xFFFFFF, fontsize:18, parent:bas, lifeTime:5.6});
lrc.filters = null;

var ground = $.createShape({parent:basm, lifeTime:totalLife, motionGroup:[{alpha:{fromValue:1, lifeTime:1.1}}, {alpha:{fromValue:0.8, lifeTime:1.4}}, {alpha:{fromValue:0.6, lifeTime:1.4}}, {alpha:{fromValue:0.3, lifeTime:1.4}}, {alpha:{fromValue:0, lifeTime:0.8}}, {alpha:{fromValue:0.4, lifeTime:1.4}}, {alpha:{fromValue:0.7, lifeTime:1.4}}, {alpha:{fromValue:1, lifeTime:1.4}}]});
	ground.graphics.beginFill(0x000000);
	ground.graphics.drawRect(-300, -200, 600, 400);
	ground.graphics.endFill;
var ground = $.createShape({parent:basmt, lifeTime:totalLife, motionGroup:[{alpha:{fromValue:0.6, lifeTime:1.4}}, {alpha:{fromValue:0.3, lifeTime:1.4}},  {alpha:{fromValue:0, lifeTime:3.3}}, {alpha:{fromValue:0.2, lifeTime:1.4}}, {alpha:{fromValue:0.4, lifeTime:1.4}}, {alpha:{fromValue:0.6, lifeTime:1.4}}, {alpha:{fromValue:1, lifeTime:1.4}}]});
	ground.graphics.beginFill(0x000000);
	ground.graphics.drawRect(-300, -200, 600, 400);
	ground.graphics.endFill;

crtSRow12(0, 1.38, -1, bast, [{rotationZ:{fromValue:0, toValue:30, lifeTime:0.5, easing:"Back"}}]);
crtSRow12(1400, 1.38, -1, bast, [{rotationZ:{fromValue:0, toValue:30, lifeTime:0.5, easing:"Back"}}]);
crtSRow12(2800, 1.38, -1, bast, [{rotationZ:{fromValue:0, toValue:30, lifeTime:0.5, easing:"Back"}}]);
crtSRow12(4200, 1.38, -1, bast, [{rotationZ:{fromValue:0, toValue:30, lifeTime:0.5, easing:"Back"}}, {rotationZ:{fromValue:30, toValue:750, lifeTime:1.4, easing:"Circular"}}]);
crtSRow12(5600, 0.48, 1, bast, [{rotationZ:{fromValue:0, toValue:-50}}]);
crtSRow12(6100, 0.88, -1, bast, [{rotationZ:{fromValue:-50, toValue:40}}]);
crtSRow12(7000, 0.48, 1, bast, [{rotationZ:{fromValue:40, toValue:-10}}]);
crtSRow12(7500, 0.88, -1, bast, [{rotationZ:{fromValue:-10, toValue:80}}]);
crtSRow12(8400, 0.48, 1, bast, [{rotationZ:{fromValue:80, toValue:30}}]);
crtSRow12(8900, 0.88, -1, bast, [{rotationZ:{fromValue:30, toValue:120}}]);
crtSRow12(9800, 0.48, 1, bast, [{rotationZ:{fromValue:0, toValue:-50}}]);
crtSRow12(10300, 0.88, -1, bast, [{rotationZ:{fromValue:-50, toValue:40}}]);

crtWarningline(0, 15, 0, 6.9, 165, basw, [{y:{fromValue:0, toValue:3, lifeTime:0.3, easing:"Elastic", startDelay:500}}, {x:{fromValue:0, toValue:600, lifeTime:0.3, easing:"Exponential"}}]);
crtWarningline(0, -35, 0, 6.4, 10, basw, [{y:{fromValue:0, toValue:3, lifeTime:0.3, easing:"Elastic", startDelay:1900}}, {x:{fromValue:0, toValue:600, lifeTime:0.3, easing:"Exponential"}}]);
crtWarningline(0, 70, 0, 6.4, 10, basw, [{y:{fromValue:0, toValue:3, lifeTime:0.3, easing:"Elastic", startDelay:1900}}, {x:{fromValue:0, toValue:600, lifeTime:0.3, easing:"Exponential"}}]);
crtWarningline(-80, 0, 0, 5.9, 60, basw, [{y:{fromValue:0, toValue:3, lifeTime:0.3, easing:"Elastic", startDelay:4700}}, {x:{fromValue:0, toValue:600, lifeTime:0.3, easing:"Exponential"}}]);
crtWarningline(-90, 0, 0, 5.9, 135, basw, [{y:{fromValue:0, toValue:3, lifeTime:0.3, easing:"Elastic", startDelay:4700}}, {x:{fromValue:0, toValue:600, lifeTime:0.3, easing:"Exponential"}}]);
crtWarningline(120, 0, 0, 5.9, 75, basw, [{y:{fromValue:0, toValue:3, lifeTime:0.3, easing:"Elastic", startDelay:3300}}, {x:{fromValue:0, toValue:600, lifeTime:0.3, easing:"Exponential"}}]);

crtPTitlt("WORLD'S", -105, 5600, 0.45, baswt, "in", 0xFFFFFF);
crtPTitlt("WORLD'S", -105, 6100, 0.85, baswt, "out", 0xFFFFFF);
crtPTitlt("E N D", -59, 7000, 0.45, baswt, "in", 0xFEFFFE);
crtPTitlt("E N D", -59, 7500, 0.84, baswt, "out", 0xFFFEFE);
crtPTitlt("DANCE", -81, 8400, 0.45, baswt, "in", 0xFDFFFD);
crtPTitlt("DANCE", -81, 8900, 0.85, baswt, "out", 0xFFFDFD);
crtPTitlt("HALL", -62, 9800, 0.45, baswt, "in", 0xFCFFFC);
crtPTitlt("HELL", -62, 10300, 0.9, baswt, "out", 0xFFFCFC);

var topBord = $.createShape({parent:baswt, lifeTime:0.3, motion:{y:{fromValue:140,toValue:0,lifeTime:0.5, easing:"Exponential"}}});
	topBord.graphics.beginFill(0x000000);
	topBord.graphics.drawRect(-250, -290, 500, 150);
	topBord.graphics.endFill;
var bottomBord = $.createShape({parent:baswt, lifeTime:0.3, motion:{y:{fromValue:-140, toValue:0,lifeTime:0.5, easing:"Exponential"}}});
	bottomBord.graphics.beginFill(0x000000);
	bottomBord.graphics.drawRect(-250, 140, 500, 150);
	bottomBord.graphics.endFill;

var exitsign = $.createCanvas({alpha:0, lifeTime:totalLife, parent:basic, motionGroup:[{alpha:{fromValue:0,toValue:1,lifeTime:1, startDelay:12200}}, {alpha:{fromValue:1,toValue:0,lifeTime:1}}]});
	var buttom = $.createShape({x:0, y:0, lifeTime:totalLife, parent:exitsign});
		buttom.graphics.beginFill(0xEE0000);
		buttom.graphics.lineStyle(3, 0xFFFFFF, 1, true, "normal", "square", "bevel");
		buttom.graphics.drawRoundRect(-65, -20, 130, 40, 10, 10);
		buttom.graphics.endFill;
		buttom.filters=[$.createGlowFilter(0xFF0000, 0.5, 50, 50)];
	var text = $.createComment("HELL", {x:3, y:-14, lifeTime:totalLife, color:0xFFFFFF, forntSize:26, parent:exitsign});
		text.filters = null;
	size = 0.15;
	var people = $.createShape({x:-15, y:0, lifeTime:totalLife, parent:exitsign});
		people.graphics.beginFill(0xFFFFFF);
			people.graphics.drawCircle(10*size, -79*size, 21*size);
			people.graphics.moveTo(0, -50*size);
			people.graphics.lineTo(-40*size, -50*size);
			people.graphics.lineTo(-80*size, -10*size);
			people.graphics.lineTo(-63*size, 7*size);
			people.graphics.lineTo(-32*size, -26*size);
			people.graphics.lineTo(-22*size, -26*size);
			people.graphics.lineTo(-40*size, 20*size);
			people.graphics.lineTo(-40*size, 50*size);
			people.graphics.lineTo(-80*size, 50*size);
			people.graphics.lineTo(-80*size, 75*size);
			people.graphics.lineTo(-11*size, 75*size);
			people.graphics.lineTo(-11*size, 35*size);
			people.graphics.lineTo(49*size, 100*size);
			people.graphics.lineTo(70*size, 78*size);
			people.graphics.lineTo(15*size, 20*size);
			people.graphics.lineTo(25*size, -14*size);
			people.graphics.lineTo(45*size, 10*size);
			people.graphics.lineTo(80*size, 10*size);
			people.graphics.lineTo(80*size, -10*size);
			people.graphics.lineTo(65*size, -10*size);
			people.graphics.lineTo(30*size, -50*size);
			people.graphics.lineTo(0, -50*size);
			people.graphics.endFill;
		people.graphics.endFill;
		people.rotationY = 180;
	var row = $.createShape({x:-55, y:0, lifeTime:totalLife, parent:exitsign});
		row.graphics.lineStyle(6, 0xFFFFFF, 1, false, "normal", "none", "bevel");
		row.graphics.moveTo(25, 0);
		row.graphics.lineTo(3, 0);
		row.graphics.moveTo(12, 12);
		row.graphics.lineStyle(4, 0xFFFFFF, 1, false, "normal", "none", "bevel");
		row.graphics.lineTo(0, 0);
		row.graphics.lineTo(12, -12);
		row.graphics.endFill;

crtMask(0);


	</d>
<d p="213.5,8,25,16777215,1440125701,2,0823e18c,1132482723">//213.5 循环模式on
Player.seek(0);
$.createComment("循环模式on", {});</d>
</i>
